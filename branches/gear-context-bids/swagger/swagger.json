{
  "swagger": "2.0",
  "info": {
    "version": "gear-context-bids/e3cc1e7",
    "title": "Flywheel"
  },
  "host": "dev.flywheel.io",
  "basePath": "/api",
  "schemes": [
    "https"
  ],
  "produces": [
    "application/json"
  ],
  "consumes": [
    "application/json"
  ],
  "tags": [
    {
      "name": "users",
      "description": "User operations"
    },
    {
      "name": "groups",
      "description": "Group operations"
    },
    {
      "name": "projects",
      "description": "Project operations"
    },
    {
      "name": "sessions",
      "description": "Session operations"
    },
    {
      "name": "acquisitions",
      "description": "Acquisition operations"
    },
    {
      "name": "analyses",
      "description": "Analysis operations"
    },
    {
      "name": "collections",
      "description": "Collection operations"
    },
    {
      "name": "files",
      "description": "File upload/download operations"
    },
    {
      "name": "dataexplorer",
      "description": "Search operations"
    },
    {
      "name": "devices",
      "description": "Device operations"
    },
    {
      "name": "modalities",
      "description": "Modality operations"
    },
    {
      "name": "gears",
      "description": "Gear operations"
    },
    {
      "name": "rules",
      "description": "Gear rule configuration"
    },
    {
      "name": "jobs",
      "description": "Job operations"
    },
    {
      "name": "reports",
      "description": "Site-wide reports"
    },
    {
      "name": "batch",
      "description": "Batch job operations"
    },
    {
      "name": "views",
      "description": "Data view operations"
    },
    {
      "name": "containers",
      "description": "Abstract container operations"
    },
    {
      "name": "site",
      "description": "Site level operations"
    },
    {
      "name": "default"
    }
  ],
  "paths": {
    "/login": {
      "post": {
        "summary": "Login",
        "description": "Scitran Authentication",
        "operationId": "login",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/auth-login-output"
                }
              ],
              "example": {
                "token": "MjeuawZcctfRdCOmx_C6oYXK4sLHd2Dhc_oZpkXPPkxHizhNgwFWcrrKGA49BEnK"
              }
            }
          }
        }
      }
    },
    "/logout": {
      "post": {
        "summary": "Log Out",
        "description": "Remove authtokens for user",
        "operationId": "logout",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/auth-logout-output"
                }
              ],
              "example": {
                "tokens_removed": 1
              }
            }
          }
        }
      }
    },
    "/auth/status": {
      "get": {
        "summary": "Get Login status",
        "description": "Get the current login status of the requestor",
        "operationId": "get_auth_status",
        "responses": {
          "200": {
            "description": "The current login status",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/auth-login-status"
                }
              ],
              "example": {
                "origin": {
                  "id": "5c08301bc036d9001ae424ef",
                  "type": "device"
                },
                "user_is_admin": true,
                "is_device": true,
                "roles": [
                  "site_admin"
                ]
              }
            }
          }
        }
      }
    },
    "/download": {
      "post": {
        "summary": "Create a download ticket",
        "description": "Use filters in the payload to exclude/include files.\nTo pass a single filter, each of its conditions should be satisfied.\nIf a file pass at least one filter, it is included in the targets.\n",
        "operationId": "create_download_ticket",
        "tags": [
          "files"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/download-ticket-with-summary"
                }
              ],
              "example": {
                "ticket": "579e97738120be2ada087feb",
                "file_cnt": 3,
                "size": 64523904
              }
            }
          }
        },
        "parameters": [
          {
            "name": "type",
            "in": "query",
            "type": "string",
            "description": "The download type, one of: bulk, classic or full. Default is classic."
          },
          {
            "name": "analyses",
            "in": "query",
            "type": "boolean",
            "description": "For \"full\" download, whether or not to include analyses. Default is false."
          },
          {
            "name": "metadata",
            "in": "query",
            "type": "boolean",
            "description": "For \"full\" download, whether or not to include metadata sidecars. Default is false."
          },
          {
            "name": "prefix",
            "in": "query",
            "type": "string",
            "description": "A string to customize the name of the download\nin the format <prefix>_<timestamp>.tar.\nDefaults to \"scitran\".\n"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "description": "Download files with tag 'incomplete' OR type 'dicom'",
            "schema": {
              "example": {
                "optional": true,
                "nodes": [
                  {
                    "level": "project",
                    "_id": "57abe1589e512c513d42cb83"
                  }
                ],
                "filters": [
                  {
                    "tags": {
                      "+": [
                        "incomplete"
                      ]
                    },
                    "types": {
                      "+": [
                        "dicom"
                      ]
                    }
                  }
                ]
              },
              "title": "Download",
              "type": "object",
              "properties": {
                "optional": {
                  "type": "boolean"
                },
                "nodes": {
                  "type": "array",
                  "minItems": 1,
                  "items": {
                    "$ref": "#/definitions/download-node"
                  }
                },
                "filters": {
                  "type": "array",
                  "minItems": 1,
                  "items": {
                    "$ref": "#/definitions/download-filter"
                  }
                }
              },
              "required": [
                "nodes"
              ],
              "additionalProperties": false,
              "description": "Specifies a set of files to download"
            }
          }
        ]
      },
      "get": {
        "summary": "Download files listed in the given ticket.",
        "description": "You can use POST to create a download ticket\nThe files listed in the ticket are put into a tar archive\n",
        "operationId": "download_ticket",
        "tags": [
          "files"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "required": true,
            "description": "ID of the download ticket"
          }
        ],
        "produces": [
          "application/octet-stream"
        ],
        "x-sdk-download-file-param": "dest_file",
        "responses": {
          "200": {
            "description": "The requested tarball download as a binary stream"
          },
          "400": {
            "description": "Ticket not for this source IP"
          },
          "404": {
            "description": "No such ticket"
          }
        }
      }
    },
    "/upload/label": {
      "post": {
        "summary": "Multipart form upload with N file fields, each with their desired filename.",
        "description": "### Default behavior:\n> For technical reasons, no form field names can be repeated. Instead, use\n  (file1, file2) and so forth.\n\n> A non-file form field called \"metadata\" is also required, which must be\n  a string containing JSON.\n\n> See ``api/schemas/input/labelupload.json`` for the format of this metadata.\n\n### Signed URL upload with ``ticket``\n> Upload a single file directly to the storage backend. The workflow is the following:\n\n  - Send a request with an empty ``?ticket=`` query parameter to get an upload ticket and URL\n  - Upload the file using a PUT request to the upload URL\n  - Once done, send a POST request to this endpoint with the upload ticket to finalize the upload.\n  The file will be placed into the DB via this POST request.\n",
        "operationId": "upload_by_label",
        "tags": [
          "files"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "example": [
                {
                  "origin": {
                    "type": "job",
                    "id": "58063f24e5dc5b001657a87f"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4789e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T15:26:35.701000+00:00",
                  "modality": null,
                  "size": 21804112,
                  "type": "None",
                  "info": {}
                },
                {
                  "origin": {
                    "type": "job",
                    "id": "58065fa7e5dc5b001457a882"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T17:45:17.776000+00:00",
                  "modality": null,
                  "info": {},
                  "type": "None",
                  "size": 21804112
                }
              ]
            }
          },
          "402": {
            "description": "Uploads must be from an authorized drone"
          }
        },
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "formData",
            "type": "string",
            "description": "Object encoded as a JSON string.\nIt is **required** and used **only** when the ``ticket`` parameter is used.\nSee ``schemas/input/signedurlmetadata.json`` for the format of the json payload.\n"
          },
          {
            "in": "formData",
            "name": "formData",
            "type": "string"
          },
          {
            "name": "ticket",
            "description": "Use empty value to get a ticket, and provide the ticket id to finalize the upload",
            "type": "string",
            "in": "query",
            "required": false
          }
        ]
      }
    },
    "/upload/reaper": {
      "post": {
        "summary": "Bottom-up UID matching of Multipart form upload with N file fields, each with their desired filename.",
        "description": "### Default behavior:\n\n> Upload data, allowing users to move sessions during scans without causing new data to be\n  created in referenced project/group.\n\n### Evaluation Order:\n\n* If a matching acquisition UID is found anywhere on the system, the related files will be placed under that acquisition.\n* **OR** If a matching session UID is found, a new acquistion is created with the specified UID under that Session UID.\n* **OR** If a matching group ID and project label are found, a new session and acquisition will be created within that project\n* **OR** If a matching group ID is found, a new project and session and acquisition will be created within that group.\n* **OR** A new session and acquisition will be created within a special \"Unknown\" group and project, which is only visible to system administrators.\n\n### Signed URL upload with ``ticket``\n> Upload a single file directly to the storage backend. The workflow is the following:\n\n  - Send a request with an empty ``?ticket=`` query parameter to get an upload ticket and URL\n  - Upload the file using a PUT request to the upload URL\n  - Once done, send a POST request to this endpoint with the upload ticket to finalize the upload.\n  The file will be placed into the DB via this POST request.\n",
        "operationId": "upload_by_reaper",
        "tags": [
          "files"
        ],
        "responses": {
          "200": {
            "description": "Files uploaded successfully",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/file-output"
                  }
                ]
              }
            },
            "examples": {
              "application/json": [
                {
                  "origin": {
                    "type": "job",
                    "id": "58063f24e5dc5b001657a87f"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4789e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T15:26:35.701000+00:00",
                  "modality": null,
                  "size": 21804112,
                  "type": "None",
                  "info": {}
                },
                {
                  "origin": {
                    "type": "job",
                    "id": "58065fa7e5dc5b001457a882"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T17:45:17.776000+00:00",
                  "modality": null,
                  "info": {},
                  "type": "None",
                  "size": 21804112
                }
              ]
            }
          },
          "402": {
            "description": "Uploads must be from an authorized drone"
          }
        },
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "formData",
            "type": "string",
            "description": "Object encoded as a JSON string.\nIt is **required** and used **only** when the ``ticket`` parameter is used.\nSee ``schemas/input/signedurlmetadata.json`` for the format of the json payload.\n"
          },
          {
            "in": "formData",
            "name": "formData",
            "type": "string"
          },
          {
            "name": "ticket",
            "description": "Use empty value to get a ticket, and provide the ticket id to finalize the upload",
            "type": "string",
            "in": "query",
            "required": false
          }
        ]
      }
    },
    "/upload/uid": {
      "post": {
        "summary": "Multipart form upload with N file fields, each with their desired filename.",
        "description": "### Default behavior:\n> Same behavior as /api/upload/label,\n  except the metadata field must be uid format\n  See ``api/schemas/input/uidupload.json`` for the format of this metadata.\n\n### Signed URL upload with ``ticket``\n> Upload a single file directly to the storage backend. The workflow is the following:\n\n  - Send a request with an empty ``?ticket=`` query parameter to get an upload ticket and URL\n  - Upload the file using a PUT request to the upload URL\n  - Once done, send a POST request to this endpoint with the upload ticket to finalize the upload.\n  The file will be placed into the DB via this POST request.\n",
        "operationId": "upload_by_uid",
        "tags": [
          "files"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "example": [
                {
                  "origin": {
                    "type": "job",
                    "id": "58063f24e5dc5b001657a87f"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4789e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T15:26:35.701000+00:00",
                  "modality": null,
                  "size": 21804112,
                  "type": "None",
                  "info": {}
                },
                {
                  "origin": {
                    "type": "job",
                    "id": "58065fa7e5dc5b001457a882"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T17:45:17.776000+00:00",
                  "modality": null,
                  "info": {},
                  "type": "None",
                  "size": 21804112
                }
              ]
            }
          },
          "402": {
            "description": "Uploads must be from an authorized drone"
          }
        },
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "formData",
            "type": "string",
            "description": "Object encoded as a JSON string.\nIt is **required** and used **only** when the ``ticket`` parameter is used.\nSee ``schemas/input/signedurlmetadata.json`` for the format of the json payload.\n"
          },
          {
            "in": "formData",
            "name": "formData",
            "type": "string"
          },
          {
            "name": "ticket",
            "description": "Use empty value to get a ticket, and provide the ticket id to finalize the upload",
            "type": "string",
            "in": "query",
            "required": false
          }
        ]
      }
    },
    "/upload/uid-match": {
      "post": {
        "summary": "Multipart form upload with N file fields, each with their desired filename.",
        "description": "### Default behavior:\n> Accepts uploads to an existing data hierarchy, matched via Session and Acquisition UID\n  See ``api/schemas/input/uidmatchupload.json`` for the format of this metadata.\n\n### Signed URL upload with ``ticket``\n> Upload a single file directly to the storage backend. The workflow is the following:\n\n  - Send a request with an empty ``?ticket=`` query parameter to get an upload ticket and URL\n  - Upload the file using a PUT request to the upload URL\n  - Once done, send a POST request to this endpoint with the upload ticket to finalize the upload.\n  The file will be placed into the DB via this POST request.\n",
        "operationId": "upload_match_uid",
        "tags": [
          "files"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "example": [
                {
                  "origin": {
                    "type": "job",
                    "id": "58063f24e5dc5b001657a87f"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4789e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T15:26:35.701000+00:00",
                  "modality": null,
                  "size": 21804112,
                  "type": "None",
                  "info": {}
                },
                {
                  "origin": {
                    "type": "job",
                    "id": "58065fa7e5dc5b001457a882"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T17:45:17.776000+00:00",
                  "modality": null,
                  "info": {},
                  "type": "None",
                  "size": 21804112
                }
              ]
            }
          },
          "402": {
            "description": "Uploads must be from an authorized drone"
          },
          "404": {
            "description": "Session or Acquisition with uid does not exist"
          }
        },
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "formData",
            "type": "string",
            "description": "Object encoded as a JSON string.\nIt is **required** and used **only** when the ``ticket`` parameter is used.\nSee ``schemas/input/signedurlmetadata.json`` for the format of the json payload.\n"
          },
          {
            "in": "formData",
            "name": "formData",
            "type": "string"
          },
          {
            "name": "ticket",
            "description": "Use empty value to get a ticket, and provide the ticket id to finalize the upload",
            "type": "string",
            "in": "query",
            "required": false
          }
        ]
      }
    },
    "/clean-packfiles": {
      "post": {
        "summary": "Clean up expired upload tokens and invalid token directories.",
        "operationId": "clean_packfiles",
        "responses": {
          "200": {
            "description": "Expired and invalid tokens have been cleaned",
            "schema": {
              "example": {
                "tokens": 5,
                "directories": 3
              }
            }
          }
        }
      }
    },
    "/engine": {
      "post": {
        "summary": "Upload a list of file fields.",
        "description": "### Default behavior:\n> Uploads a list of file fields sent as file1, file2, etc to an existing\n  container and updates fields of the files, the container and it's\n  parents as specified in the metadata fileformfield using the\n  engine placer class\n\n> A non-file form field called \"metadata\" is also required, which must be\n  a string containing JSON.\n\n> See ``api/schemas/input/enginemetadata.json`` for the format of this metadata.\n\n### When ``level`` is ``analysis``:\n> Uploads a list of files to an existing analysis object, marking\n  all files as ``output=true`` using the job-based analyses placer\n  class.\n\n> A non-file form field called \"metadata\" is also required, which must be\n  a string containing JSON.\n\n> See ``api/schemas/input/analysis.json`` for the format of this metadata.\n\n### Signed URL upload with ``upload_ticket``\n> Upload a single file directly to the storage backend. The workflow is the following:\n\n  - Send a request with an empty ``?upload_ticket=`` query parameter to get an upload ticket and URL\n  - Upload the file using a PUT request to the upload URL\n  - Once done, send a POST request to this endpoint with the upload ticket to finalize the upload.\n  The file will be placed into the DB via this POST request.\n",
        "operationId": "engine_upload",
        "responses": {
          "200": {
            "description": "A list of FileInfo objects",
            "schema": {
              "example": [
                {
                  "origin": {
                    "type": "job",
                    "id": "58063f24e5dc5b001657a87f"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4789e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T15:26:35.701000+00:00",
                  "modality": null,
                  "size": 21804112,
                  "type": "None",
                  "info": {}
                },
                {
                  "origin": {
                    "type": "job",
                    "id": "58065fa7e5dc5b001457a882"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T17:45:17.776000+00:00",
                  "modality": null,
                  "info": {},
                  "type": "None",
                  "size": 21804112
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "formData",
            "type": "string",
            "description": "Object encoded as a JSON string.\nIt is **required** and used **only** when the ``upload_ticket`` parameter is used. See ``schemas/input/signedurlmetadata.json`` for the format of the json payload.\n"
          },
          {
            "in": "formData",
            "name": "formData",
            "type": "string"
          },
          {
            "required": true,
            "description": "Which level to store files in",
            "enum": [
              "project",
              "session",
              "acquisition",
              "analysis"
            ],
            "type": "string",
            "in": "query",
            "name": "level"
          },
          {
            "required": true,
            "description": "The ID of the container to place files in",
            "type": "string",
            "in": "query",
            "name": "id"
          },
          {
            "description": "Required if ``level`` is ``analysis``",
            "type": "string",
            "in": "query",
            "name": "job",
            "required": true
          },
          {
            "name": "upload_ticket",
            "description": "Use empty value to get a ticket, and provide the ticket id to finalize the upload",
            "type": "string",
            "in": "query",
            "required": false
          }
        ]
      }
    },
    "/config": {
      "get": {
        "summary": "Return public Scitran configuration information",
        "operationId": "get_config",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/config-output"
            },
            "examples": {
              "response": {
                "site": {
                  "central_url": "https://sdmc.scitran.io/api",
                  "ssl_cert": null,
                  "api_url": "https://10.240.0.2:443/api",
                  "registered": false,
                  "id": "local",
                  "name": "BaliDemo"
                },
                "modified": "2016-03-31T16:30:00.852000+00:00",
                "auth": {
                  "id_endpoint": "https://www.googleapis.com/plus/v1/people/me/openIdConnect",
                  "verify_endpoint": "https://www.googleapis.com/oauth2/v1/tokeninfo",
                  "client_id": "949263322061-6q4fqi0m4ihkp1v5n6v8q9bef4gd0f1k.apps.googleusercontent.com",
                  "auth_endpoint": "https://accounts.google.com/o/oauth2/auth"
                },
                "created": "2016-03-31T16:30:00.852000+00:00"
              }
            }
          }
        }
      }
    },
    "/config.js": {
      "get": {
        "summary": "Return public Scitran configuration information in javascript format.",
        "operationId": "get_config_js",
        "produces": [
          "text/html"
        ],
        "responses": {
          "200": {
            "description": "",
            "examples": {
              "application/javascript": "config = {\n      \"auth\": {\n          \"auth_endpoint\": \"https://accounts.google.com/o/oauth2/auth\",\n          \"client_id\": \"949263322061-6q4fqi0m4ihkp1v5n6v8q9bef4gd0f1k.apps.googleusercontent.com\",\n          \"id_endpoint\": \"https://www.googleapis.com/plus/v1/people/me/openIdConnect\",\n          \"verify_endpoint\": \"https://www.googleapis.com/oauth2/v1/tokeninfo\"\n      },\n      \"created\": \"2016-03-31T16:30:00.852000+00:00\",\n      \"modified\": \"2016-03-31T16:30:00.852000+00:00\",\n      \"site\": {\n          \"api_url\": \"https://10.240.0.2:443/api\",\n          \"central_url\": \"https://sdmc.scitran.io/api\",\n          \"id\": \"local\",\n          \"name\": \"BaliDemo\",\n          \"registered\": false,\n          \"ssl_cert\": null\n      } \n"
            }
          }
        }
      }
    },
    "/site/settings": {
      "get": {
        "summary": "Return administrative site settings",
        "description": "Returns the site settings, which includes center-pays gear list. If the site settings have never been created, then center_gears will be null, rather than an empty list.\n",
        "operationId": "get_site_settings",
        "tags": [
          "site"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/config-site-settings"
                }
              ],
              "example": {
                "created": "2016-08-11T13:02:09.055000+00:00",
                "modified": "2016-08-11T13:02:09.055000+00:00",
                "center_gears": [
                  "dcm2niix"
                ]
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update administrative site settings",
        "operationId": "modify_site_settings",
        "tags": [
          "site"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/config-site-settings-input"
                }
              ],
              "example": {
                "center_gears": [
                  "dcm2niix"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Settings were updated successfully"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/version": {
      "get": {
        "summary": "Get server and database schema version info",
        "operationId": "get_version",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/version-output"
            },
            "examples": {
              "response": {
                "_id": "version",
                "database": 2
              }
            }
          }
        }
      }
    },
    "/users": {
      "get": {
        "summary": "Return a list of all users",
        "operationId": "get_all_users",
        "x-sdk-pagination": true,
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/user-output"
                  }
                ],
                "required": [
                  "_id",
                  "firstname",
                  "lastname",
                  "roles",
                  "email",
                  "created",
                  "modified"
                ]
              },
              "example": {
                "0": {
                  "_id": "jane.doe@gmail.com",
                  "firstname": "Jane",
                  "lastname": "Doe",
                  "email": "jane.doe@gmail.com",
                  "roles": [
                    "site_admin"
                  ],
                  "created": "2016-09-02T22:58:18.624000+00:00",
                  "modified": "2016-09-02T22:58:18.624000+00:00"
                }
              }
            }
          }
        }
      },
      "post": {
        "summary": "Add a new user",
        "operationId": "add_user",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/user-input"
                }
              ],
              "required": [
                "_id",
                "firstname",
                "lastname"
              ],
              "example": {
                "_id": "jane.doe@gmail.com",
                "firstname": "Jane",
                "lastname": "Doe",
                "email": "jane.doe@gmail.com",
                "roles": [
                  "user"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The user was created sucessfully",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/common-object-created"
                }
              ],
              "example": {
                "_id": "jane.doe@gmail.com"
              }
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/users/self": {
      "get": {
        "summary": "Get information about the current user",
        "operationId": "get_current_user",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/user-output-api-key"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "jane.doe@gmail.com",
                "firstname": "Jane",
                "lastname": "Doe",
                "email": "jane.doe@gmail.com",
                "roles": [
                  "user"
                ],
                "created": "2016-09-02T22:58:18.624000+00:00",
                "modified": "2016-09-02T22:58:18.624000+00:00"
              }
            }
          }
        }
      }
    },
    "/users/self/avatar": {
      "get": {
        "summary": "Get the avatar of the current user",
        "operationId": "get_current_user_avatar",
        "tags": [
          "users"
        ],
        "responses": {
          "307": {
            "description": "Redirects to the image file of the current user's avatar\n"
          }
        }
      }
    },
    "/users/self/info": {
      "get": {
        "summary": "Get info of the current user",
        "operationId": "get_current_user_info",
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "fields",
            "description": "Get only the specified fields from user's info.\nAccept multiple fields separated by comma.\n"
          }
        ],
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "Whole or filtered user info"
          }
        }
      },
      "post": {
        "summary": "Update or replace info for the current user.",
        "operationId": "modify_current_user_info",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The info was updated successfully"
          }
        }
      }
    },
    "/users/self/jobs": {
      "get": {
        "summary": "Return list of jobs created by the current user",
        "operationId": "get_current_user_jobs",
        "x-sdk-pagination": true,
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "gear",
            "description": "Gear name. Get only the jobs which are related to a specific gear.\n"
          }
        ],
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/user-jobs-output"
                }
              ]
            },
            "description": "Statistic and list of matching jobs.",
            "examples": {
              "response": {
                "stats": {
                  "pending": 1,
                  "running": 0,
                  "failed": 0,
                  "complete": 0,
                  "cancelled": 0
                },
                "total": 1,
                "jobs": [
                  {
                    "inputs": [
                      {
                        "input": "dicom",
                        "type": "acquisition",
                        "id": "57d75ec38e4eb9699b3c245e",
                        "name": "1_1_dicom.zip"
                      }
                    ],
                    "attempt": 1,
                    "gear_id": "dcm-convert",
                    "tags": [
                      "dcm-convert"
                    ],
                    "destination": {
                      "type": "acquisition",
                      "id": "57ac7394c700190017123fb7"
                    },
                    "modified": "2016-08-11T12:46:12.593000+00:00",
                    "created": "2016-08-11T12:46:12.593000+00:00",
                    "state": "pending",
                    "_id": "57ac7394c700190017123fb8",
                    "config": {
                      "speed": 3
                    }
                  }
                ]
              }
            }
          }
        }
      }
    },
    "/users/{UserId}": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "UserId",
          "required": true
        }
      ],
      "get": {
        "summary": "Get information about the specified user",
        "operationId": "get_user",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/user-output"
                }
              ],
              "required": [
                "_id",
                "firstname",
                "lastname",
                "roles",
                "email",
                "created",
                "modified"
              ]
            },
            "examples": {
              "response": {
                "_id": "jane.doe@gmail.com",
                "firstname": "Jane",
                "lastname": "Doe",
                "email": "jane.doe@gmail.com",
                "roles": [
                  "user"
                ],
                "created": "2016-09-02T22:58:18.624000+00:00",
                "modified": "2016-09-02T22:58:18.624000+00:00"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update the specified user",
        "operationId": "modify_user",
        "tags": [
          "users"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "User",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/user-input"
                }
              ],
              "example": {
                "firstname": "Jane",
                "lastname": "Smith",
                "email": "jane.smith@gmail.com"
              }
            },
            "description": "Accepts an object matching the User type except all fields are optional\n"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the number of users modified",
            "schema": {
              "$ref": "#/definitions/common-modified-count"
            },
            "examples": {
              "response": {
                "modified": 1
              }
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a user",
        "operationId": "delete_user",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "User was deleted",
            "schema": {
              "$ref": "#/definitions/common-deleted-count"
            },
            "examples": {
              "response": {
                "deleted": 3
              }
            }
          },
          "404": {
            "description": "User not found"
          }
        }
      }
    },
    "/users/{UserId}/groups": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "List all groups the specified user is a member of",
        "operationId": "get_user_groups",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/group-output-list"
                }
              ]
            },
            "examples": {
              "response": [
                {
                  "label": "Test Group",
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "group_admin@fakeuser.com"
                    },
                    {
                      "access": "rw",
                      "_id": "group_member_read-write@fakeuser.com"
                    },
                    {
                      "access": "ro",
                      "_id": "group_member_read-only@fakeuser.com"
                    }
                  ],
                  "created": "2016-08-19T11:41:15.360000+00:00",
                  "modified": "2016-08-19T11:41:15.360000+00:00",
                  "_id": "test_group"
                }
              ]
            }
          }
        }
      }
    },
    "/users/{UserId}/avatar": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "Get the avatar of the specified user",
        "operationId": "get_user_avatar",
        "tags": [
          "users"
        ],
        "responses": {
          "307": {
            "description": "Redirects to the image file of the specified user's avatar\n"
          }
        }
      }
    },
    "/users/{UserId}/acquisitions": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "Get all acquisitions that belong to the given user.",
        "operationId": "get_user_acquisitions",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/definitions/acquisition-output"
                  }
                ],
                "required": [
                  "_id",
                  "public",
                  "label",
                  "session",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "files": [
                    {
                      "origin": {
                        "method": "importer",
                        "type": "device",
                        "id": "importer_Admin_Import",
                        "name": "Admin Import"
                      },
                      "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                      "mimetype": "application/zip",
                      "classification": {},
                      "hash": "v0-sha384-dd3c97bfe0ad1fcba75ae6718c6e81038c59af4f447f5db194d52732efa4f955b28455db02eb64cad3e4e55f11e3679f",
                      "name": "4784_1_1_localizer_dicom.zip",
                      "tags": [],
                      "created": "2016-09-21T14:56:09.943000+00:00",
                      "modified": "2016-09-21T14:56:09.943000+00:00",
                      "modality": null,
                      "info": {},
                      "type": "dicom",
                      "size": 989933
                    }
                  ],
                  "created": "2016-09-21T14:56:10.026000+00:00",
                  "timestamp": "2016-09-21T19:24:45.539570+00:00",
                  "modified": "2016-09-21T14:56:10.026000+00:00",
                  "label": "4784_1_1_localizer",
                  "session": "57e29f8afab726000f7ec6b1",
                  "collections": [
                    "57e2a026675ca0000f0eeb0c"
                  ],
                  "_id": "57e29f8afab726000f7ec6b2",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "files": [
                    {
                      "origin": {
                        "method": "importer",
                        "type": "device",
                        "id": "importer_Admin_Import",
                        "name": "Admin Import"
                      },
                      "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                      "mimetype": "application/zip",
                      "classification": {},
                      "hash": "v0-sha384-ca055fb36845db86e4278cf6e185f8674d11a96f4b29af27e401fc495cc82ef6b53a5729c3757713064649dc71c8c725",
                      "name": "4784_3_1_t1_dicom.zip",
                      "tags": [],
                      "created": "2016-09-21T14:56:11.224000+00:00",
                      "modified": "2016-09-21T14:56:11.224000+00:00",
                      "modality": null,
                      "info": {},
                      "type": "dicom",
                      "size": 2921881
                    }
                  ],
                  "created": "2016-09-21T14:56:11.452000+00:00",
                  "timestamp": "2016-09-21T19:24:45.539580+00:00",
                  "modified": "2016-09-21T14:56:11.452000+00:00",
                  "label": "4784_3_1_t1",
                  "session": "57e29f8afab726000f7ec6b1",
                  "collections": [
                    "57e2a026675ca0000f0eeb0c"
                  ],
                  "_id": "57e29f8bfab726000e7ec6b0",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "files": [
                    {
                      "origin": {
                        "method": "importer",
                        "type": "device",
                        "id": "importer_Admin_Import",
                        "name": "Admin Import"
                      },
                      "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                      "mimetype": "application/zip",
                      "classification": {},
                      "hash": "v0-sha384-537e42b1dd8f1feef9844fbfb4f60461361e71cafa7055556097e9d0b9f7fac68c8f234ed126af9412bd43a548948847",
                      "name": "4784_5_1_fmri_dicom.zip",
                      "tags": [],
                      "created": "2016-09-21T14:56:13.580000+00:00",
                      "modified": "2016-09-21T14:56:13.580000+00:00",
                      "modality": null,
                      "info": {},
                      "type": "dicom",
                      "size": 4525137
                    }
                  ],
                  "created": "2016-09-21T14:56:13.886000+00:00",
                  "timestamp": "2016-09-21T19:24:45.539582+00:00",
                  "modified": "2016-09-21T14:56:13.886000+00:00",
                  "label": "4784_5_1_fmri",
                  "session": "57e29f8afab726000f7ec6b1",
                  "collections": [
                    "57e2a026675ca0000f0eeb0c"
                  ],
                  "_id": "57e29f8dfab726000e7ec6b3",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    },
    "/users/{UserId}/collections": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "Get all collections that belong to the given user.",
        "operationId": "get_user_collections",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/collection-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "created": "2016-08-30T17:22:05.299000+00:00",
                  "curator": "user@test.com",
                  "label": "test",
                  "modified": "2016-08-30T17:22:05.299000+00:00",
                  "_id": "57c5c0bd9e512c606dd3df09",
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "user@test.com"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    },
    "/users/{UserId}/projects": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "Get all projects that belong to the given user.",
        "operationId": "get_user_projects",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/definitions/project-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "group",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "group": "scitran",
                  "created": "2016-09-22T21:51:53.151000+00:00",
                  "modified": "2016-09-22T21:51:53.151000+00:00",
                  "label": "Neuroscience",
                  "_id": "57e452791cff88b85f9f9c97",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-22T21:52:27.576000+00:00",
                  "modified": "2016-09-22T21:52:27.576000+00:00",
                  "label": "Psychology",
                  "_id": "57e4529b1cff88b85f9f9c98",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-22T21:52:52.539000+00:00",
                  "modified": "2016-09-22T21:52:52.539000+00:00",
                  "label": "Testdata",
                  "_id": "57e452b41cff88b85f9f9c99",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "test-group",
                  "created": "2016-09-22T21:54:47.925000+00:00",
                  "modified": "2016-09-22T21:54:47.925000+00:00",
                  "label": "test-project",
                  "description": "Test Project",
                  "_id": "57e45327466d8e000e33a859",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-29T18:53:06.199000+00:00",
                  "modified": "2016-09-29T18:53:06.199000+00:00",
                  "label": "test2",
                  "description": "Test Project Two",
                  "_id": "57ed6312466d8e01c91ee427",
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    },
    "/users/{UserId}/sessions": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "Get all sessions that belong to the given user.",
        "operationId": "get_user_sessions",
        "tags": [
          "users"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/session-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "project",
                  "created",
                  "modified",
                  "permissions",
                  "public",
                  "group",
                  "subject"
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "group": "scitran",
                  "created": "2016-09-19T17:13:48.164000+00:00",
                  "subject": {
                    "code": "ex4784",
                    "_id": "57e01cccb1dc04000fb83f02"
                  },
                  "modified": "2016-09-19T17:13:48.164000+00:00",
                  "label": "control_1",
                  "project": "57e01cccf6b5d5edbcb4e1cf",
                  "_id": "57e01cccb1dc04000fb83f03",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-19T17:13:54.873000+00:00",
                  "subject": {
                    "code": "ex6879",
                    "_id": "57e01cd2b1dc04000eb83f05"
                  },
                  "modified": "2016-09-19T17:13:54.873000+00:00",
                  "label": "control_2",
                  "project": "57e01cccf6b5d5edbcb4e1cf",
                  "_id": "57e01cd2b1dc04000eb83f06",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-19T17:14:02.228000+00:00",
                  "subject": {
                    "code": "ex8403",
                    "_id": "57e01cdab1dc04000eb83f10"
                  },
                  "modified": "2016-09-19T17:14:02.228000+00:00",
                  "label": "patient_1",
                  "project": "57e01cccf6b5d5edbcb4e1cf",
                  "_id": "57e01cdab1dc04000eb83f11",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    },
    "/jobs": {
      "get": {
        "summary": "Return all jobs",
        "operationId": "get_all_jobs",
        "x-fw-pagination": true,
        "x-fw-default-limit": 1000,
        "tags": [
          "jobs"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "states",
            "description": "filter results by job state"
          },
          {
            "in": "query",
            "type": "string",
            "name": "tags",
            "description": "filter results by job tags"
          },
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return.",
            "x-sdk-default": 1000
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/job-list-entry"
              },
              "example": [
                {
                  "inputs": [
                    {
                      "input": "dicom",
                      "type": "acquisition",
                      "id": "57d75ec38e4eb9699b3c245e",
                      "name": "1_1_dicom.zip"
                    }
                  ],
                  "attempt": 1,
                  "gear_id": "dcm-convert",
                  "tags": [
                    "dcm-convert"
                  ],
                  "destination": {
                    "type": "acquisition",
                    "id": "57ac7394c700190017123fb7"
                  },
                  "modified": "2016-08-11T12:46:12.593000+00:00",
                  "created": "2016-08-11T12:46:12.593000+00:00",
                  "state": "pending",
                  "_id": "57ac7394c700190017123fb8",
                  "config": {
                    "speed": 3
                  }
                }
              ]
            }
          }
        }
      }
    },
    "/jobs/add": {
      "post": {
        "summary": "Add a job",
        "operationId": "add_job",
        "tags": [
          "jobs"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-input"
                }
              ],
              "example": {
                "gear_id": "aex",
                "inputs": {
                  "dicom": {
                    "type": "acquisition",
                    "id": "573c9e6a844eac7fc01747cd",
                    "name": "1_1_dicom.zip"
                  }
                },
                "config": {
                  "two-digit multiple of ten": 20
                },
                "destination": {
                  "type": "acquisition",
                  "id": "573c9e6a844eac7fc01747cd"
                },
                "tags": [
                  "ad-hoc"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/common-object-created"
            },
            "examples": {
              "response": {
                "_id": "573cb66b135d87002660597c"
              }
            }
          }
        }
      }
    },
    "/jobs/ask": {
      "post": {
        "summary": "Ask the queue a question",
        "description": "Ask the queue a question, recieving work or statistics in return.",
        "operationId": "ask_jobs",
        "tags": [
          "jobs"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-ask"
                }
              ],
              "example": {
                "whitelist": {
                  "group": [],
                  "gear-name": [],
                  "tag": []
                },
                "blacklist": {
                  "group": [],
                  "gear-name": [],
                  "tag": []
                },
                "capabilities": [],
                "return": {
                  "jobs": 0,
                  "peek": true,
                  "states": true
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/job-ask-response"
                }
              ],
              "example": {
                "states": {
                  "pending": 1,
                  "running": 1,
                  "failed": 0,
                  "complete": 3,
                  "cancelled": 0
                }
              }
            }
          }
        }
      }
    },
    "/jobs/determine_provider": {
      "post": {
        "summary": "Determine the effective compute provider for a proposed job.",
        "operationId": "determine_provider_for_job",
        "tags": [
          "jobs"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-input"
                }
              ],
              "example": {
                "gear_id": "aex",
                "inputs": {
                  "dicom": {
                    "type": "acquisition",
                    "id": "573c9e6a844eac7fc01747cd",
                    "name": "1_1_dicom.zip"
                  }
                },
                "config": {
                  "two-digit multiple of ten": 20
                },
                "destination": {
                  "type": "acquisition",
                  "id": "573c9e6a844eac7fc01747cd"
                },
                "tags": [
                  "ad-hoc"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/provider"
                }
              ],
              "example": {
                "_id": "5c61dc66fb4abf0062cc16ac",
                "provider_class": "compute",
                "provider_type": "static",
                "label": "My Provider",
                "origin": {
                  "type": "user",
                  "id": "admin@user.com"
                },
                "created": "2019-02-11T20:34:46.522000+00:00",
                "modified": "2019-02-11T20:34:46.522000+00:00"
              }
            }
          }
        }
      }
    },
    "/jobs/next": {
      "get": {
        "summary": "Get the next job in the queue",
        "description": "Used by the engine.",
        "operationId": "get_next_job",
        "tags": [
          "jobs"
        ],
        "parameters": [
          {
            "name": "tags",
            "in": "query",
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "multi"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": {
                  "dicom": {
                    "type": "acquisition",
                    "id": "57ac7394c700190017123fb7",
                    "name": "8403_4_1_t1_dicom.zip"
                  }
                },
                "attempt": 1,
                "gear_id": "dcm_convert",
                "tags": [
                  "ad-hoc",
                  "dcm_convert"
                ],
                "destination": {
                  "type": "acquisition",
                  "id": "573c9e6a844eac7fc01747cd"
                },
                "modified": "2016-08-11T13:02:09.055000+00:00",
                "created": "2016-08-11T13:02:09.055000+00:00",
                "state": "pending",
                "id": "57ac77515e325c0018cd17cf",
                "config": {
                  "speed": 3
                }
              }
            }
          }
        }
      }
    },
    "/jobs/stats": {
      "get": {
        "summary": "Get stats about all current jobs",
        "operationId": "get_jobs_stats",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "example": {
                "by-state": {
                  "pending": 1,
                  "running": 3,
                  "failed": 0,
                  "complete": 17
                },
                "by-tag": [
                  {
                    "tags": [
                      "tag1"
                    ],
                    "count": 4
                  }
                ],
                "permafailed": 0
              }
            }
          }
        }
      }
    },
    "/jobs/reap": {
      "post": {
        "summary": "Reap stale jobs",
        "operationId": "reap_jobs",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "example": {
                "orphaned": 3
              }
            }
          }
        }
      }
    },
    "/jobs/{JobId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "get": {
        "summary": "Get job details",
        "operationId": "get_job",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": {
                  "dicom": {
                    "type": "acquisition",
                    "id": "57ac7394c700190017123fb7",
                    "name": "8403_4_1_t1_dicom.zip"
                  }
                },
                "attempt": 1,
                "gear_id": "dcm_convert",
                "tags": [
                  "ad-hoc",
                  "dcm_convert"
                ],
                "destination": {
                  "type": "acquisition",
                  "id": "573c9e6a844eac7fc01747cd"
                },
                "modified": "2016-08-11T13:02:09.055000+00:00",
                "created": "2016-08-11T13:02:09.055000+00:00",
                "state": "pending",
                "id": "57ac77515e325c0018cd17cf",
                "config": {
                  "speed": 3
                }
              }
            }
          },
          "404": {
            "description": "JobId not found"
          }
        }
      },
      "put": {
        "summary": "Update a job.",
        "description": "Updates timestamp.\nEnforces a valid state machine transition, if any.\nRejects any change to a job that is not currently in 'pending' or 'running' state.\nAccepts the same body as /api/jobs/add , except all fields are optional.\n",
        "operationId": "modify_job",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "Job was updated.  No value is returned"
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-input-update"
                }
              ],
              "example": {
                "tags": [
                  "spectroscopy"
                ]
              }
            }
          }
        ]
      }
    },
    "/jobs/{JobId}/detail": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "get": {
        "summary": "Get job container details",
        "operationId": "get_job_detail",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-detail"
                }
              ],
              "example": {
                "inputs": {
                  "dicom": {
                    "ref": {
                      "type": "acquisition",
                      "id": "57ac7394c700190017123fb7",
                      "name": "8403_4_1_t1_dicom.zip"
                    },
                    "object": {
                      "origin": {
                        "method": "importer",
                        "type": "device",
                        "id": "importer_Admin_Import",
                        "name": "Admin Import"
                      },
                      "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                      "mimetype": "application/zip",
                      "classification": {},
                      "hash": "v0-sha384-dd3c97bfe0ad1fcba75ae6718c6e81038c59af4f447f5db194d52732efa4f955b28455db02eb64cad3e4e55f11e3679f",
                      "name": "4784_1_1_localizer_dicom.zip",
                      "tags": [],
                      "created": "2016-09-21T14:56:09.943000+00:00",
                      "modified": "2016-09-24T14:56:09.943000+00:00",
                      "replaced": "2016-09-23T14:56:09.943000+00:00",
                      "modality": null,
                      "info": {},
                      "type": "dicom",
                      "size": 989933
                    }
                  }
                },
                "parent_info": {
                  "group": {
                    "_id": "scitran",
                    "label": "SciTran"
                  },
                  "project": {
                    "_id": "5c33be8304da10041e880c4c",
                    "label": "Brain Study"
                  },
                  "session": {
                    "_id": "5c33be8304da10041e880c4e",
                    "label": "Session 2018-09-30"
                  },
                  "subject": {
                    "_id": "5c33be8304da10041e880c4d",
                    "label": "unknown"
                  }
                },
                "attempt": 1,
                "gear_id": "dcm_convert",
                "tags": [
                  "ad-hoc",
                  "dcm_convert"
                ],
                "destination": {
                  "type": "acquisition",
                  "id": "573c9e6a844eac7fc01747cd"
                },
                "modified": "2016-08-11T13:02:09.055000+00:00",
                "created": "2016-08-11T13:02:09.055000+00:00",
                "state": "pending",
                "id": "57ac77515e325c0018cd17cf",
                "config": {
                  "speed": 3
                },
                "outputs": [
                  {
                    "object": {
                      "origin": {
                        "type": "job",
                        "id": "5c33be8404da10041e880c50"
                      },
                      "mimetype": "text/csv",
                      "hash": "v0-sha384-03a9df0a5e6e21f5d25aacbce76d8a5d9f8de14f6654c31ab2daed961cfbfb236b1708063350856f752a5a094fb64321",
                      "name": "result.csv",
                      "classification": {},
                      "created": "2019-01-07T21:03:00.276000+00:00",
                      "tags": [],
                      "modified": "2019-01-07T21:03:00.248000+00:00",
                      "_id": "84e30303-2568-4af4-a675-98774dac0408",
                      "type": "tabular data",
                      "modality": null,
                      "size": 10
                    },
                    "ref": {
                      "type": "session",
                      "id": "5c33be8304da10041e880c4e",
                      "name": "result.csv"
                    }
                  }
                ]
              }
            }
          },
          "404": {
            "description": "JobId not found"
          }
        }
      }
    },
    "/jobs/{JobId}/profile": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "put": {
        "summary": "Update profile information on a job. (e.g. machine type, etc)",
        "operationId": "update_job_profile",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-profile-input"
                }
              ],
              "example": {
                "preparation_time_ms": 3507,
                "versions": {
                  "engine": "9a12c5921a1d9206c2d82c0d1a60ebed3d55a338"
                },
                "executor": {
                  "name": "engine-625490",
                  "host": "127.0.0.1",
                  "instance_type": "n1-standard-4",
                  "cpu_cores": 4,
                  "gpu": false,
                  "memory_bytes": 15728640,
                  "disk_bytes": 104857600,
                  "swap_bytes": 31457280
                }
              }
            }
          }
        ]
      }
    },
    "/jobs/{JobId}/retry": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "post": {
        "summary": "Retry a job.",
        "description": "The job must have a state of 'failed', and must not have already been retried.\nThe failed jobs config is copied to a new job.\nThe ID of the new job is returned\n",
        "operationId": "retry_job",
        "tags": [
          "jobs"
        ],
        "parameters": [
          {
            "name": "computeProviderId",
            "in": "query",
            "required": false,
            "type": "string"
          },
          {
            "name": "ignoreState",
            "in": "query",
            "required": false,
            "type": "boolean"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "example": {
                "_id": "57a35c118120be0e8d1f3f5f"
              }
            }
          }
        }
      }
    },
    "/jobs/{JobId}/config.json": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "get": {
        "summary": "Get a job's config",
        "operationId": "get_job_config",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-config-output"
                }
              ],
              "example": {
                "inputs": {
                  "dicom": {
                    "base": "file",
                    "hierarchy": {
                      "type": "acquisition",
                      "id": "57ac7394c700190017123fb7"
                    },
                    "location": {
                      "name": "anat-T1w.zip",
                      "path": "/flywheel/v0/input/file/anat-T1w.zip"
                    },
                    "object": {
                      "classification": {
                        "Intent": [
                          "Structural"
                        ],
                        "Measurement": [
                          "T1"
                        ]
                      },
                      "modality": "MR"
                    }
                  }
                },
                "destination": {
                  "type": "acquisition",
                  "id": "57ac7394c700190017123fb7"
                },
                "config": {
                  "speed": 3
                }
              }
            }
          }
        }
      }
    },
    "/jobs/{JobId}/logs": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "get": {
        "summary": "Get job logs",
        "operationId": "get_job_logs",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "The current job log",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-log"
                }
              ],
              "example": {
                "_id": "57ac7394c700190017123fb8",
                "logs": [
                  {
                    "fd": 1,
                    "msg": "Hello World!"
                  }
                ]
              }
            }
          }
        }
      },
      "post": {
        "summary": "Add logs to a job.",
        "operationId": "add_job_logs",
        "tags": [
          "jobs"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/job-log-statement"
              },
              "example": [
                {
                  "fd": 1,
                  "msg": "Hello World!"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Logs were added. No value is returned."
          }
        }
      }
    },
    "/jobs/{JobId}/accept-failed-output": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "post": {
        "summary": "Accept failed job output.",
        "description": "Remove the 'from_failed_job' flag from the files.\nCreate any automatic jobs for the accepted files.\n",
        "operationId": "accept_failed_output",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "Failed output is accepted and created any automatic jobs."
          },
          "400": {
            "description": "Can only accept failed output of a job that failed."
          }
        }
      }
    },
    "/jobs/{JobId}/prepare-complete": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "post": {
        "summary": "Create a ticket for completing a job, with id and status.",
        "operationId": "prepare_complete_job",
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "Returns a ticket",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/job-completion-ticket"
                }
              ],
              "example": {
                "ticket": "579e97738120be2ada087feb"
              }
            }
          }
        }
      }
    },
    "/jobs/{JobId}/complete": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "JobId"
        }
      ],
      "post": {
        "summary": "Complete a job, with information",
        "operationId": "complete_job",
        "parameters": [
          {
            "name": "job_ticket_id",
            "type": "string",
            "in": "query"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/job-completion-input"
                }
              ],
              "example": {
                "success": false,
                "failure_reason": "execution_failure",
                "profile": {
                  "elapsed_time_ms": 1342
                }
              }
            }
          }
        ],
        "tags": [
          "jobs"
        ],
        "responses": {
          "200": {
            "description": "Job completion was successful"
          }
        }
      }
    },
    "/gears": {
      "get": {
        "summary": "List all gears",
        "operationId": "get_all_gears",
        "x-fw-pagination": true,
        "tags": [
          "gears"
        ],
        "parameters": [
          {
            "name": "all_versions",
            "in": "query",
            "type": "boolean",
            "description": "return all versions of each gear"
          },
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns a list of gears installed on the system",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/gear-doc"
                  }
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "category": "converter",
                  "gear": {
                    "inputs": {
                      "audio": {
                        "base": "file",
                        "description": "Any audio file. Plain speech suggested!"
                      }
                    },
                    "maintainer": "Nathaniel Kofalt",
                    "description": "Detects the speech content of an audio file, using the machine-learning DeepSpeech library by Mozilla.",
                    "license": "Other",
                    "author": "Nathaniel Kofalt",
                    "url": "",
                    "label": "Speech Recognition",
                    "source": "https://github.com/mozilla/DeepSpeech",
                    "version": "1",
                    "custom": {
                      "gear-builder": {
                        "image": "gear-builder-kdfqapbezk-20171219165918",
                        "container": "c15189b625a0ea450cafbb24ef0df03c26cc8cf151181976ec4289801e191032"
                      }
                    },
                    "config": {},
                    "name": "speech-recognition"
                  },
                  "created": "2017-12-20T00:09:50.381000+00:00",
                  "exchange": {
                    "git-commit": "local",
                    "rootfs-hash": "sha384:e01d925f90b097b554be0f802ef6ebb9f07000d7a6a2a0c3a25dac26893d4ac2414381e2c8e60f4b58b27c7fe8e56099",
                    "rootfs-url": "/api/gears/temp/5a39aa4e07a393001b663910"
                  },
                  "modified": "2017-12-20T00:09:50.381000+00:00",
                  "_id": "5a39aa4e07a393001b663910"
                }
              ]
            }
          }
        }
      }
    },
    "/gears/prepare-add": {
      "post": {
        "summary": "Prepare a gear upload",
        "operationId": "prepare_add_gear",
        "tags": [
          "gears"
        ],
        "responses": {
          "200": {
            "description": "Returns a gear ticket ID",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/gears/ticket/{GearTicketId}": {
      "get": {
        "summary": "Retrieve a specific gear ticket",
        "operationId": "get_gear_ticket",
        "parameters": [
          {
            "name": "GearTicketId",
            "in": "path",
            "required": true,
            "type": "string",
            "description": "The ID of the the gear ticket to retrieve"
          }
        ],
        "tags": [
          "gears"
        ],
        "responses": {
          "200": {
            "description": "Returns a gear ticket",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/gears/my-tickets": {
      "get": {
        "summary": "Retrieve all gear tickets for the current user",
        "operationId": "get_my_gear_tickets",
        "parameters": [
          {
            "name": "gear_names_only",
            "in": "query",
            "type": "boolean",
            "required": false,
            "description": "If set, returns a string array of ticket IDs instead of the tickets themselves."
          }
        ],
        "tags": [
          "gears"
        ],
        "responses": {
          "200": {
            "description": "Returns a list of gear tickets",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/gears/save": {
      "post": {
        "summary": "Report the result of a gear upload and save the ticket",
        "operationId": "save_gear",
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "boolean",
            "required": true,
            "description": "The ticket ID to save"
          }
        ],
        "tags": [
          "gears"
        ],
        "responses": {
          "200": {
            "description": "Returns the new gear ID",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/gears/{GearIdOrName}": {
      "get": {
        "summary": "Retrieve details about a specific gear",
        "operationId": "get_gear",
        "tags": [
          "gears"
        ],
        "parameters": [
          {
            "name": "GearIdOrName",
            "in": "path",
            "type": "string",
            "required": true,
            "description": "Id of the gear to interact with"
          }
        ],
        "responses": {
          "200": {
            "description": "Details about a single gear",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/gear-doc"
                }
              ]
            },
            "examples": {
              "response": {
                "category": "converter",
                "gear": {
                  "inputs": {
                    "audio": {
                      "base": "file",
                      "description": "Any audio file. Plain speech suggested!"
                    }
                  },
                  "maintainer": "Nathaniel Kofalt",
                  "description": "Detects the speech content of an audio file, using the machine-learning DeepSpeech library by Mozilla.",
                  "license": "Other",
                  "author": "Nathaniel Kofalt",
                  "url": "",
                  "label": "Speech Recognition",
                  "source": "https://github.com/mozilla/DeepSpeech",
                  "version": "1",
                  "custom": {
                    "gear-builder": {
                      "image": "gear-builder-kdfqapbezk-20171219165918",
                      "container": "c15189b625a0ea450cafbb24ef0df03c26cc8cf151181976ec4289801e191032"
                    }
                  },
                  "config": {},
                  "name": "speech-recognition"
                },
                "created": "2017-12-20T00:09:50.381000+00:00",
                "exchange": {
                  "git-commit": "local",
                  "rootfs-hash": "sha384:e01d925f90b097b554be0f802ef6ebb9f07000d7a6a2a0c3a25dac26893d4ac2414381e2c8e60f4b58b27c7fe8e56099",
                  "rootfs-url": "/api/gears/temp/5a39aa4e07a393001b663910"
                },
                "modified": "2017-12-20T00:09:50.381000+00:00",
                "_id": "5a39aa4e07a393001b663910"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create or update a gear.",
        "description": "If no existing gear is found, one will be created\nOtherwise, the specified gear will be updated\n",
        "operationId": "add_gear",
        "parameters": [
          {
            "name": "GearIdOrName",
            "in": "path",
            "type": "string",
            "required": true,
            "description": "Name of the gear to interact with"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/gear-doc"
                }
              ],
              "example": {
                "category": "converter",
                "gear": {
                  "inputs": {
                    "audio": {
                      "base": "file",
                      "description": "Any audio file. Plain speech suggested!"
                    }
                  },
                  "maintainer": "Nathaniel Kofalt",
                  "description": "Detects the speech content of an audio file, using the machine-learning DeepSpeech library by Mozilla.",
                  "license": "Other",
                  "author": "Nathaniel Kofalt",
                  "url": "",
                  "label": "Speech Recognition",
                  "source": "https://github.com/mozilla/DeepSpeech",
                  "version": "1",
                  "custom": {
                    "gear-builder": {
                      "image": "gear-builder-kdfqapbezk-20171219165918",
                      "container": "c15189b625a0ea450cafbb24ef0df03c26cc8cf151181976ec4289801e191032"
                    }
                  },
                  "config": {},
                  "name": "speech-recognition"
                },
                "exchange": {
                  "git-commit": "local",
                  "rootfs-hash": "sha384:e01d925f90b097b554be0f802ef6ebb9f07000d7a6a2a0c3a25dac26893d4ac2414381e2c8e60f4b58b27c7fe8e56099",
                  "rootfs-url": "/api/gears/temp/5a39aa4e07a393001b663910"
                }
              }
            }
          }
        ],
        "tags": [
          "gears"
        ],
        "responses": {
          "200": {
            "description": "The gear was created or updated successfully",
            "schema": {
              "$ref": "#/definitions/collection-new-output"
            }
          }
        }
      },
      "delete": {
        "summary": "Delete a gear (not recommended)",
        "operationId": "delete_gear",
        "tags": [
          "gears"
        ],
        "parameters": [
          {
            "name": "GearIdOrName",
            "in": "path",
            "type": "string",
            "required": true,
            "description": "Id of the gear to interact with"
          }
        ],
        "responses": {
          "200": {
            "description": "Gear was deleted"
          }
        }
      }
    },
    "/gears/{GearId}/invocation": {
      "parameters": [
        {
          "name": "GearId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "Id of the gear to interact with"
        }
      ],
      "get": {
        "summary": "Get a schema for invoking a gear.",
        "operationId": "get_gear_invocation",
        "tags": [
          "gears"
        ],
        "responses": {
          "200": {
            "description": "The gear invocation schema.",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    },
    "/gears/{GearId}/context/{ContainerType}/{ContainerId}": {
      "parameters": [
        {
          "name": "GearId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "Id of the gear to interact with"
        },
        {
          "name": "ContainerType",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "Type of the container to interact with"
        },
        {
          "name": "ContainerId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "Id of the container to interact with"
        }
      ],
      "get": {
        "summary": "Get context values for the given gear and container.",
        "description": "Ref: https://github.com/flywheel-io/gears/tree/master/spec#contextual-values\n",
        "operationId": "get_gear_context",
        "tags": [
          "gears"
        ],
        "responses": {
          "200": {
            "description": "The gear context values.",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/gear-context-lookup"
                }
              ],
              "example": {
                "X": {
                  "found": true,
                  "container_type": "project",
                  "label": "Project Bob",
                  "id": "58063f24e5dc5b001657a93c",
                  "value": "some super important value"
                },
                "Y": {
                  "found": false
                }
              }
            }
          }
        }
      }
    },
    "/devices": {
      "get": {
        "summary": "List all devices.",
        "description": "Requires login.",
        "operationId": "get_all_devices",
        "tags": [
          "devices"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/device-output"
              }
            },
            "examples": {
              "response": [
                {
                  "_id": "000000000000000000000000",
                  "type": "bootstrapper",
                  "name": "Bootstrapper",
                  "errors": null,
                  "interval": 500,
                  "last_seen": "2016-11-28T18:54:11.880000+00:00"
                },
                {
                  "_id": "000000000000000000000001",
                  "type": "gear-register",
                  "name": "flywheel-utility",
                  "errors": null,
                  "interval": 700,
                  "last_seen": "2016-11-29T18:51:39.836000+00:00"
                },
                {
                  "_id": "000000000000000000000002",
                  "type": "importer",
                  "name": "admin import",
                  "errors": null,
                  "last_seen": "2016-11-28T18:57:27.104000+00:00"
                },
                {
                  "_id": "000000000000000000000003",
                  "type": "cron",
                  "name": "Cron",
                  "errors": null,
                  "last_seen": "2016-11-28T23:17:01.261000+00:00"
                },
                {
                  "_id": "000000000000000000000004",
                  "type": "test_type",
                  "name": "example_drone",
                  "info": {
                    "basic": "info"
                  },
                  "errors": [
                    "An Error"
                  ],
                  "interval": 400,
                  "last_seen": "2016-11-28T23:14:06.004000+00:00"
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "Create a new device.",
        "description": "Will create a new device record together with an api key.\nRequest must be an admin request.\n",
        "operationId": "create_device",
        "tags": [
          "devices"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "example": {
                "modified": "1"
              }
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/device-input"
                }
              ],
              "example": {
                "type": "reaper",
                "label": "UI-friendly Reaper Name"
              }
            }
          }
        ]
      }
    },
    "/devices/self": {
      "put": {
        "summary": "Modify a device's type, name, interval, info or set errors.",
        "description": "Will modify the device record of the device making the request.\nType may only be set once if not already specified at creation.\nRequest must be a drone request.\n",
        "operationId": "update_device",
        "tags": [
          "devices"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/device-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "000000000000000000000000",
                "type": "reaper",
                "name": "FolderReaper_tmp",
                "info": {
                  "basic": "info"
                },
                "errors": [
                  "An Error"
                ],
                "interval": 400,
                "last_seen": "2016-11-28T23:14:06.004000+00:00"
              }
            }
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/device-update"
                }
              ],
              "example": {
                "info": {
                  "basic": "info"
                },
                "errors": [
                  "An Error"
                ],
                "interval": 400
              }
            }
          }
        ]
      }
    },
    "/devices/status": {
      "get": {
        "summary": "Get status for all known devices.",
        "description": "ok - missing - error - unknown",
        "operationId": "get_all_devices_status",
        "tags": [
          "devices"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/device-status"
                }
              ]
            },
            "examples": {
              "response": {
                "bootstrapper_Bootstrapper": {
                  "status": "ok",
                  "last_seen": "2016-11-28T18:54:11.880000+00:00"
                },
                "test_method_example_drone": {
                  "status": "error",
                  "errors": [
                    "An Error"
                  ],
                  "last_seen": "2016-11-28T23:14:06.004000+00:00"
                },
                "gear-register_flywheel-utility": {
                  "status": "ok",
                  "last_seen": "2016-11-29T18:51:39.836000+00:00"
                },
                "cron_Cron": {
                  "status": "ok",
                  "last_seen": "2016-11-28T23:17:01.261000+00:00"
                },
                "importer_admin_import": {
                  "status": "unknown",
                  "last_seen": "2016-11-28T18:57:27.104000+00:00"
                }
              }
            }
          }
        }
      }
    },
    "/devices/{DeviceId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "DeviceId"
        }
      ],
      "get": {
        "summary": "Get device details",
        "operationId": "get_device",
        "tags": [
          "devices"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/device-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "000000000000000000000000",
                "type": "reaper",
                "name": "FolderReaper_tmp",
                "info": {
                  "basic": "info"
                },
                "errors": [
                  "An Error"
                ],
                "interval": 400,
                "last_seen": "2016-11-28T23:14:06.004000+00:00"
              }
            }
          },
          "404": {
            "description": "DeviceId not found"
          }
        }
      },
      "put": {
        "summary": "Update a device",
        "operationId": "modify_device",
        "tags": [
          "devices"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/device-admin-update"
                }
              ],
              "example": {
                "disabled": true
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Device updated"
          }
        }
      }
    },
    "/devices/{DeviceId}/key": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "DeviceId"
        }
      ],
      "post": {
        "summary": "Regenerate device API key",
        "operationId": "regenerate_key",
        "tags": [
          "devices"
        ],
        "responses": {
          "200": {
            "description": "The device API key was regenerated",
            "schema": {
              "example": {
                "key": "7VgPChbXA1PKRLHmQk"
              },
              "type": "object",
              "properties": {
                "key": {
                  "type": "string"
                }
              }
            }
          }
        }
      }
    },
    "/modalities": {
      "get": {
        "summary": "List all modalities.",
        "description": "Requires login.",
        "operationId": "get_all_modalities",
        "tags": [
          "modalities"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/modality"
              },
              "example": [
                {
                  "_id": "MR",
                  "classification": {
                    "Intent": [
                      "Functional",
                      "Diffusion"
                    ]
                  }
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "Create a new modality.",
        "operationId": "add_modality",
        "tags": [
          "modalities"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Modality",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/modality"
                }
              ],
              "required": [
                "classification"
              ],
              "example": {
                "_id": "MR",
                "classification": {
                  "Intent": [
                    "Functional",
                    "Diffusion"
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/modalities/{ModalityId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ModalityId"
        }
      ],
      "get": {
        "summary": "Get a modality's classification specification",
        "operationId": "get_modality",
        "tags": [
          "modalities"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/modality"
                }
              ],
              "example": {
                "_id": "MR",
                "classification": {
                  "Intent": [
                    "Functional",
                    "Diffusion"
                  ]
                }
              }
            }
          },
          "404": {
            "description": "ModalityId not found"
          }
        }
      },
      "put": {
        "summary": "Replace modality",
        "operationId": "replace_modality",
        "tags": [
          "modalities"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Modality",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/modality"
                }
              ],
              "required": [
                "classification"
              ],
              "example": {
                "_id": "MR",
                "classification": {
                  "Intent": [
                    "Functional",
                    "Diffusion"
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          },
          "404": {
            "description": "ModalityId not found"
          }
        }
      },
      "delete": {
        "summary": "Delete a modality",
        "operationId": "delete_modality",
        "tags": [
          "modalities"
        ],
        "responses": {
          "200": {
            "description": ""
          },
          "404": {
            "description": "ModalityId not found"
          }
        }
      }
    },
    "/groups": {
      "get": {
        "summary": "List all groups",
        "operationId": "get_all_groups",
        "x-fw-pagination": true,
        "tags": [
          "groups"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/group-output-list"
                }
              ]
            },
            "examples": {
              "response": [
                {
                  "label": "Test Group",
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "group_admin@fakeuser.com"
                    },
                    {
                      "access": "rw",
                      "_id": "group_member_read-write@fakeuser.com"
                    },
                    {
                      "access": "ro",
                      "_id": "group_member_read-only@fakeuser.com"
                    }
                  ],
                  "created": "2016-08-19T11:41:15.360000+00:00",
                  "modified": "2016-08-19T11:41:15.360000+00:00",
                  "_id": "test_group"
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      },
      "post": {
        "summary": "Add a group",
        "operationId": "add_group",
        "tags": [
          "groups"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/group-input"
                }
              ],
              "required": [
                "_id"
              ],
              "example": {
                "label": "Example Group",
                "_id": "example_group"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/group-new-output"
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/groups/{GroupId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "GroupId"
        }
      ],
      "get": {
        "summary": "Get group info",
        "operationId": "get_group",
        "tags": [
          "groups"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/group-output"
                }
              ],
              "required": [
                "permissions",
                "created",
                "modified",
                "_id"
              ]
            },
            "examples": {
              "response": {
                "label": "Test Group",
                "permissions": [
                  {
                    "access": "admin",
                    "_id": "group_admin@fakeuser.com"
                  },
                  {
                    "access": "rw",
                    "_id": "group_member_read-write@fakeuser.com"
                  },
                  {
                    "access": "ro",
                    "_id": "group_member_read-only@fakeuser.com"
                  }
                ],
                "created": "2016-08-19T11:41:15.360000+00:00",
                "modified": "2016-08-19T11:41:15.360000+00:00",
                "_id": "test_group"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update group",
        "operationId": "modify_group",
        "tags": [
          "groups"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/group-input"
                }
              ],
              "example": {
                "label": "New group label"
              }
            }
          }
        ],
        "responses": {
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a group",
        "operationId": "delete_group",
        "tags": [
          "groups"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/groups/{GroupId}/projects": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "GroupId"
        }
      ],
      "get": {
        "summary": "Get all projects in a group",
        "operationId": "get_group_projects",
        "x-fw-pagination": true,
        "tags": [
          "groups"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/definitions/project-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "group",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "group": "scitran",
                  "created": "2016-09-22T21:51:53.151000+00:00",
                  "modified": "2016-09-22T21:51:53.151000+00:00",
                  "label": "Neuroscience",
                  "_id": "57e452791cff88b85f9f9c97",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-22T21:52:27.576000+00:00",
                  "modified": "2016-09-22T21:52:27.576000+00:00",
                  "label": "Psychology",
                  "_id": "57e4529b1cff88b85f9f9c98",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-22T21:52:52.539000+00:00",
                  "modified": "2016-09-22T21:52:52.539000+00:00",
                  "label": "Testdata",
                  "_id": "57e452b41cff88b85f9f9c99",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "test-group",
                  "created": "2016-09-22T21:54:47.925000+00:00",
                  "modified": "2016-09-22T21:54:47.925000+00:00",
                  "label": "test-project",
                  "description": "Test Project",
                  "_id": "57e45327466d8e000e33a859",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-29T18:53:06.199000+00:00",
                  "modified": "2016-09-29T18:53:06.199000+00:00",
                  "label": "test2",
                  "description": "Test Project Two",
                  "_id": "57ed6312466d8e01c91ee427",
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      }
    },
    "/groups/{GroupId}/permissions": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "GroupId"
        }
      ],
      "post": {
        "summary": "Add a permission",
        "operationId": "add_group_permission",
        "tags": [
          "groups"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission"
                }
              ],
              "required": [
                "_id",
                "access"
              ],
              "example": {
                "_id": "coltonlw@flywheel.io",
                "access": "admin"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/groups/{GroupId}/permissions/{UserId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "GroupId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "List a user's permissions for this group.",
        "operationId": "get_group_user_permission",
        "tags": [
          "groups"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission-output-default-required"
                }
              ]
            },
            "examples": {
              "response": {
                "access": "admin",
                "_id": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a user's permission for this group.",
        "operationId": "modify_group_user_permission",
        "tags": [
          "groups"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission"
                }
              ],
              "required": [
                "_id",
                "access"
              ],
              "example": {
                "_id": "coltonlw@flywheel.io",
                "access": "admin"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a permission",
        "operationId": "delete_group_user_permission",
        "tags": [
          "groups"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/groups/{GroupId}/tags": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "GroupId"
        }
      ],
      "post": {
        "summary": "Add a tag to group.",
        "description": "Progates changes to projects, sessions and acquisitions",
        "operationId": "add_group_tag",
        "tags": [
          "groups"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/groups/{GroupId}/tags/{TagValue}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "GroupId"
        },
        {
          "required": true,
          "description": "The tag to interact with",
          "type": "string",
          "in": "path",
          "name": "TagValue"
        }
      ],
      "get": {
        "summary": "Get the value of a tag, by name.",
        "operationId": "get_group_tag",
        "tags": [
          "groups"
        ],
        "responses": {
          "200": {
            "description": "Returns a single tag by name",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ]
            },
            "examples": {
              "response": {
                "value": "example-tag"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Rename a tag.",
        "operationId": "rename_group_tag",
        "tags": [
          "groups"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "operationId": "delete_group_tag",
        "tags": [
          "groups"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/collections": {
      "get": {
        "summary": "List all collections.",
        "operationId": "get_all_collections",
        "x-fw-pagination": true,
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/collection-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "created": "2016-08-30T17:22:05.299000+00:00",
                  "curator": "user@test.com",
                  "label": "test",
                  "modified": "2016-08-30T17:22:05.299000+00:00",
                  "_id": "57c5c0bd9e512c606dd3df09",
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "user@test.com"
                    }
                  ]
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      },
      "post": {
        "summary": "Create a collection",
        "operationId": "add_collection",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Collection",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/collection-input"
                }
              ],
              "required": [
                "label"
              ],
              "example": {
                "label": "control-group",
                "description": "Control group collection"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/collection-new-output"
            },
            "examples": {
              "response": {
                "_id": "57bb486a9e512c41c8b7fdd5"
              }
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/collections/curators": {
      "get": {
        "summary": "List all curators of collections",
        "operationId": "get_all_collections_curators",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "properties": {
                  "firstname": {
                    "maxLength": 64,
                    "minLength": 1,
                    "title": "First Name",
                    "type": "string",
                    "description": "First name"
                  },
                  "lastname": {
                    "maxLength": 64,
                    "minLength": 1,
                    "title": "Last Name",
                    "type": "string",
                    "description": "Last name"
                  },
                  "_id": {
                    "type": "string",
                    "format": "email",
                    "description": "Database ID of a user"
                  }
                }
              }
            },
            "examples": {
              "response": [
                {
                  "lastname": "LW",
                  "_id": "coltonlw@flywheel.io",
                  "firstname": "Colton"
                }
              ]
            }
          }
        }
      }
    },
    "/collections/{CollectionId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        }
      ],
      "get": {
        "summary": "Retrieve a single collection",
        "operationId": "get_collection",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/collection-output"
                }
              ],
              "required": [
                "_id",
                "label",
                "created",
                "modified",
                "permissions"
              ]
            },
            "examples": {
              "response": {
                "created": "2016-08-30T17:22:05.299000+00:00",
                "curator": "user@test.com",
                "label": "test",
                "description": "Test collection",
                "modified": "2016-08-30T17:22:05.299000+00:00",
                "_id": "57c5c0bd9e512c606dd3df09",
                "permissions": [
                  {
                    "access": "admin",
                    "_id": "user@test.com"
                  }
                ]
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a collection and its contents",
        "operationId": "modify_collection",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Collection",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/collection-input-with-contents"
                }
              ],
              "example": {
                "contents": {
                  "operation": "add",
                  "nodes": [
                    {
                      "level": "session",
                      "_id": "57dc50b0931cefd8ac2a371e"
                    }
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Collection updated"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a collection",
        "operationId": "delete_collection",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "Collection was deleted"
          }
        }
      }
    },
    "/collections/{CollectionId}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        }
      ],
      "post": {
        "summary": "Update or replace info for a collection.",
        "operationId": "modify_collection_info",
        "x-sdk-modify-info": true,
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The info was updated successfully"
          }
        }
      }
    },
    "/collections/{CollectionId}/sessions": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        }
      ],
      "get": {
        "summary": "List sessions in a collection",
        "operationId": "get_collection_sessions",
        "x-fw-pagination": true,
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/session-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "project",
                  "created",
                  "modified",
                  "permissions",
                  "public",
                  "group",
                  "subject"
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "group": "scitran",
                  "created": "2016-09-19T17:13:48.164000+00:00",
                  "subject": {
                    "code": "ex4784",
                    "_id": "57e01cccb1dc04000fb83f02"
                  },
                  "modified": "2016-09-19T17:13:48.164000+00:00",
                  "label": "control_1",
                  "project": "57e01cccf6b5d5edbcb4e1cf",
                  "_id": "57e01cccb1dc04000fb83f03",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-19T17:13:54.873000+00:00",
                  "subject": {
                    "code": "ex6879",
                    "_id": "57e01cd2b1dc04000eb83f05"
                  },
                  "modified": "2016-09-19T17:13:54.873000+00:00",
                  "label": "control_2",
                  "project": "57e01cccf6b5d5edbcb4e1cf",
                  "_id": "57e01cd2b1dc04000eb83f06",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "group": "scitran",
                  "created": "2016-09-19T17:14:02.228000+00:00",
                  "subject": {
                    "code": "ex8403",
                    "_id": "57e01cdab1dc04000eb83f10"
                  },
                  "modified": "2016-09-19T17:14:02.228000+00:00",
                  "label": "patient_1",
                  "project": "57e01cccf6b5d5edbcb4e1cf",
                  "_id": "57e01cdab1dc04000eb83f11",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      }
    },
    "/collections/{CollectionId}/acquisitions": {
      "parameters": [
        {
          "name": "CollectionId",
          "in": "path",
          "type": "string",
          "required": true
        },
        {
          "name": "session",
          "in": "query",
          "type": "string",
          "description": "The id of a session, to which the acquisitions returned will be restricted"
        }
      ],
      "get": {
        "summary": "List acquisitions in a collection",
        "operationId": "get_collection_acquisitions",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/definitions/acquisition-output"
                  }
                ],
                "required": [
                  "_id",
                  "public",
                  "label",
                  "session",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "files": [
                    {
                      "origin": {
                        "method": "importer",
                        "type": "device",
                        "id": "importer_Admin_Import",
                        "name": "Admin Import"
                      },
                      "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                      "mimetype": "application/zip",
                      "classification": {},
                      "hash": "v0-sha384-dd3c97bfe0ad1fcba75ae6718c6e81038c59af4f447f5db194d52732efa4f955b28455db02eb64cad3e4e55f11e3679f",
                      "name": "4784_1_1_localizer_dicom.zip",
                      "tags": [],
                      "created": "2016-09-21T14:56:09.943000+00:00",
                      "modified": "2016-09-21T14:56:09.943000+00:00",
                      "modality": null,
                      "info": {},
                      "type": "dicom",
                      "size": 989933
                    }
                  ],
                  "created": "2016-09-21T14:56:10.026000+00:00",
                  "timestamp": "2016-09-21T19:24:45.539570+00:00",
                  "modified": "2016-09-21T14:56:10.026000+00:00",
                  "label": "4784_1_1_localizer",
                  "session": "57e29f8afab726000f7ec6b1",
                  "collections": [
                    "57e2a026675ca0000f0eeb0c"
                  ],
                  "_id": "57e29f8afab726000f7ec6b2",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "files": [
                    {
                      "origin": {
                        "method": "importer",
                        "type": "device",
                        "id": "importer_Admin_Import",
                        "name": "Admin Import"
                      },
                      "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                      "mimetype": "application/zip",
                      "classification": {},
                      "hash": "v0-sha384-ca055fb36845db86e4278cf6e185f8674d11a96f4b29af27e401fc495cc82ef6b53a5729c3757713064649dc71c8c725",
                      "name": "4784_3_1_t1_dicom.zip",
                      "tags": [],
                      "created": "2016-09-21T14:56:11.224000+00:00",
                      "modified": "2016-09-21T14:56:11.224000+00:00",
                      "modality": null,
                      "info": {},
                      "type": "dicom",
                      "size": 2921881
                    }
                  ],
                  "created": "2016-09-21T14:56:11.452000+00:00",
                  "timestamp": "2016-09-21T19:24:45.539580+00:00",
                  "modified": "2016-09-21T14:56:11.452000+00:00",
                  "label": "4784_3_1_t1",
                  "session": "57e29f8afab726000f7ec6b1",
                  "collections": [
                    "57e2a026675ca0000f0eeb0c"
                  ],
                  "_id": "57e29f8bfab726000e7ec6b0",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                },
                {
                  "files": [
                    {
                      "origin": {
                        "method": "importer",
                        "type": "device",
                        "id": "importer_Admin_Import",
                        "name": "Admin Import"
                      },
                      "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                      "mimetype": "application/zip",
                      "classification": {},
                      "hash": "v0-sha384-537e42b1dd8f1feef9844fbfb4f60461361e71cafa7055556097e9d0b9f7fac68c8f234ed126af9412bd43a548948847",
                      "name": "4784_5_1_fmri_dicom.zip",
                      "tags": [],
                      "created": "2016-09-21T14:56:13.580000+00:00",
                      "modified": "2016-09-21T14:56:13.580000+00:00",
                      "modality": null,
                      "info": {},
                      "type": "dicom",
                      "size": 4525137
                    }
                  ],
                  "created": "2016-09-21T14:56:13.886000+00:00",
                  "timestamp": "2016-09-21T19:24:45.539582+00:00",
                  "modified": "2016-09-21T14:56:13.886000+00:00",
                  "label": "4784_5_1_fmri",
                  "session": "57e29f8afab726000f7ec6b1",
                  "collections": [
                    "57e2a026675ca0000f0eeb0c"
                  ],
                  "_id": "57e29f8dfab726000e7ec6b3",
                  "public": false,
                  "permissions": [
                    {
                      "access": "admin",
                      "_id": "coltonlw@flywheel.io"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    },
    "/collections/{CollectionId}/tags": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        }
      ],
      "post": {
        "summary": "Add a tag to collection.",
        "description": "Progates changes to projects, sessions and acquisitions",
        "operationId": "add_collection_tag",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/collections/{CollectionId}/tags/{TagValue}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "description": "The tag to interact with",
          "type": "string",
          "in": "path",
          "name": "TagValue"
        }
      ],
      "get": {
        "summary": "Get the value of a tag, by name.",
        "operationId": "get_collection_tag",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "Returns a single tag by name",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ]
            },
            "examples": {
              "response": {
                "value": "example-tag"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Rename a tag.",
        "operationId": "rename_collection_tag",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "operationId": "delete_collection_tag",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/collections/{CollectionId}/files": {
      "parameters": [
        {
          "name": "CollectionId",
          "in": "path",
          "type": "string",
          "required": true
        }
      ],
      "post": {
        "summary": "Upload a file to collection.",
        "operationId": "upload_file_to_collection",
        "tags": [
          "collections"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          },
          {
            "name": "metadata",
            "in": "formData",
            "type": "string",
            "description": "File metadata"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/collections/{CollectionId}/files/{FileName}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Download a file.",
        "description": "Files can be downloaded directly from this endpoint with a valid \"Authorization\" header or via a ticket id.\n\nTo generate a ticket:\n  - Make a request with an empty \"ticket\" parameter and a valid \"Authorization\" header. The server will respond with a generated ticket id.\n  - Make another request with the received ticket id in the \"ticket\" parameter. A valid \"Authorization\" header is no longer required.\n\nWhen \"view\" is true, [RFC7233](https://tools.ietf.org/html/rfc7233) range request headers are supported.\n",
        "operationId": "download_file_from_collection",
        "tags": [
          "collections"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "The generated ticket id for the download, or present but empty to generate a ticket id"
          },
          {
            "name": "view",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If true, the proper \"Content-Type\" header based on the file's mimetype is set on response\nIf false, the \"Content-Type\" header is set to \"application/octet-stream\"\n"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_collection_download_ticket",
        "x-sdk-get-zip-info": "get_collection_file_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/download-ticket"
            },
            "examples": {
              "response": {
                "ticket": "1e975e3d-21e9-41f4-bb97-261f03d35ba1"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Replace a file",
        "operationId": "replace_collection_file",
        "tags": [
          "collections"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "delete": {
        "summary": "Delete a file",
        "description": "A user with read-write or higher permissions on the container may delete files\nthat were uploaded by users or were the output of jobs. (Specifically, files\nwhose `origin.type` is either `job` or `user`.)\n<br/>\nA user with admin permissions on the container may delete any file.\n",
        "operationId": "delete_collection_file",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      },
      "put": {
        "summary": "Modify a file's attributes",
        "description": "Note: If modifying a file's modality, the current classification will be cleared (except for items in the \"Custom\" list)\n",
        "operationId": "modify_collection_file",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/file-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/collections/{CollectionId}/files/{FileName}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Get info for a particular file.",
        "operationId": "get_collection_file_info",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "The file object, including info",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/file-output"
                }
              ],
              "example": {
                "origin": {
                  "type": "job",
                  "id": "58063f24e5dc5b001657a87f"
                },
                "mimetype": "application/octet-stream",
                "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                "name": "cortical_surface_right_hemisphere.obj",
                "tags": [],
                "classification": {},
                "modified": "2016-10-18T15:26:35.701000+00:00",
                "modality": null,
                "size": 21804112,
                "type": "None",
                "info": {}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update info for a particular file.",
        "operationId": "modify_collection_file_info",
        "x-sdk-modify-info": true,
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/collections/{CollectionId}/files/{FileName}/classification": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "post": {
        "summary": "Update classification for a particular file.",
        "description": "If replacing a file's classification, the modality can optionally be modified as well.",
        "operationId": "modify_collection_file_classification",
        "x-sdk-modify-classification": true,
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/classification-update-input"
                }
              ],
              "example": {
                "modality": "MR",
                "replace": {
                  "Intent": [
                    "Functional"
                  ],
                  "Measurement": [
                    "T2*"
                  ],
                  "Custom": [
                    "Custom Value"
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/collections/{CollectionId}/permissions": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        }
      ],
      "post": {
        "summary": "Add a permission",
        "operationId": "add_collection_permission",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission"
                }
              ],
              "required": [
                "_id",
                "access"
              ],
              "example": {
                "_id": "coltonlw@flywheel.io",
                "access": "admin"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/collections/{CollectionId}/permissions/{UserId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "List a user's permissions for this collection.",
        "operationId": "get_collection_user_permission",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission-output-default-required"
                }
              ]
            },
            "examples": {
              "response": {
                "access": "admin",
                "_id": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a user's permission for this collection.",
        "operationId": "modify_collection_user_permission",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission"
                }
              ],
              "required": [
                "_id",
                "access"
              ],
              "example": {
                "_id": "coltonlw@flywheel.io",
                "access": "admin"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a permission",
        "operationId": "delete_collection_user_permission",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/collections/{CollectionId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        }
      ],
      "post": {
        "summary": "Add a note to collection.",
        "operationId": "add_collection_note",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/collections/{CollectionId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "get": {
        "summary": "Get a note on collection.",
        "operationId": "get_collection_note",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "580925ce9e512c57dc8a103b",
                "text": "some text",
                "created": "2016-10-21T17:19:40.899000+00:00",
                "modified": "2016-10-21T17:19:40.899000+00:00",
                "user": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a note on collection.",
        "operationId": "modify_collection_note",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Remove a note from collection",
        "operationId": "delete_collection_note",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/collections/{CollectionId}/analyses": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        }
      ],
      "get": {
        "summary": "Get analyses for collection.",
        "description": "Returns analyses that directly belong to this resource.",
        "operationId": "get_collection_analyses",
        "x-fw-pagination": true,
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "description": "The list of analyses",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/analysis-list-entry"
              },
              "example": [
                {
                  "files": [
                    {
                      "origin": {
                        "type": "job",
                        "id": "58063f24e5dc5b001657a87f"
                      },
                      "mimetype": "application/octet-stream",
                      "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                      "name": "cortical_surface_right_hemisphere.obj",
                      "tags": [],
                      "classification": {},
                      "modified": "2016-10-18T15:26:35.701000+00:00",
                      "modality": null,
                      "size": 21804112,
                      "type": "None",
                      "info": {}
                    }
                  ],
                  "created": "2016-10-18T17:45:11.778000+00:00",
                  "modified": "2016-10-18T17:45:11.778000+00:00",
                  "label": "cortex-demo 10/18/2016 13:45:5",
                  "job": "58065fa7e5dc5b001457a882",
                  "user": "canakgun@flywheel.io",
                  "_id": "58065fa7e5dc5b001457a881"
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      },
      "post": {
        "summary": "Create an analysis and upload files.",
        "description": "When query param \"job\" is \"true\", send JSON to create\nan analysis and job.  Otherwise, multipart/form-data\nto upload files and create an analysis.\n",
        "operationId": "add_collection_analysis",
        "tags": [
          "collections"
        ],
        "consumes": [
          "application/json",
          "multipart/form-data"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-input-any"
                }
              ],
              "required": [
                "label"
              ]
            }
          },
          {
            "name": "job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the id of the analysis that was created.",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          }
        }
      }
    },
    "/collections/{CollectionId}/analyses/{AnalysisId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Get an analysis.",
        "operationId": "get_collection_analysis",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "inflate_job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58063f24e5dc5b001657a87f"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T15:26:35.701000+00:00",
                    "modality": null,
                    "size": 21804112,
                    "type": "None",
                    "info": {}
                  }
                ],
                "files": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58065fa7e5dc5b001457a882"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T17:45:17.776000+00:00",
                    "modality": null,
                    "info": {},
                    "type": "None",
                    "size": 21804112
                  }
                ],
                "created": "2016-10-18T17:45:11.778000+00:00",
                "modified": "2016-10-18T17:45:11.778000+00:00",
                "label": "cortex-demo 10/18/2016 13:45:5",
                "job": {
                  "inputs": {
                    "anatomy": {
                      "type": "analysis",
                      "id": "58063f24e5dc5b001657a87e",
                      "name": "cortical_surface_right_hemisphere.obj"
                    }
                  },
                  "attempt": 1,
                  "tags": [
                    "ad-hoc",
                    "cortex-demo",
                    "analysis"
                  ],
                  "destination": {
                    "type": "analysis",
                    "id": "58065fa7e5dc5b001457a881"
                  },
                  "request": {
                    "inputs": [
                      {
                        "location": "/",
                        "type": "http",
                        "uri": "https://storage.googleapis.com/flywheel/gears/v1/scitran/cortex-demo/cortex-demo_manifest-labels_20160725T031837.331720Z.tar.gz",
                        "vu": "vu0:sha384:ssx5VWyFg7r8IBoOIphq7GaB_CymInQ1NxTV2WTDzglJLJ1-ktEbjLIHVABRzesV"
                      },
                      {
                        "type": "scitran",
                        "uri": "/jobs/58065fa7e5dc5b001457a882/config.json",
                        "location": "/flywheel/v0"
                      },
                      {
                        "type": "scitran",
                        "uri": "/sessions/58063e7ed213ed776045b320/analyses/58063f24e5dc5b001657a87e/files/cortical_surface_right_hemisphere.obj",
                        "location": "/flywheel/v0/input/anatomy"
                      }
                    ],
                    "target": {
                      "command": [
                        "bash",
                        "-c",
                        "rm -rf output; mkdir -p output; ./run; echo \"Exit was $?\""
                      ],
                      "env": {
                        "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                      },
                      "dir": "/flywheel/v0"
                    },
                    "outputs": [
                      {
                        "type": "scitran",
                        "uri": "/engine?level=analysis&id=58065fa7e5dc5b001457a881&job=58065fa7e5dc5b001457a882",
                        "location": "/flywheel/v0/output"
                      }
                    ]
                  },
                  "modified": "2016-10-18T17:45:21.344000+00:00",
                  "created": "2016-10-18T17:45:11.816000+00:00",
                  "state": "complete",
                  "config": {},
                  "id": "58065fa7e5dc5b001457a882",
                  "gear_id": "58065fa7e5dc5b001457a882"
                },
                "_id": "58065fa7e5dc5b001457a881"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Modify an analysis.",
        "operationId": "modify_collection_analysis",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete an anaylsis",
        "operationId": "delete_collection_analysis",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/collections/{CollectionId}/analyses/{AnalysisId}/inputs": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis inputs.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for all inputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_collection_analysis_inputs",
        "tags": [
          "collections"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the inputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/collections/{CollectionId}/analyses/{AnalysisId}/inputs/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis inputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching inputs in the analysis.\nIf no \"ticket\" query param is included, inputs will be downloaded directly.\n",
        "operationId": "download_input_from_collection_analysis",
        "tags": [
          "collections"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the inputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_collection_analysis_input_download_ticket",
        "x-sdk-get-zip-info": "get_collection_analysis_input_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/collections/{CollectionId}/analyses/{AnalysisId}/files": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis outputs.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for all outputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_collection_analysis_outputs",
        "tags": [
          "collections"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the outputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      },
      "post": {
        "summary": "Upload an output file to analysis.",
        "operationId": "upload_output_to_collection_analysis",
        "tags": [
          "collections"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/collections/{CollectionId}/analyses/{AnalysisId}/files/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis outputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching outputs in the analysis.\nIf no \"ticket\" query param is included, outputs will be downloaded directly.\n",
        "operationId": "download_output_from_collection_analysis",
        "tags": [
          "collections"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the outputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_collection_analysis_output_download_ticket",
        "x-sdk-get-zip-info": "get_collection_analysis_output_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/collections/{CollectionId}/analyses/{AnalysisId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Add a note to collection analysis.",
        "operationId": "add_collection_analysis_note",
        "tags": [
          "collections"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/collections/{CollectionId}/analyses/{AnalysisId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "CollectionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "delete": {
        "summary": "Remove a note from collection analysis.",
        "operationId": "delete_collection_analysis_note",
        "tags": [
          "collections"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/subjects": {
      "get": {
        "summary": "Get a list of subjects",
        "operationId": "get_all_subjects",
        "x-fw-pagination": true,
        "x-fw-default-limit": 1000,
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "boolean",
            "name": "exhaustive",
            "description": "Set to return a complete list regardless of permissions"
          },
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return.",
            "x-sdk-default": 1000
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/subject-output"
                  }
                ],
                "required": [
                  "_id",
                  "code",
                  "project",
                  "created",
                  "modified",
                  "permissions",
                  "public"
                ]
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new subject",
        "operationId": "add_subject",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/subject-input"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/subjects/{SubjectId}": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "SubjectId",
          "required": true
        }
      ],
      "get": {
        "summary": "Get a single subject",
        "operationId": "get_subject",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/subject-output"
                }
              ],
              "required": [
                "_id",
                "code",
                "project",
                "created",
                "modified",
                "permissions",
                "public"
              ]
            }
          }
        }
      },
      "put": {
        "summary": "Update a subject",
        "operationId": "modify_subject",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/subject-input"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a subject",
        "operationId": "delete_subject",
        "description": "Read-write project permissions are required to delete a subject. </br>Admin project permissions are required if the subject or it's acquisitions contain data uploaded by sources other than users and jobs.",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/subjects/{SubjectId}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        }
      ],
      "post": {
        "summary": "Update or replace info for a subject.",
        "operationId": "modify_subject_info",
        "x-sdk-modify-info": true,
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The info was updated successfully"
          }
        }
      }
    },
    "/subjects/{SubjectId}/sessions": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "SubjectId",
          "required": true
        }
      ],
      "get": {
        "summary": "List sessions of a subject",
        "operationId": "get_subject_sessions",
        "x-fw-pagination": true,
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/session-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "project",
                  "created",
                  "modified",
                  "permissions",
                  "public",
                  "group",
                  "subject"
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      }
    },
    "/subjects/{SubjectId}/tags": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        }
      ],
      "post": {
        "summary": "Add a tag to subject.",
        "description": "Progates changes to projects, sessions and acquisitions",
        "operationId": "add_subject_tag",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/subjects/{SubjectId}/tags/{TagValue}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "description": "The tag to interact with",
          "type": "string",
          "in": "path",
          "name": "TagValue"
        }
      ],
      "get": {
        "summary": "Get the value of a tag, by name.",
        "operationId": "get_subject_tag",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "description": "Returns a single tag by name",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ]
            },
            "examples": {
              "response": {
                "value": "example-tag"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Rename a tag.",
        "operationId": "rename_subject_tag",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "operationId": "delete_subject_tag",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/subjects/{SubjectId}/files": {
      "parameters": [
        {
          "name": "SubjectId",
          "in": "path",
          "type": "string",
          "required": true
        }
      ],
      "post": {
        "summary": "Upload a file to subject.",
        "operationId": "upload_file_to_subject",
        "tags": [
          "subjects"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          },
          {
            "name": "metadata",
            "in": "formData",
            "type": "string",
            "description": "File metadata"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/subjects/{SubjectId}/files/{FileName}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Download a file.",
        "description": "Files can be downloaded directly from this endpoint with a valid \"Authorization\" header or via a ticket id.\n\nTo generate a ticket:\n  - Make a request with an empty \"ticket\" parameter and a valid \"Authorization\" header. The server will respond with a generated ticket id.\n  - Make another request with the received ticket id in the \"ticket\" parameter. A valid \"Authorization\" header is no longer required.\n\nWhen \"view\" is true, [RFC7233](https://tools.ietf.org/html/rfc7233) range request headers are supported.\n",
        "operationId": "download_file_from_subject",
        "tags": [
          "subjects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "The generated ticket id for the download, or present but empty to generate a ticket id"
          },
          {
            "name": "view",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If true, the proper \"Content-Type\" header based on the file's mimetype is set on response\nIf false, the \"Content-Type\" header is set to \"application/octet-stream\"\n"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_subject_download_ticket",
        "x-sdk-get-zip-info": "get_subject_file_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/download-ticket"
            },
            "examples": {
              "response": {
                "ticket": "1e975e3d-21e9-41f4-bb97-261f03d35ba1"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Replace a file",
        "operationId": "replace_subject_file",
        "tags": [
          "subjects"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "delete": {
        "summary": "Delete a file",
        "description": "A user with read-write or higher permissions on the container may delete files\nthat were uploaded by users or were the output of jobs. (Specifically, files\nwhose `origin.type` is either `job` or `user`.)\n<br/>\nA user with admin permissions on the container may delete any file.\n",
        "operationId": "delete_subject_file",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      },
      "put": {
        "summary": "Modify a file's attributes",
        "description": "Note: If modifying a file's modality, the current classification will be cleared (except for items in the \"Custom\" list)\n",
        "operationId": "modify_subject_file",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/file-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/subjects/{SubjectId}/files/{FileName}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Get info for a particular file.",
        "operationId": "get_subject_file_info",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "description": "The file object, including info",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/file-output"
                }
              ],
              "example": {
                "origin": {
                  "type": "job",
                  "id": "58063f24e5dc5b001657a87f"
                },
                "mimetype": "application/octet-stream",
                "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                "name": "cortical_surface_right_hemisphere.obj",
                "tags": [],
                "classification": {},
                "modified": "2016-10-18T15:26:35.701000+00:00",
                "modality": null,
                "size": 21804112,
                "type": "None",
                "info": {}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update info for a particular file.",
        "operationId": "modify_subject_file_info",
        "x-sdk-modify-info": true,
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/subjects/{SubjectId}/files/{FileName}/classification": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "post": {
        "summary": "Update classification for a particular file.",
        "description": "If replacing a file's classification, the modality can optionally be modified as well.",
        "operationId": "modify_subject_file_classification",
        "x-sdk-modify-classification": true,
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/classification-update-input"
                }
              ],
              "example": {
                "modality": "MR",
                "replace": {
                  "Intent": [
                    "Functional"
                  ],
                  "Measurement": [
                    "T2*"
                  ],
                  "Custom": [
                    "Custom Value"
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/subjects/{SubjectId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        }
      ],
      "post": {
        "summary": "Add a note to subject.",
        "operationId": "add_subject_note",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/subjects/{SubjectId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "get": {
        "summary": "Get a note on subject.",
        "operationId": "get_subject_note",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "580925ce9e512c57dc8a103b",
                "text": "some text",
                "created": "2016-10-21T17:19:40.899000+00:00",
                "modified": "2016-10-21T17:19:40.899000+00:00",
                "user": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a note on subject.",
        "operationId": "modify_subject_note",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Remove a note from subject",
        "operationId": "delete_subject_note",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/subjects/{SubjectId}/analyses": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        }
      ],
      "get": {
        "summary": "Get analyses for subject.",
        "description": "Returns analyses that directly belong to this resource.",
        "operationId": "get_subject_analyses",
        "x-fw-pagination": true,
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "description": "The list of analyses",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/analysis-list-entry"
              },
              "example": [
                {
                  "files": [
                    {
                      "origin": {
                        "type": "job",
                        "id": "58063f24e5dc5b001657a87f"
                      },
                      "mimetype": "application/octet-stream",
                      "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                      "name": "cortical_surface_right_hemisphere.obj",
                      "tags": [],
                      "classification": {},
                      "modified": "2016-10-18T15:26:35.701000+00:00",
                      "modality": null,
                      "size": 21804112,
                      "type": "None",
                      "info": {}
                    }
                  ],
                  "created": "2016-10-18T17:45:11.778000+00:00",
                  "modified": "2016-10-18T17:45:11.778000+00:00",
                  "label": "cortex-demo 10/18/2016 13:45:5",
                  "job": "58065fa7e5dc5b001457a882",
                  "user": "canakgun@flywheel.io",
                  "_id": "58065fa7e5dc5b001457a881"
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      },
      "post": {
        "summary": "Create an analysis and upload files.",
        "description": "When query param \"job\" is \"true\", send JSON to create\nan analysis and job.  Otherwise, multipart/form-data\nto upload files and create an analysis.\n",
        "operationId": "add_subject_analysis",
        "tags": [
          "subjects"
        ],
        "consumes": [
          "application/json",
          "multipart/form-data"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-input-any"
                }
              ],
              "required": [
                "label"
              ]
            }
          },
          {
            "name": "job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the id of the analysis that was created.",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          }
        }
      }
    },
    "/subjects/{SubjectId}/analyses/{AnalysisId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Get an analysis.",
        "operationId": "get_subject_analysis",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "inflate_job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58063f24e5dc5b001657a87f"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T15:26:35.701000+00:00",
                    "modality": null,
                    "size": 21804112,
                    "type": "None",
                    "info": {}
                  }
                ],
                "files": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58065fa7e5dc5b001457a882"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T17:45:17.776000+00:00",
                    "modality": null,
                    "info": {},
                    "type": "None",
                    "size": 21804112
                  }
                ],
                "created": "2016-10-18T17:45:11.778000+00:00",
                "modified": "2016-10-18T17:45:11.778000+00:00",
                "label": "cortex-demo 10/18/2016 13:45:5",
                "job": {
                  "inputs": {
                    "anatomy": {
                      "type": "analysis",
                      "id": "58063f24e5dc5b001657a87e",
                      "name": "cortical_surface_right_hemisphere.obj"
                    }
                  },
                  "attempt": 1,
                  "tags": [
                    "ad-hoc",
                    "cortex-demo",
                    "analysis"
                  ],
                  "destination": {
                    "type": "analysis",
                    "id": "58065fa7e5dc5b001457a881"
                  },
                  "request": {
                    "inputs": [
                      {
                        "location": "/",
                        "type": "http",
                        "uri": "https://storage.googleapis.com/flywheel/gears/v1/scitran/cortex-demo/cortex-demo_manifest-labels_20160725T031837.331720Z.tar.gz",
                        "vu": "vu0:sha384:ssx5VWyFg7r8IBoOIphq7GaB_CymInQ1NxTV2WTDzglJLJ1-ktEbjLIHVABRzesV"
                      },
                      {
                        "type": "scitran",
                        "uri": "/jobs/58065fa7e5dc5b001457a882/config.json",
                        "location": "/flywheel/v0"
                      },
                      {
                        "type": "scitran",
                        "uri": "/sessions/58063e7ed213ed776045b320/analyses/58063f24e5dc5b001657a87e/files/cortical_surface_right_hemisphere.obj",
                        "location": "/flywheel/v0/input/anatomy"
                      }
                    ],
                    "target": {
                      "command": [
                        "bash",
                        "-c",
                        "rm -rf output; mkdir -p output; ./run; echo \"Exit was $?\""
                      ],
                      "env": {
                        "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                      },
                      "dir": "/flywheel/v0"
                    },
                    "outputs": [
                      {
                        "type": "scitran",
                        "uri": "/engine?level=analysis&id=58065fa7e5dc5b001457a881&job=58065fa7e5dc5b001457a882",
                        "location": "/flywheel/v0/output"
                      }
                    ]
                  },
                  "modified": "2016-10-18T17:45:21.344000+00:00",
                  "created": "2016-10-18T17:45:11.816000+00:00",
                  "state": "complete",
                  "config": {},
                  "id": "58065fa7e5dc5b001457a882",
                  "gear_id": "58065fa7e5dc5b001457a882"
                },
                "_id": "58065fa7e5dc5b001457a881"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Modify an analysis.",
        "operationId": "modify_subject_analysis",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete an anaylsis",
        "operationId": "delete_subject_analysis",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/subjects/{SubjectId}/analyses/{AnalysisId}/inputs": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis inputs.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for all inputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_subject_analysis_inputs",
        "tags": [
          "subjects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the inputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/subjects/{SubjectId}/analyses/{AnalysisId}/inputs/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis inputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching inputs in the analysis.\nIf no \"ticket\" query param is included, inputs will be downloaded directly.\n",
        "operationId": "download_input_from_subject_analysis",
        "tags": [
          "subjects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the inputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_subject_analysis_input_download_ticket",
        "x-sdk-get-zip-info": "get_subject_analysis_input_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/subjects/{SubjectId}/analyses/{AnalysisId}/files": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis outputs.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for all outputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_subject_analysis_outputs",
        "tags": [
          "subjects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the outputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      },
      "post": {
        "summary": "Upload an output file to analysis.",
        "operationId": "upload_output_to_subject_analysis",
        "tags": [
          "subjects"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/subjects/{SubjectId}/analyses/{AnalysisId}/files/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis outputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching outputs in the analysis.\nIf no \"ticket\" query param is included, outputs will be downloaded directly.\n",
        "operationId": "download_output_from_subject_analysis",
        "tags": [
          "subjects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the outputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_subject_analysis_output_download_ticket",
        "x-sdk-get-zip-info": "get_subject_analysis_output_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/subjects/{SubjectId}/analyses/{AnalysisId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Add a note to subject analysis.",
        "operationId": "add_subject_analysis_note",
        "tags": [
          "subjects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/subjects/{SubjectId}/analyses/{AnalysisId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SubjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "delete": {
        "summary": "Remove a note from subject analysis.",
        "operationId": "delete_subject_analysis_note",
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/subjects/master-code": {
      "post": {
        "summary": "Request a master subject code for the given patient",
        "description": "The workflow is the following.\n  - send `patient_id` (e.g., MRN) and/or `first_name`, `last_name`, `date_of_birth`\n  - indicate whether to use `patient_id` for identification or `first_name`, `last_name`, `date_of_birth`\n    by the `use_patient_id` field\n  - the response will contain a master subject code\n  - if you send the same identifying information again, you will receive the same code\n\nNote that if you received a MSC code for example by just providing the `patient_id`, you can save more information for that MSC in a second request (`first_name`, `last_name`, `date_of_birth`). Only the missing fields will be set, so you can't update any existing field (e.g. changing the name).\nSince you can create multiple MSC codes with the same name and date of birth using different patient ids, you will get HTTP 400 error if you request an MSC code by name and date of birth and there are multiple matches. In this case you need to use patient id.\n",
        "operationId": "create_master_subject_code",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "first_name": {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 64,
                  "description": "First name",
                  "pattern": "^.*[a-zA-Z]+.*"
                },
                "last_name": {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 64,
                  "description": "Last name",
                  "pattern": "^.*[a-zA-Z]+.*"
                },
                "date_of_birth": {
                  "type": "string",
                  "description": "Date of birth in YYYY-MM-DD format",
                  "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
                },
                "patient_id": {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 64,
                  "description": "Patient id",
                  "pattern": "^.*[0-9a-zA-Z]+.*"
                },
                "use_patient_id": {
                  "type": "boolean",
                  "description": "Use patient ID for identification or first name, last name, DOB"
                }
              },
              "example": {
                "use_patient_id": true,
                "patient_id": "MRN-123456"
              }
            }
          }
        ],
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/master-subject-code-code-output"
                }
              ],
              "example": {
                "code": "fw-BC55DF"
              }
            }
          },
          "400": {
            "description": "Input validation error, or multiple MSC codes found."
          },
          "409": {
            "description": "Couldn't create new master subject code. The server running out of free codes or you used a patient id which already exists.\n"
          }
        }
      }
    },
    "/subjects/master-code/{code}": {
      "get": {
        "summary": "Verify that the given master subject code exists or not",
        "operationId": "verify_master_subject_code",
        "parameters": [
          {
            "name": "code",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "tags": [
          "subjects"
        ],
        "responses": {
          "200": {
            "description": "The code exists"
          },
          "404": {
            "description": "The code doesn't exist"
          }
        }
      }
    },
    "/sessions": {
      "get": {
        "summary": "Get a list of sessions",
        "operationId": "get_all_sessions",
        "x-fw-pagination": true,
        "x-fw-default-limit": 1000,
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "boolean",
            "name": "exhaustive",
            "description": "Set to return a complete list regardless of permissions"
          },
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return.",
            "x-sdk-default": 1000
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/session-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "project",
                  "created",
                  "modified",
                  "permissions",
                  "public",
                  "group",
                  "subject"
                ]
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new session",
        "operationId": "add_session",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Session",
              "allOf": [
                {
                  "$ref": "#/definitions/session-input"
                }
              ],
              "required": [
                "label",
                "project"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/sessions/{SessionId}": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "SessionId",
          "required": true
        }
      ],
      "get": {
        "summary": "Get a single session",
        "operationId": "get_session",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/session-output"
                }
              ],
              "required": [
                "_id",
                "label",
                "project",
                "created",
                "modified",
                "permissions",
                "public",
                "group",
                "subject"
              ]
            }
          }
        }
      },
      "put": {
        "summary": "Update a session",
        "operationId": "modify_session",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Session",
              "allOf": [
                {
                  "$ref": "#/definitions/session-input"
                }
              ],
              "required": [
                "label",
                "project"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a session",
        "operationId": "delete_session",
        "description": "Read-write project permissions are required to delete a session. </br>Admin project permissions are required if the session or it's acquisitions contain data uploaded by sources other than users and jobs.",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/sessions/{SessionId}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        }
      ],
      "post": {
        "summary": "Update or replace info for a session.",
        "operationId": "modify_session_info",
        "x-sdk-modify-info": true,
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The info was updated successfully"
          }
        }
      }
    },
    "/sessions/{SessionId}/jobs": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "SessionId",
          "required": true
        }
      ],
      "get": {
        "summary": "Return any jobs that use inputs from this session",
        "operationId": "get_session_jobs",
        "x-fw-pagination": true,
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "states",
            "description": "filter results by job state"
          },
          {
            "in": "query",
            "type": "string",
            "name": "tags",
            "description": "filter results by job tags"
          },
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/session-jobs-output"
            }
          }
        }
      }
    },
    "/sessions/{SessionId}/tags": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        }
      ],
      "post": {
        "summary": "Add a tag to session.",
        "description": "Progates changes to projects, sessions and acquisitions",
        "operationId": "add_session_tag",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/sessions/{SessionId}/tags/{TagValue}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "description": "The tag to interact with",
          "type": "string",
          "in": "path",
          "name": "TagValue"
        }
      ],
      "get": {
        "summary": "Get the value of a tag, by name.",
        "operationId": "get_session_tag",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "description": "Returns a single tag by name",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ]
            },
            "examples": {
              "response": {
                "value": "example-tag"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Rename a tag.",
        "operationId": "rename_session_tag",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "operationId": "delete_session_tag",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/sessions/{SessionId}/files": {
      "parameters": [
        {
          "name": "SessionId",
          "in": "path",
          "type": "string",
          "required": true
        }
      ],
      "post": {
        "summary": "Upload a file to session.",
        "operationId": "upload_file_to_session",
        "tags": [
          "sessions"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          },
          {
            "name": "metadata",
            "in": "formData",
            "type": "string",
            "description": "File metadata"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/sessions/{SessionId}/files/{FileName}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Download a file.",
        "description": "Files can be downloaded directly from this endpoint with a valid \"Authorization\" header or via a ticket id.\n\nTo generate a ticket:\n  - Make a request with an empty \"ticket\" parameter and a valid \"Authorization\" header. The server will respond with a generated ticket id.\n  - Make another request with the received ticket id in the \"ticket\" parameter. A valid \"Authorization\" header is no longer required.\n\nWhen \"view\" is true, [RFC7233](https://tools.ietf.org/html/rfc7233) range request headers are supported.\n",
        "operationId": "download_file_from_session",
        "tags": [
          "sessions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "The generated ticket id for the download, or present but empty to generate a ticket id"
          },
          {
            "name": "view",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If true, the proper \"Content-Type\" header based on the file's mimetype is set on response\nIf false, the \"Content-Type\" header is set to \"application/octet-stream\"\n"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_session_download_ticket",
        "x-sdk-get-zip-info": "get_session_file_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/download-ticket"
            },
            "examples": {
              "response": {
                "ticket": "1e975e3d-21e9-41f4-bb97-261f03d35ba1"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Replace a file",
        "operationId": "replace_session_file",
        "tags": [
          "sessions"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "delete": {
        "summary": "Delete a file",
        "description": "A user with read-write or higher permissions on the container may delete files\nthat were uploaded by users or were the output of jobs. (Specifically, files\nwhose `origin.type` is either `job` or `user`.)\n<br/>\nA user with admin permissions on the container may delete any file.\n",
        "operationId": "delete_session_file",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      },
      "put": {
        "summary": "Modify a file's attributes",
        "description": "Note: If modifying a file's modality, the current classification will be cleared (except for items in the \"Custom\" list)\n",
        "operationId": "modify_session_file",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/file-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/sessions/{SessionId}/files/{FileName}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Get info for a particular file.",
        "operationId": "get_session_file_info",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "description": "The file object, including info",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/file-output"
                }
              ],
              "example": {
                "origin": {
                  "type": "job",
                  "id": "58063f24e5dc5b001657a87f"
                },
                "mimetype": "application/octet-stream",
                "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                "name": "cortical_surface_right_hemisphere.obj",
                "tags": [],
                "classification": {},
                "modified": "2016-10-18T15:26:35.701000+00:00",
                "modality": null,
                "size": 21804112,
                "type": "None",
                "info": {}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update info for a particular file.",
        "operationId": "modify_session_file_info",
        "x-sdk-modify-info": true,
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/sessions/{SessionId}/files/{FileName}/classification": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "post": {
        "summary": "Update classification for a particular file.",
        "description": "If replacing a file's classification, the modality can optionally be modified as well.",
        "operationId": "modify_session_file_classification",
        "x-sdk-modify-classification": true,
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/classification-update-input"
                }
              ],
              "example": {
                "modality": "MR",
                "replace": {
                  "Intent": [
                    "Functional"
                  ],
                  "Measurement": [
                    "T2*"
                  ],
                  "Custom": [
                    "Custom Value"
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/sessions/{SessionId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        }
      ],
      "post": {
        "summary": "Add a note to session.",
        "operationId": "add_session_note",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/sessions/{SessionId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "get": {
        "summary": "Get a note on session.",
        "operationId": "get_session_note",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "580925ce9e512c57dc8a103b",
                "text": "some text",
                "created": "2016-10-21T17:19:40.899000+00:00",
                "modified": "2016-10-21T17:19:40.899000+00:00",
                "user": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a note on session.",
        "operationId": "modify_session_note",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Remove a note from session",
        "operationId": "delete_session_note",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/sessions/{SessionId}/acquisitions": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "SessionId",
          "required": true
        }
      ],
      "get": {
        "summary": "List acquisitions in a session",
        "operationId": "get_session_acquisitions",
        "x-fw-pagination": true,
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/definitions/acquisition-output"
                  }
                ],
                "required": [
                  "_id",
                  "public",
                  "label",
                  "session",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      }
    },
    "/sessions/{SessionId}/analyses": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        }
      ],
      "get": {
        "summary": "Get analyses for session.",
        "description": "Returns analyses that directly belong to this resource.",
        "operationId": "get_session_analyses",
        "x-fw-pagination": true,
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "description": "The list of analyses",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/analysis-list-entry"
              },
              "example": [
                {
                  "files": [
                    {
                      "origin": {
                        "type": "job",
                        "id": "58063f24e5dc5b001657a87f"
                      },
                      "mimetype": "application/octet-stream",
                      "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                      "name": "cortical_surface_right_hemisphere.obj",
                      "tags": [],
                      "classification": {},
                      "modified": "2016-10-18T15:26:35.701000+00:00",
                      "modality": null,
                      "size": 21804112,
                      "type": "None",
                      "info": {}
                    }
                  ],
                  "created": "2016-10-18T17:45:11.778000+00:00",
                  "modified": "2016-10-18T17:45:11.778000+00:00",
                  "label": "cortex-demo 10/18/2016 13:45:5",
                  "job": "58065fa7e5dc5b001457a882",
                  "user": "canakgun@flywheel.io",
                  "_id": "58065fa7e5dc5b001457a881"
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      },
      "post": {
        "summary": "Create an analysis and upload files.",
        "description": "When query param \"job\" is \"true\", send JSON to create\nan analysis and job.  Otherwise, multipart/form-data\nto upload files and create an analysis.\n",
        "operationId": "add_session_analysis",
        "tags": [
          "sessions"
        ],
        "consumes": [
          "application/json",
          "multipart/form-data"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-input-any"
                }
              ],
              "required": [
                "label"
              ]
            }
          },
          {
            "name": "job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the id of the analysis that was created.",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          }
        }
      }
    },
    "/sessions/{SessionId}/analyses/{AnalysisId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Get an analysis.",
        "operationId": "get_session_analysis",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "inflate_job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58063f24e5dc5b001657a87f"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T15:26:35.701000+00:00",
                    "modality": null,
                    "size": 21804112,
                    "type": "None",
                    "info": {}
                  }
                ],
                "files": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58065fa7e5dc5b001457a882"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T17:45:17.776000+00:00",
                    "modality": null,
                    "info": {},
                    "type": "None",
                    "size": 21804112
                  }
                ],
                "created": "2016-10-18T17:45:11.778000+00:00",
                "modified": "2016-10-18T17:45:11.778000+00:00",
                "label": "cortex-demo 10/18/2016 13:45:5",
                "job": {
                  "inputs": {
                    "anatomy": {
                      "type": "analysis",
                      "id": "58063f24e5dc5b001657a87e",
                      "name": "cortical_surface_right_hemisphere.obj"
                    }
                  },
                  "attempt": 1,
                  "tags": [
                    "ad-hoc",
                    "cortex-demo",
                    "analysis"
                  ],
                  "destination": {
                    "type": "analysis",
                    "id": "58065fa7e5dc5b001457a881"
                  },
                  "request": {
                    "inputs": [
                      {
                        "location": "/",
                        "type": "http",
                        "uri": "https://storage.googleapis.com/flywheel/gears/v1/scitran/cortex-demo/cortex-demo_manifest-labels_20160725T031837.331720Z.tar.gz",
                        "vu": "vu0:sha384:ssx5VWyFg7r8IBoOIphq7GaB_CymInQ1NxTV2WTDzglJLJ1-ktEbjLIHVABRzesV"
                      },
                      {
                        "type": "scitran",
                        "uri": "/jobs/58065fa7e5dc5b001457a882/config.json",
                        "location": "/flywheel/v0"
                      },
                      {
                        "type": "scitran",
                        "uri": "/sessions/58063e7ed213ed776045b320/analyses/58063f24e5dc5b001657a87e/files/cortical_surface_right_hemisphere.obj",
                        "location": "/flywheel/v0/input/anatomy"
                      }
                    ],
                    "target": {
                      "command": [
                        "bash",
                        "-c",
                        "rm -rf output; mkdir -p output; ./run; echo \"Exit was $?\""
                      ],
                      "env": {
                        "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                      },
                      "dir": "/flywheel/v0"
                    },
                    "outputs": [
                      {
                        "type": "scitran",
                        "uri": "/engine?level=analysis&id=58065fa7e5dc5b001457a881&job=58065fa7e5dc5b001457a882",
                        "location": "/flywheel/v0/output"
                      }
                    ]
                  },
                  "modified": "2016-10-18T17:45:21.344000+00:00",
                  "created": "2016-10-18T17:45:11.816000+00:00",
                  "state": "complete",
                  "config": {},
                  "id": "58065fa7e5dc5b001457a882",
                  "gear_id": "58065fa7e5dc5b001457a882"
                },
                "_id": "58065fa7e5dc5b001457a881"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Modify an analysis.",
        "operationId": "modify_session_analysis",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete an anaylsis",
        "operationId": "delete_session_analysis",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/sessions/{SessionId}/analyses/{AnalysisId}/inputs": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis inputs.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for all inputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_session_analysis_inputs",
        "tags": [
          "sessions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the inputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/sessions/{SessionId}/analyses/{AnalysisId}/inputs/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis inputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching inputs in the analysis.\nIf no \"ticket\" query param is included, inputs will be downloaded directly.\n",
        "operationId": "download_input_from_session_analysis",
        "tags": [
          "sessions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the inputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_session_analysis_input_download_ticket",
        "x-sdk-get-zip-info": "get_session_analysis_input_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/sessions/{SessionId}/analyses/{AnalysisId}/files": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis outputs.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for all outputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_session_analysis_outputs",
        "tags": [
          "sessions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the outputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      },
      "post": {
        "summary": "Upload an output file to analysis.",
        "operationId": "upload_output_to_session_analysis",
        "tags": [
          "sessions"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/sessions/{SessionId}/analyses/{AnalysisId}/files/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis outputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching outputs in the analysis.\nIf no \"ticket\" query param is included, outputs will be downloaded directly.\n",
        "operationId": "download_output_from_session_analysis",
        "tags": [
          "sessions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the outputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_session_analysis_output_download_ticket",
        "x-sdk-get-zip-info": "get_session_analysis_output_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/sessions/{SessionId}/analyses/{AnalysisId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Add a note to session analysis.",
        "operationId": "add_session_analysis_note",
        "tags": [
          "sessions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/sessions/{SessionId}/analyses/{AnalysisId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "SessionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "delete": {
        "summary": "Remove a note from session analysis.",
        "operationId": "delete_session_analysis_note",
        "tags": [
          "sessions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/acquisitions": {
      "get": {
        "summary": "Get a list of acquisitions",
        "operationId": "get_all_acquisitions",
        "x-fw-pagination": true,
        "x-fw-default-limit": 1000,
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "boolean",
            "name": "exhaustive",
            "description": "Set to return a complete list regardless of permissions"
          },
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return.",
            "x-sdk-default": 1000
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/definitions/acquisition-output"
                  }
                ],
                "required": [
                  "_id",
                  "public",
                  "label",
                  "session",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new acquisition",
        "operationId": "add_acquisition",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Acquisition",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/acquisition-input"
                }
              ],
              "required": [
                "label",
                "session"
              ],
              "example": {
                "label": "example-acquisition",
                "session": "57e45328466d8e000e33a85b",
                "public": false
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "AcquisitionId",
          "required": true
        }
      ],
      "get": {
        "summary": "Get a single acquisition",
        "operationId": "get_acquisition",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/acquisition-output"
                }
              ],
              "required": [
                "_id",
                "public",
                "label",
                "session",
                "created",
                "modified",
                "permissions"
              ]
            }
          }
        }
      },
      "put": {
        "summary": "Update a acquisition",
        "operationId": "modify_acquisition",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Acquisition",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/acquisition-input"
                }
              ],
              "example": {
                "label": "example-acquisition-new-label"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a acquisition",
        "operationId": "delete_acquisition",
        "description": "Read-write project permissions are required to delete an acquisition. </br>Admin project permissions are required if the acquisition contains data uploaded by sources other than users and jobs.",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        }
      ],
      "post": {
        "summary": "Update or replace info for a acquisition.",
        "operationId": "modify_acquisition_info",
        "x-sdk-modify-info": true,
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The info was updated successfully"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/tags": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        }
      ],
      "post": {
        "summary": "Add a tag to acquisition.",
        "description": "Progates changes to projects, sessions and acquisitions",
        "operationId": "add_acquisition_tag",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/tags/{TagValue}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "description": "The tag to interact with",
          "type": "string",
          "in": "path",
          "name": "TagValue"
        }
      ],
      "get": {
        "summary": "Get the value of a tag, by name.",
        "operationId": "get_acquisition_tag",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "description": "Returns a single tag by name",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ]
            },
            "examples": {
              "response": {
                "value": "example-tag"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Rename a tag.",
        "operationId": "rename_acquisition_tag",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "operationId": "delete_acquisition_tag",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/files": {
      "parameters": [
        {
          "name": "AcquisitionId",
          "in": "path",
          "type": "string",
          "required": true
        }
      ],
      "post": {
        "summary": "Upload a file to acquisition.",
        "operationId": "upload_file_to_acquisition",
        "tags": [
          "acquisitions"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          },
          {
            "name": "metadata",
            "in": "formData",
            "type": "string",
            "description": "File metadata"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/files/{FileName}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Download a file.",
        "description": "Files can be downloaded directly from this endpoint with a valid \"Authorization\" header or via a ticket id.\n\nTo generate a ticket:\n  - Make a request with an empty \"ticket\" parameter and a valid \"Authorization\" header. The server will respond with a generated ticket id.\n  - Make another request with the received ticket id in the \"ticket\" parameter. A valid \"Authorization\" header is no longer required.\n\nWhen \"view\" is true, [RFC7233](https://tools.ietf.org/html/rfc7233) range request headers are supported.\n",
        "operationId": "download_file_from_acquisition",
        "tags": [
          "acquisitions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "The generated ticket id for the download, or present but empty to generate a ticket id"
          },
          {
            "name": "view",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If true, the proper \"Content-Type\" header based on the file's mimetype is set on response\nIf false, the \"Content-Type\" header is set to \"application/octet-stream\"\n"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_acquisition_download_ticket",
        "x-sdk-get-zip-info": "get_acquisition_file_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/download-ticket"
            },
            "examples": {
              "response": {
                "ticket": "1e975e3d-21e9-41f4-bb97-261f03d35ba1"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Replace a file",
        "operationId": "replace_acquisition_file",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "delete": {
        "summary": "Delete a file",
        "description": "A user with read-write or higher permissions on the container may delete files\nthat were uploaded by users or were the output of jobs. (Specifically, files\nwhose `origin.type` is either `job` or `user`.)\n<br/>\nA user with admin permissions on the container may delete any file.\n",
        "operationId": "delete_acquisition_file",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      },
      "put": {
        "summary": "Modify a file's attributes",
        "description": "Note: If modifying a file's modality, the current classification will be cleared (except for items in the \"Custom\" list)\n",
        "operationId": "modify_acquisition_file",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/file-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/files/{FileName}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Get info for a particular file.",
        "operationId": "get_acquisition_file_info",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "description": "The file object, including info",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/file-output"
                }
              ],
              "example": {
                "origin": {
                  "type": "job",
                  "id": "58063f24e5dc5b001657a87f"
                },
                "mimetype": "application/octet-stream",
                "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                "name": "cortical_surface_right_hemisphere.obj",
                "tags": [],
                "classification": {},
                "modified": "2016-10-18T15:26:35.701000+00:00",
                "modality": null,
                "size": 21804112,
                "type": "None",
                "info": {}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update info for a particular file.",
        "operationId": "modify_acquisition_file_info",
        "x-sdk-modify-info": true,
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/files/{FileName}/classification": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "post": {
        "summary": "Update classification for a particular file.",
        "description": "If replacing a file's classification, the modality can optionally be modified as well.",
        "operationId": "modify_acquisition_file_classification",
        "x-sdk-modify-classification": true,
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/classification-update-input"
                }
              ],
              "example": {
                "modality": "MR",
                "replace": {
                  "Intent": [
                    "Functional"
                  ],
                  "Measurement": [
                    "T2*"
                  ],
                  "Custom": [
                    "Custom Value"
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        }
      ],
      "post": {
        "summary": "Add a note to acquisition.",
        "operationId": "add_acquisition_note",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "get": {
        "summary": "Get a note on acquisition.",
        "operationId": "get_acquisition_note",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "580925ce9e512c57dc8a103b",
                "text": "some text",
                "created": "2016-10-21T17:19:40.899000+00:00",
                "modified": "2016-10-21T17:19:40.899000+00:00",
                "user": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a note on acquisition.",
        "operationId": "modify_acquisition_note",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Remove a note from acquisition",
        "operationId": "delete_acquisition_note",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/analyses": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        }
      ],
      "get": {
        "summary": "Get analyses for acquisition.",
        "description": "Returns analyses that directly belong to this resource.",
        "operationId": "get_acquisition_analyses",
        "x-fw-pagination": true,
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "description": "The list of analyses",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/analysis-list-entry"
              },
              "example": [
                {
                  "files": [
                    {
                      "origin": {
                        "type": "job",
                        "id": "58063f24e5dc5b001657a87f"
                      },
                      "mimetype": "application/octet-stream",
                      "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                      "name": "cortical_surface_right_hemisphere.obj",
                      "tags": [],
                      "classification": {},
                      "modified": "2016-10-18T15:26:35.701000+00:00",
                      "modality": null,
                      "size": 21804112,
                      "type": "None",
                      "info": {}
                    }
                  ],
                  "created": "2016-10-18T17:45:11.778000+00:00",
                  "modified": "2016-10-18T17:45:11.778000+00:00",
                  "label": "cortex-demo 10/18/2016 13:45:5",
                  "job": "58065fa7e5dc5b001457a882",
                  "user": "canakgun@flywheel.io",
                  "_id": "58065fa7e5dc5b001457a881"
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      },
      "post": {
        "summary": "Create an analysis and upload files.",
        "description": "When query param \"job\" is \"true\", send JSON to create\nan analysis and job.  Otherwise, multipart/form-data\nto upload files and create an analysis.\n",
        "operationId": "add_acquisition_analysis",
        "tags": [
          "acquisitions"
        ],
        "consumes": [
          "application/json",
          "multipart/form-data"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-input-any"
                }
              ],
              "required": [
                "label"
              ]
            }
          },
          {
            "name": "job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the id of the analysis that was created.",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/analyses/{AnalysisId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Get an analysis.",
        "operationId": "get_acquisition_analysis",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "inflate_job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58063f24e5dc5b001657a87f"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T15:26:35.701000+00:00",
                    "modality": null,
                    "size": 21804112,
                    "type": "None",
                    "info": {}
                  }
                ],
                "files": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58065fa7e5dc5b001457a882"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T17:45:17.776000+00:00",
                    "modality": null,
                    "info": {},
                    "type": "None",
                    "size": 21804112
                  }
                ],
                "created": "2016-10-18T17:45:11.778000+00:00",
                "modified": "2016-10-18T17:45:11.778000+00:00",
                "label": "cortex-demo 10/18/2016 13:45:5",
                "job": {
                  "inputs": {
                    "anatomy": {
                      "type": "analysis",
                      "id": "58063f24e5dc5b001657a87e",
                      "name": "cortical_surface_right_hemisphere.obj"
                    }
                  },
                  "attempt": 1,
                  "tags": [
                    "ad-hoc",
                    "cortex-demo",
                    "analysis"
                  ],
                  "destination": {
                    "type": "analysis",
                    "id": "58065fa7e5dc5b001457a881"
                  },
                  "request": {
                    "inputs": [
                      {
                        "location": "/",
                        "type": "http",
                        "uri": "https://storage.googleapis.com/flywheel/gears/v1/scitran/cortex-demo/cortex-demo_manifest-labels_20160725T031837.331720Z.tar.gz",
                        "vu": "vu0:sha384:ssx5VWyFg7r8IBoOIphq7GaB_CymInQ1NxTV2WTDzglJLJ1-ktEbjLIHVABRzesV"
                      },
                      {
                        "type": "scitran",
                        "uri": "/jobs/58065fa7e5dc5b001457a882/config.json",
                        "location": "/flywheel/v0"
                      },
                      {
                        "type": "scitran",
                        "uri": "/sessions/58063e7ed213ed776045b320/analyses/58063f24e5dc5b001657a87e/files/cortical_surface_right_hemisphere.obj",
                        "location": "/flywheel/v0/input/anatomy"
                      }
                    ],
                    "target": {
                      "command": [
                        "bash",
                        "-c",
                        "rm -rf output; mkdir -p output; ./run; echo \"Exit was $?\""
                      ],
                      "env": {
                        "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                      },
                      "dir": "/flywheel/v0"
                    },
                    "outputs": [
                      {
                        "type": "scitran",
                        "uri": "/engine?level=analysis&id=58065fa7e5dc5b001457a881&job=58065fa7e5dc5b001457a882",
                        "location": "/flywheel/v0/output"
                      }
                    ]
                  },
                  "modified": "2016-10-18T17:45:21.344000+00:00",
                  "created": "2016-10-18T17:45:11.816000+00:00",
                  "state": "complete",
                  "config": {},
                  "id": "58065fa7e5dc5b001457a882",
                  "gear_id": "58065fa7e5dc5b001457a882"
                },
                "_id": "58065fa7e5dc5b001457a881"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Modify an analysis.",
        "operationId": "modify_acquisition_analysis",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete an anaylsis",
        "operationId": "delete_acquisition_analysis",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/analyses/{AnalysisId}/inputs": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis inputs.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for all inputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_acquisition_analysis_inputs",
        "tags": [
          "acquisitions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the inputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/analyses/{AnalysisId}/inputs/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis inputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching inputs in the analysis.\nIf no \"ticket\" query param is included, inputs will be downloaded directly.\n",
        "operationId": "download_input_from_acquisition_analysis",
        "tags": [
          "acquisitions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the inputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_acquisition_analysis_input_download_ticket",
        "x-sdk-get-zip-info": "get_acquisition_analysis_input_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/analyses/{AnalysisId}/files": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis outputs.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for all outputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_acquisition_analysis_outputs",
        "tags": [
          "acquisitions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the outputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      },
      "post": {
        "summary": "Upload an output file to analysis.",
        "operationId": "upload_output_to_acquisition_analysis",
        "tags": [
          "acquisitions"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/analyses/{AnalysisId}/files/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis outputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching outputs in the analysis.\nIf no \"ticket\" query param is included, outputs will be downloaded directly.\n",
        "operationId": "download_output_from_acquisition_analysis",
        "tags": [
          "acquisitions"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the outputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_acquisition_analysis_output_download_ticket",
        "x-sdk-get-zip-info": "get_acquisition_analysis_output_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/analyses/{AnalysisId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Add a note to acquisition analysis.",
        "operationId": "add_acquisition_analysis_note",
        "tags": [
          "acquisitions"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/acquisitions/{AcquisitionId}/analyses/{AnalysisId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AcquisitionId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "delete": {
        "summary": "Remove a note from acquisition analysis.",
        "operationId": "delete_acquisition_analysis_note",
        "tags": [
          "acquisitions"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/projects": {
      "get": {
        "summary": "Get a list of projects",
        "operationId": "get_all_projects",
        "x-fw-pagination": true,
        "x-fw-default-limit": 1000,
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "boolean",
            "name": "exhaustive",
            "description": "Set to return a complete list regardless of permissions"
          },
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return.",
            "x-sdk-default": 1000
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/definitions/project-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "group",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new project",
        "operationId": "add_project",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Project",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/project-input"
                }
              ],
              "required": [
                "label",
                "group"
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/projects/{ProjectId}": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "ProjectId",
          "required": true
        }
      ],
      "get": {
        "summary": "Get a single project",
        "operationId": "get_project",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "title": "Project",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/project-output"
                }
              ],
              "required": [
                "_id",
                "label",
                "group",
                "created",
                "modified",
                "permissions"
              ]
            }
          }
        }
      },
      "put": {
        "summary": "Update a project",
        "operationId": "modify_project",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Project",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/project-input"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a project",
        "operationId": "delete_project",
        "description": "Only site admins and users with \"admin\" project permissions may delete a project",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/projects/{ProjectId}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        }
      ],
      "post": {
        "summary": "Update or replace info for a project.",
        "operationId": "modify_project_info",
        "x-sdk-modify-info": true,
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The info was updated successfully"
          }
        }
      }
    },
    "/projects/groups": {
      "get": {
        "summary": "List all groups which have a project in them",
        "operationId": "get_all_projects_groups",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/group-output-list"
                }
              ]
            }
          }
        }
      }
    },
    "/projects/{ProjectId}/subjects": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "ProjectId",
          "required": true
        }
      ],
      "get": {
        "summary": "List all subjects for the given project.",
        "operationId": "get_project_subjects",
        "x-fw-pagination": true,
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/subject-output"
                  }
                ],
                "required": [
                  "_id",
                  "code",
                  "project",
                  "created",
                  "modified",
                  "permissions",
                  "public"
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      }
    },
    "/projects/{ProjectId}/sessions": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "ProjectId",
          "required": true
        }
      ],
      "get": {
        "summary": "List all sessions for the given project.",
        "operationId": "get_project_sessions",
        "x-fw-pagination": true,
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/session-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "project",
                  "created",
                  "modified",
                  "permissions",
                  "public",
                  "group",
                  "subject"
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      }
    },
    "/projects/{ProjectId}/acquisitions": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "ProjectId",
          "required": true
        }
      ],
      "get": {
        "summary": "List all acquisitions for the given project.",
        "operationId": "get_project_acquisitions",
        "x-fw-pagination": true,
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "type": "object",
                "allOf": [
                  {
                    "$ref": "#/definitions/acquisition-output"
                  }
                ],
                "required": [
                  "_id",
                  "public",
                  "label",
                  "session",
                  "created",
                  "modified",
                  "permissions"
                ]
              }
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      }
    },
    "/projects/{ProjectId}/rules": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "ProjectId",
          "required": true
        }
      ],
      "get": {
        "summary": "List all rules for a project.",
        "operationId": "get_project_rules",
        "tags": [
          "projects",
          "rules"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/rule-output"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new rule for a project.",
        "operationId": "add_project_rule",
        "tags": [
          "projects",
          "rules"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Rule",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/rule-input"
                }
              ],
              "required": [
                "gear_id",
                "name",
                "any",
                "all",
                "not"
              ]
            }
          }
        ]
      }
    },
    "/projects/{ProjectId}/rules/{RuleId}": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "ProjectId",
          "required": true
        },
        {
          "in": "path",
          "type": "string",
          "name": "RuleId",
          "required": true
        }
      ],
      "get": {
        "summary": "Get a project rule.",
        "operationId": "get_project_rule",
        "tags": [
          "projects",
          "rules"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "title": "Rule",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/rule-output"
                }
              ],
              "example": {
                "_id": "5a12f2923306be0016179f47",
                "name": "dcm2niix",
                "alg": "dcm2niix",
                "any": [],
                "all": [
                  {
                    "regex": true,
                    "type": "file.classification",
                    "value": "^(?!non-image).+$"
                  },
                  {
                    "type": "file.type",
                    "value": "nifti"
                  }
                ]
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a rule on a project.",
        "operationId": "modify_project_rule",
        "tags": [
          "projects",
          "rules"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Rule",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/rule-input"
                }
              ]
            }
          }
        ]
      },
      "delete": {
        "summary": "Remove a project rule.",
        "operationId": "remove_project_rule",
        "tags": [
          "projects",
          "rules"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/projects/{ProjectId}/template": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "ProjectId",
          "required": true
        }
      ],
      "post": {
        "summary": "Set the session template for a project.",
        "operationId": "set_project_template",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/project-template"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "404": {
            "$ref": "#/responses/404:resource-not-found"
          }
        }
      },
      "delete": {
        "summary": "Remove the session template for a project.",
        "operationId": "remove_project_template",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          },
          "404": {
            "$ref": "#/responses/404:resource-not-found"
          }
        }
      }
    },
    "/projects/{ProjectId}/recalc": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "ProjectId",
          "required": true
        }
      ],
      "post": {
        "summary": "Recalculate if sessions in the project satisfy the template.",
        "description": "Returns list of modified session ids.",
        "operationId": "recalc_project",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "Project's sessions' compliance was recalculated.\nReturns list of session that were modified.\n",
            "schema": {
              "$ref": "#/definitions/session-template-recalc-output"
            }
          },
          "404": {
            "$ref": "#/responses/404:resource-not-found"
          }
        }
      }
    },
    "/projects/recalc": {
      "post": {
        "summary": "Recalculate all sessions against their project templates.",
        "description": "Iterates all projects that have a session template.\nRecalculate if projects' sessions satisfy the template.\nReturns list of modified session ids.\n",
        "operationId": "recalc_all_projects",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "Projects' sessions' compliance was recalculated.\nReturns list of session that were modified.\n",
            "schema": {
              "$ref": "#/definitions/session-template-recalc-output"
            }
          }
        }
      }
    },
    "/projects/{ProjectId}/tags": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        }
      ],
      "post": {
        "summary": "Add a tag to project.",
        "description": "Progates changes to projects, sessions and acquisitions",
        "operationId": "add_project_tag",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/projects/{ProjectId}/tags/{TagValue}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "description": "The tag to interact with",
          "type": "string",
          "in": "path",
          "name": "TagValue"
        }
      ],
      "get": {
        "summary": "Get the value of a tag, by name.",
        "operationId": "get_project_tag",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "Returns a single tag by name",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ]
            },
            "examples": {
              "response": {
                "value": "example-tag"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Rename a tag.",
        "operationId": "rename_project_tag",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "operationId": "delete_project_tag",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/projects/{ProjectId}/packfile-start": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        }
      ],
      "post": {
        "summary": "Start a packfile upload to project",
        "operationId": "start_project_packfile_upload",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/packfile-start"
            },
            "examples": {
              "response": {
                "token": "57fe88cc9e512c5d2b5dcb0b"
              }
            }
          }
        }
      }
    },
    "/projects/{ProjectId}/packfile": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        }
      ],
      "post": {
        "summary": "Add files to an in-progress packfile",
        "operationId": "project_packfile_upload",
        "tags": [
          "projects"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "type": "string",
            "required": true
          },
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/file-output"
                  }
                ]
              }
            },
            "examples": {
              "response": [
                {
                  "origin": {
                    "type": "job",
                    "id": "58063f24e5dc5b001657a87f"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4789e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T15:26:35.701000+00:00",
                  "modality": null,
                  "size": 21804112,
                  "type": "None",
                  "info": {}
                },
                {
                  "origin": {
                    "type": "job",
                    "id": "58065fa7e5dc5b001457a882"
                  },
                  "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                  "mimetype": "application/octet-stream",
                  "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                  "name": "cortical_surface_right_hemisphere.obj",
                  "tags": [],
                  "classification": {},
                  "modified": "2016-10-18T17:45:17.776000+00:00",
                  "modality": null,
                  "info": {},
                  "type": "None",
                  "size": 21804112
                }
              ]
            }
          }
        }
      }
    },
    "/projects/{ProjectId}/packfile-end": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        }
      ],
      "get": {
        "summary": "End a packfile upload",
        "operationId": "end_project_packfile_upload",
        "tags": [
          "projects"
        ],
        "produces": [
          "text/event-stream"
        ],
        "parameters": [
          {
            "name": "token",
            "in": "query",
            "type": "string",
            "required": true
          },
          {
            "name": "metadata",
            "in": "query",
            "type": "string",
            "required": true,
            "description": "string-encoded metadata json object."
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/projects/{ProjectId}/files": {
      "parameters": [
        {
          "name": "ProjectId",
          "in": "path",
          "type": "string",
          "required": true
        }
      ],
      "post": {
        "summary": "Upload a file to project.",
        "operationId": "upload_file_to_project",
        "tags": [
          "projects"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          },
          {
            "name": "metadata",
            "in": "formData",
            "type": "string",
            "description": "File metadata"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/projects/{ProjectId}/files/{FileName}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Download a file.",
        "description": "Files can be downloaded directly from this endpoint with a valid \"Authorization\" header or via a ticket id.\n\nTo generate a ticket:\n  - Make a request with an empty \"ticket\" parameter and a valid \"Authorization\" header. The server will respond with a generated ticket id.\n  - Make another request with the received ticket id in the \"ticket\" parameter. A valid \"Authorization\" header is no longer required.\n\nWhen \"view\" is true, [RFC7233](https://tools.ietf.org/html/rfc7233) range request headers are supported.\n",
        "operationId": "download_file_from_project",
        "tags": [
          "projects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "The generated ticket id for the download, or present but empty to generate a ticket id"
          },
          {
            "name": "view",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If true, the proper \"Content-Type\" header based on the file's mimetype is set on response\nIf false, the \"Content-Type\" header is set to \"application/octet-stream\"\n"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_project_download_ticket",
        "x-sdk-get-zip-info": "get_project_file_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/download-ticket"
            },
            "examples": {
              "response": {
                "ticket": "1e975e3d-21e9-41f4-bb97-261f03d35ba1"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Replace a file",
        "operationId": "replace_project_file",
        "tags": [
          "projects"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "delete": {
        "summary": "Delete a file",
        "description": "A user with read-write or higher permissions on the container may delete files\nthat were uploaded by users or were the output of jobs. (Specifically, files\nwhose `origin.type` is either `job` or `user`.)\n<br/>\nA user with admin permissions on the container may delete any file.\n",
        "operationId": "delete_project_file",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      },
      "put": {
        "summary": "Modify a file's attributes",
        "description": "Note: If modifying a file's modality, the current classification will be cleared (except for items in the \"Custom\" list)\n",
        "operationId": "modify_project_file",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/file-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/projects/{ProjectId}/files/{FileName}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Get info for a particular file.",
        "operationId": "get_project_file_info",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "The file object, including info",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/file-output"
                }
              ],
              "example": {
                "origin": {
                  "type": "job",
                  "id": "58063f24e5dc5b001657a87f"
                },
                "mimetype": "application/octet-stream",
                "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                "name": "cortical_surface_right_hemisphere.obj",
                "tags": [],
                "classification": {},
                "modified": "2016-10-18T15:26:35.701000+00:00",
                "modality": null,
                "size": 21804112,
                "type": "None",
                "info": {}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update info for a particular file.",
        "operationId": "modify_project_file_info",
        "x-sdk-modify-info": true,
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/projects/{ProjectId}/files/{FileName}/classification": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "post": {
        "summary": "Update classification for a particular file.",
        "description": "If replacing a file's classification, the modality can optionally be modified as well.",
        "operationId": "modify_project_file_classification",
        "x-sdk-modify-classification": true,
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/classification-update-input"
                }
              ],
              "example": {
                "modality": "MR",
                "replace": {
                  "Intent": [
                    "Functional"
                  ],
                  "Measurement": [
                    "T2*"
                  ],
                  "Custom": [
                    "Custom Value"
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/projects/{ProjectId}/permissions": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        }
      ],
      "post": {
        "summary": "Add a permission",
        "operationId": "add_project_permission",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission"
                }
              ],
              "required": [
                "_id",
                "access"
              ],
              "example": {
                "_id": "coltonlw@flywheel.io",
                "access": "admin"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/projects/{ProjectId}/permissions/{UserId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "UserId"
        }
      ],
      "get": {
        "summary": "List a user's permissions for this project.",
        "operationId": "get_project_user_permission",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission-output-default-required"
                }
              ]
            },
            "examples": {
              "response": {
                "access": "admin",
                "_id": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a user's permission for this project.",
        "operationId": "modify_project_user_permission",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/permission"
                }
              ],
              "required": [
                "_id",
                "access"
              ],
              "example": {
                "_id": "coltonlw@flywheel.io",
                "access": "admin"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a permission",
        "operationId": "delete_project_user_permission",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/projects/{ProjectId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        }
      ],
      "post": {
        "summary": "Add a note to project.",
        "operationId": "add_project_note",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/projects/{ProjectId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "get": {
        "summary": "Get a note on project.",
        "operationId": "get_project_note",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "580925ce9e512c57dc8a103b",
                "text": "some text",
                "created": "2016-10-21T17:19:40.899000+00:00",
                "modified": "2016-10-21T17:19:40.899000+00:00",
                "user": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a note on project.",
        "operationId": "modify_project_note",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Remove a note from project",
        "operationId": "delete_project_note",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/projects/{ProjectId}/analyses": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        }
      ],
      "get": {
        "summary": "Get analyses for project.",
        "description": "Returns analyses that directly belong to this resource.",
        "operationId": "get_project_analyses",
        "x-fw-pagination": true,
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "description": "The list of analyses",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/analysis-list-entry"
              },
              "example": [
                {
                  "files": [
                    {
                      "origin": {
                        "type": "job",
                        "id": "58063f24e5dc5b001657a87f"
                      },
                      "mimetype": "application/octet-stream",
                      "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                      "name": "cortical_surface_right_hemisphere.obj",
                      "tags": [],
                      "classification": {},
                      "modified": "2016-10-18T15:26:35.701000+00:00",
                      "modality": null,
                      "size": 21804112,
                      "type": "None",
                      "info": {}
                    }
                  ],
                  "created": "2016-10-18T17:45:11.778000+00:00",
                  "modified": "2016-10-18T17:45:11.778000+00:00",
                  "label": "cortex-demo 10/18/2016 13:45:5",
                  "job": "58065fa7e5dc5b001457a882",
                  "user": "canakgun@flywheel.io",
                  "_id": "58065fa7e5dc5b001457a881"
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      },
      "post": {
        "summary": "Create an analysis and upload files.",
        "description": "When query param \"job\" is \"true\", send JSON to create\nan analysis and job.  Otherwise, multipart/form-data\nto upload files and create an analysis.\n",
        "operationId": "add_project_analysis",
        "tags": [
          "projects"
        ],
        "consumes": [
          "application/json",
          "multipart/form-data"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-input-any"
                }
              ],
              "required": [
                "label"
              ]
            }
          },
          {
            "name": "job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the id of the analysis that was created.",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          }
        }
      }
    },
    "/projects/{ProjectId}/analyses/{AnalysisId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Get an analysis.",
        "operationId": "get_project_analysis",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "inflate_job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58063f24e5dc5b001657a87f"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T15:26:35.701000+00:00",
                    "modality": null,
                    "size": 21804112,
                    "type": "None",
                    "info": {}
                  }
                ],
                "files": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58065fa7e5dc5b001457a882"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T17:45:17.776000+00:00",
                    "modality": null,
                    "info": {},
                    "type": "None",
                    "size": 21804112
                  }
                ],
                "created": "2016-10-18T17:45:11.778000+00:00",
                "modified": "2016-10-18T17:45:11.778000+00:00",
                "label": "cortex-demo 10/18/2016 13:45:5",
                "job": {
                  "inputs": {
                    "anatomy": {
                      "type": "analysis",
                      "id": "58063f24e5dc5b001657a87e",
                      "name": "cortical_surface_right_hemisphere.obj"
                    }
                  },
                  "attempt": 1,
                  "tags": [
                    "ad-hoc",
                    "cortex-demo",
                    "analysis"
                  ],
                  "destination": {
                    "type": "analysis",
                    "id": "58065fa7e5dc5b001457a881"
                  },
                  "request": {
                    "inputs": [
                      {
                        "location": "/",
                        "type": "http",
                        "uri": "https://storage.googleapis.com/flywheel/gears/v1/scitran/cortex-demo/cortex-demo_manifest-labels_20160725T031837.331720Z.tar.gz",
                        "vu": "vu0:sha384:ssx5VWyFg7r8IBoOIphq7GaB_CymInQ1NxTV2WTDzglJLJ1-ktEbjLIHVABRzesV"
                      },
                      {
                        "type": "scitran",
                        "uri": "/jobs/58065fa7e5dc5b001457a882/config.json",
                        "location": "/flywheel/v0"
                      },
                      {
                        "type": "scitran",
                        "uri": "/sessions/58063e7ed213ed776045b320/analyses/58063f24e5dc5b001657a87e/files/cortical_surface_right_hemisphere.obj",
                        "location": "/flywheel/v0/input/anatomy"
                      }
                    ],
                    "target": {
                      "command": [
                        "bash",
                        "-c",
                        "rm -rf output; mkdir -p output; ./run; echo \"Exit was $?\""
                      ],
                      "env": {
                        "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                      },
                      "dir": "/flywheel/v0"
                    },
                    "outputs": [
                      {
                        "type": "scitran",
                        "uri": "/engine?level=analysis&id=58065fa7e5dc5b001457a881&job=58065fa7e5dc5b001457a882",
                        "location": "/flywheel/v0/output"
                      }
                    ]
                  },
                  "modified": "2016-10-18T17:45:21.344000+00:00",
                  "created": "2016-10-18T17:45:11.816000+00:00",
                  "state": "complete",
                  "config": {},
                  "id": "58065fa7e5dc5b001457a882",
                  "gear_id": "58065fa7e5dc5b001457a882"
                },
                "_id": "58065fa7e5dc5b001457a881"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Modify an analysis.",
        "operationId": "modify_project_analysis",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete an anaylsis",
        "operationId": "delete_project_analysis",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/projects/{ProjectId}/analyses/{AnalysisId}/inputs": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis inputs.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for all inputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_project_analysis_inputs",
        "tags": [
          "projects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the inputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/projects/{ProjectId}/analyses/{AnalysisId}/inputs/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis inputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching inputs in the analysis.\nIf no \"ticket\" query param is included, inputs will be downloaded directly.\n",
        "operationId": "download_input_from_project_analysis",
        "tags": [
          "projects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the inputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_project_analysis_input_download_ticket",
        "x-sdk-get-zip-info": "get_project_analysis_input_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/projects/{ProjectId}/analyses/{AnalysisId}/files": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis outputs.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for all outputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_project_analysis_outputs",
        "tags": [
          "projects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the outputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      },
      "post": {
        "summary": "Upload an output file to analysis.",
        "operationId": "upload_output_to_project_analysis",
        "tags": [
          "projects"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/projects/{ProjectId}/analyses/{AnalysisId}/files/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis outputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching outputs in the analysis.\nIf no \"ticket\" query param is included, outputs will be downloaded directly.\n",
        "operationId": "download_output_from_project_analysis",
        "tags": [
          "projects"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the outputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_project_analysis_output_download_ticket",
        "x-sdk-get-zip-info": "get_project_analysis_output_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/projects/{ProjectId}/analyses/{AnalysisId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Add a note to project analysis.",
        "operationId": "add_project_analysis_note",
        "tags": [
          "projects"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/projects/{ProjectId}/analyses/{AnalysisId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ProjectId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "delete": {
        "summary": "Remove a note from project analysis.",
        "operationId": "delete_project_analysis_note",
        "tags": [
          "projects"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/report/site": {
      "get": {
        "operationId": "get_site_report",
        "tags": [
          "reports"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/report-site"
            }
          }
        }
      }
    },
    "/report/project": {
      "get": {
        "operationId": "get_project_report",
        "tags": [
          "reports"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "projects",
            "description": "Specify multiple times to include projects in the report"
          },
          {
            "in": "query",
            "type": "string",
            "name": "start_date",
            "description": "Report start date"
          },
          {
            "in": "query",
            "type": "string",
            "name": "end_date",
            "description": "Report end date"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/report-project"
            }
          }
        }
      }
    },
    "/report/accesslog": {
      "get": {
        "summary": "Get a report of access log entries for the given parameters",
        "operationId": "get_access_log_report",
        "tags": [
          "reports"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "start_date",
            "description": "An ISO formatted timestamp for the start time of the report"
          },
          {
            "in": "query",
            "type": "string",
            "name": "end_date",
            "description": "An ISO formatted timestamp for the end time of the report"
          },
          {
            "in": "query",
            "type": "string",
            "name": "uid",
            "description": "User id of the target user"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "Maximum number of records to return"
          },
          {
            "in": "query",
            "type": "string",
            "name": "subject",
            "description": "Limit the report to the subject code of session accessed"
          },
          {
            "in": "query",
            "type": "array",
            "items": {
              "type": "string"
            },
            "collectionFormat": "multi",
            "name": "access_type",
            "description": "The list of access_types to filter logs"
          },
          {
            "in": "query",
            "type": "boolean",
            "name": "csv",
            "description": "Set to download a csv file instead of json"
          }
        ],
        "responses": {
          "200": {
            "description": "A report of access log usage",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/report-access-log-entry"
              },
              "example": [
                {
                  "origin": {
                    "type": "user",
                    "id": "canakgun@flywheel.io"
                  },
                  "timestamp": "2018-06-28T14:23:13.625000+00:00",
                  "access_type": "view_container",
                  "request_method": "GET",
                  "context": {
                    "project": {
                      "id": "5b02d7689f44840016473476",
                      "label": "Anxiety Study"
                    },
                    "group": {
                      "id": "psychology",
                      "label": "Psychology Group"
                    }
                  },
                  "_id": "5b34ef519c65a5001543a983",
                  "request_path": "/api/projects/5b02d7689f44840016473476"
                }
              ]
            }
          }
        }
      }
    },
    "/report/accesslog/types": {
      "get": {
        "summary": "Get the list of types of access log entries",
        "operationId": "get_access_log_types",
        "tags": [
          "reports"
        ],
        "responses": {
          "200": {
            "description": "Returns the list of access log types",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "type": "string",
                    "description": "A named field used in the access log report"
                  }
                ]
              },
              "example": [
                "accept_failed_output",
                "delete_analysis",
                "delete_container",
                "delete_file",
                "download_file",
                "replace_file",
                "user_login",
                "user_logout",
                "view_container",
                "view_file",
                "view_subject"
              ]
            }
          }
        }
      }
    },
    "/report/usage": {
      "get": {
        "summary": "Get a usage report for the site grouped by month or project",
        "operationId": "get_usage_report",
        "tags": [
          "reports"
        ],
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "enum": [
              "project",
              "month"
            ],
            "required": true,
            "name": "type",
            "description": "The type of usage report to generate"
          },
          {
            "in": "query",
            "type": "string",
            "name": "start_date",
            "description": "An ISO formatted timestamp for the start time of the report"
          },
          {
            "in": "query",
            "type": "string",
            "name": "end_date",
            "description": "An ISO formatted timestamp for the end time of the report"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the usage report",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/report-usage-entry"
              },
              "example": [
                {
                  "project": {
                    "_id": "576be50c59b2b6346719ee4d",
                    "label": "Anxiety Study"
                  },
                  "file_mbs": 3722.1714448928833,
                  "session_count": 9,
                  "gear_execution_count": 708
                }
              ]
            }
          }
        }
      }
    },
    "/batch": {
      "get": {
        "summary": "Get a list of batch jobs the user has created.",
        "description": "Requires login.",
        "operationId": "get_all_batches",
        "tags": [
          "batch"
        ],
        "responses": {
          "200": {
            "description": "Returns a list of all known batch jobs for the user",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/batch"
              },
              "example": [
                {
                  "origin": {
                    "type": "user",
                    "id": "justinehlert@flywheel.io"
                  },
                  "jobs": [
                    "5a33fa6652e95c001707489c",
                    "5a33fa6652e95c001707489d",
                    "5a33fa6652e95c001707489e",
                    "5a33fa6652e95c001707489f"
                  ],
                  "created": "2017-12-15T16:37:55.538000+00:00",
                  "modified": "2017-12-15T16:38:01.107000+00:00",
                  "state": "complete",
                  "gear_id": "59b1b5b0e105c40019f50015",
                  "_id": "5a33fa6352e95c001707489b",
                  "config": {}
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "Create a batch job proposal and insert it as 'pending'.",
        "operationId": "propose_batch",
        "tags": [
          "batch"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "description": "The batch proposal",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/batch-proposal-input"
                }
              ],
              "example": {
                "gear_id": "59b1b5b0e105c40019f50015",
                "config": {},
                "optional_input_policy": "flexible",
                "tags": [
                  "test-tag"
                ],
                "targets": [
                  {
                    "type": "session",
                    "id": "deb1b5b0e105c40019f500af"
                  }
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The batch proposal object that was created",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/batch-proposal"
                }
              ],
              "example": {
                "_id": "5a33fa6352e95c001707489b",
                "gear_id": "59b1b5b0e105c40019f50015",
                "optional_input_policy": "required",
                "config": {},
                "state": "pending",
                "origin": {
                  "type": "user",
                  "id": "justinehlert@flywheel.io"
                },
                "proposal": {},
                "created": "2017-12-15T16:37:55.538000+00:00",
                "modified": "2017-12-15T16:38:01.107000+00:00"
              }
            }
          }
        }
      }
    },
    "/batch/jobs": {
      "post": {
        "summary": "Create a batch job proposal from preconstructed jobs and insert it as 'pending'.",
        "operationId": "create_batch_job_from_jobs",
        "tags": [
          "batch"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "description": "Set of jobs to be run as a batch",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/batch-jobs-proposal-input"
                }
              ],
              "example": {
                "jobs": [
                  {
                    "gear_id": "aex",
                    "inputs": {
                      "dicom": {
                        "type": "acquisition",
                        "id": "573c9e6a844eac7fc01747cd",
                        "name": "1_1_dicom.zip"
                      }
                    },
                    "config": {
                      "two-digit multiple of ten": 20
                    },
                    "destination": {
                      "type": "acquisition",
                      "id": "573c9e6a844eac7fc01747cd"
                    },
                    "tags": [
                      "ad-hoc"
                    ]
                  }
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The batch proposal object that was created",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/batch-proposal"
                }
              ],
              "example": {
                "_id": "5a33fa6352e95c001707489b",
                "gear_id": "59b1b5b0e105c40019f50015",
                "optional_input_policy": "required",
                "config": {},
                "state": "pending",
                "origin": {
                  "type": "user",
                  "id": "justinehlert@flywheel.io"
                },
                "proposal": {},
                "created": "2017-12-15T16:37:55.538000+00:00",
                "modified": "2017-12-15T16:38:01.107000+00:00"
              }
            }
          }
        }
      }
    },
    "/batch/{BatchId}": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "BatchId",
          "required": true
        }
      ],
      "get": {
        "summary": "Get batch job details.",
        "parameters": [
          {
            "name": "jobs",
            "in": "query",
            "type": "boolean",
            "description": "If true, return job objects instead of job ids"
          }
        ],
        "operationId": "get_batch",
        "tags": [
          "batch"
        ],
        "responses": {
          "200": {
            "description": "The batch object",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/batch"
                }
              ],
              "example": {
                "origin": {
                  "type": "user",
                  "id": "justinehlert@flywheel.io"
                },
                "jobs": [
                  "5a33fa6652e95c001707489c",
                  "5a33fa6652e95c001707489d",
                  "5a33fa6652e95c001707489e",
                  "5a33fa6652e95c001707489f"
                ],
                "created": "2017-12-15T16:37:55.538000+00:00",
                "modified": "2017-12-15T16:38:01.107000+00:00",
                "state": "complete",
                "gear_id": "59b1b5b0e105c40019f50015",
                "_id": "5a33fa6352e95c001707489b",
                "config": {}
              }
            }
          },
          "404": {
            "$ref": "#/responses/404:resource-not-found"
          }
        }
      }
    },
    "/batch/{BatchId}/run": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "BatchId",
          "required": true
        }
      ],
      "post": {
        "summary": "Launch a job.",
        "description": "Creates jobs from proposed inputs, returns jobs enqueued.\nMoves 'pending' batch job to 'running'.\n",
        "operationId": "start_batch",
        "tags": [
          "batch"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/job-output"
              }
            }
          }
        }
      }
    },
    "/batch/{BatchId}/cancel": {
      "parameters": [
        {
          "in": "path",
          "type": "string",
          "name": "BatchId",
          "required": true
        }
      ],
      "post": {
        "summary": "Cancel a Job",
        "description": "Cancels jobs that are still pending, returns number of jobs cancelled.\nMoves a 'running' batch job to 'cancelled'.\n",
        "operationId": "cancel_batch",
        "tags": [
          "batch"
        ],
        "responses": {
          "200": {
            "description": "The number of jobs canceled",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/batch-cancel-output"
                }
              ],
              "example": {
                "number_cancelled": 4
              }
            }
          }
        }
      }
    },
    "/analyses/{AnalysisId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Get an analysis.",
        "operationId": "get_analysis",
        "tags": [
          "analyses"
        ],
        "parameters": [
          {
            "name": "inflate_job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58063f24e5dc5b001657a87f"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T15:26:35.701000+00:00",
                    "modality": null,
                    "size": 21804112,
                    "type": "None",
                    "info": {}
                  }
                ],
                "files": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58065fa7e5dc5b001457a882"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T17:45:17.776000+00:00",
                    "modality": null,
                    "info": {},
                    "type": "None",
                    "size": 21804112
                  }
                ],
                "created": "2016-10-18T17:45:11.778000+00:00",
                "modified": "2016-10-18T17:45:11.778000+00:00",
                "label": "cortex-demo 10/18/2016 13:45:5",
                "job": {
                  "inputs": {
                    "anatomy": {
                      "type": "analysis",
                      "id": "58063f24e5dc5b001657a87e",
                      "name": "cortical_surface_right_hemisphere.obj"
                    }
                  },
                  "attempt": 1,
                  "tags": [
                    "ad-hoc",
                    "cortex-demo",
                    "analysis"
                  ],
                  "destination": {
                    "type": "analysis",
                    "id": "58065fa7e5dc5b001457a881"
                  },
                  "request": {
                    "inputs": [
                      {
                        "location": "/",
                        "type": "http",
                        "uri": "https://storage.googleapis.com/flywheel/gears/v1/scitran/cortex-demo/cortex-demo_manifest-labels_20160725T031837.331720Z.tar.gz",
                        "vu": "vu0:sha384:ssx5VWyFg7r8IBoOIphq7GaB_CymInQ1NxTV2WTDzglJLJ1-ktEbjLIHVABRzesV"
                      },
                      {
                        "type": "scitran",
                        "uri": "/jobs/58065fa7e5dc5b001457a882/config.json",
                        "location": "/flywheel/v0"
                      },
                      {
                        "type": "scitran",
                        "uri": "/sessions/58063e7ed213ed776045b320/analyses/58063f24e5dc5b001657a87e/files/cortical_surface_right_hemisphere.obj",
                        "location": "/flywheel/v0/input/anatomy"
                      }
                    ],
                    "target": {
                      "command": [
                        "bash",
                        "-c",
                        "rm -rf output; mkdir -p output; ./run; echo \"Exit was $?\""
                      ],
                      "env": {
                        "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                      },
                      "dir": "/flywheel/v0"
                    },
                    "outputs": [
                      {
                        "type": "scitran",
                        "uri": "/engine?level=analysis&id=58065fa7e5dc5b001457a881&job=58065fa7e5dc5b001457a882",
                        "location": "/flywheel/v0/output"
                      }
                    ]
                  },
                  "modified": "2016-10-18T17:45:21.344000+00:00",
                  "created": "2016-10-18T17:45:11.816000+00:00",
                  "state": "complete",
                  "config": {},
                  "id": "58065fa7e5dc5b001457a882",
                  "gear_id": "58065fa7e5dc5b001457a882"
                },
                "_id": "58065fa7e5dc5b001457a881"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Modify an analysis.",
        "operationId": "modify_analysis",
        "tags": [
          "analyses"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/analyses/{AnalysisId}/inputs": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis inputs.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for all inputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_analysis_inputs",
        "tags": [
          "analyses"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the inputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/analyses/{AnalysisId}/inputs/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis inputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching inputs in the analysis.\nIf no \"ticket\" query param is included, inputs will be downloaded directly.\n",
        "operationId": "download_input_from_analysis",
        "tags": [
          "analyses"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the inputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_analysis_input_download_ticket",
        "x-sdk-get-zip-info": "get_analysis_input_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/analyses/{AnalysisId}/files": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis outputs.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for all outputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_analysis_outputs",
        "tags": [
          "analyses"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the outputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      },
      "post": {
        "summary": "Upload an output file to analysis.",
        "operationId": "upload_output_to_analysis",
        "tags": [
          "analyses"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/analyses/{AnalysisId}/files/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis outputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching outputs in the analysis.\nIf no \"ticket\" query param is included, outputs will be downloaded directly.\n",
        "operationId": "download_output_from_analysis",
        "tags": [
          "analyses"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the outputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_analysis_output_download_ticket",
        "x-sdk-get-zip-info": "get_analysis_output_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/analyses/{AnalysisId}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Update or replace info for a analysis.",
        "operationId": "modify_analysis_info",
        "x-sdk-modify-info": true,
        "tags": [
          "analyses"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The info was updated successfully"
          }
        }
      }
    },
    "/analyses/{AnalysisId}/tags": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Add a tag to analysis.",
        "description": "Progates changes to projects, sessions and acquisitions",
        "operationId": "add_analysis_tag",
        "tags": [
          "analyses"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/analyses/{AnalysisId}/tags/{TagValue}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "description": "The tag to interact with",
          "type": "string",
          "in": "path",
          "name": "TagValue"
        }
      ],
      "get": {
        "summary": "Get the value of a tag, by name.",
        "operationId": "get_analysis_tag",
        "tags": [
          "analyses"
        ],
        "responses": {
          "200": {
            "description": "Returns a single tag by name",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ]
            },
            "examples": {
              "response": {
                "value": "example-tag"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Rename a tag.",
        "operationId": "rename_analysis_tag",
        "tags": [
          "analyses"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "operationId": "delete_analysis_tag",
        "tags": [
          "analyses"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/analyses/{AnalysisId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Add a note to analysis.",
        "operationId": "add_analysis_note",
        "tags": [
          "analyses"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/analyses/{AnalysisId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "get": {
        "summary": "Get a note on analysis.",
        "operationId": "get_analysis_note",
        "tags": [
          "analyses"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "580925ce9e512c57dc8a103b",
                "text": "some text",
                "created": "2016-10-21T17:19:40.899000+00:00",
                "modified": "2016-10-21T17:19:40.899000+00:00",
                "user": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a note on analysis.",
        "operationId": "modify_analysis_note",
        "tags": [
          "analyses"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Remove a note from analysis",
        "operationId": "delete_analysis_note",
        "tags": [
          "analyses"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/{ContainerName}/{ContainerId}/{SubcontainerName}/analyses": {
      "parameters": [
        {
          "name": "ContainerName",
          "in": "path",
          "type": "string",
          "required": true,
          "enum": [
            "groups",
            "projects",
            "sessions",
            "acquisitions",
            "collections"
          ],
          "description": "The parent container type"
        },
        {
          "name": "ContainerId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "The parent container id"
        },
        {
          "name": "SubcontainerName",
          "in": "path",
          "type": "string",
          "required": true,
          "enum": [
            "all",
            "projects",
            "sessions",
            "acquisitions"
          ],
          "description": "The sub container type"
        }
      ],
      "get": {
        "summary": "Get nested analyses for a container",
        "description": "Returns analyses that belong to containers of the specified type that belong to ContainerId. \nFor example: `projects/{ProjectId}/acquisitions/analyses` will return any analyses  that have an acquisition that is under that project as a parent.\nThe `all` keyword is also supported, for example: projects/{ProjectId}/all/analyses  will return any analyses that have any session or acquisition or the project itself as a parent.\n",
        "operationId": "get_analyses",
        "tags": [
          "analyses"
        ],
        "responses": {
          "200": {
            "description": "The list of analyses",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/analysis-list-entry"
              },
              "example": [
                {
                  "files": [
                    {
                      "origin": {
                        "type": "job",
                        "id": "58063f24e5dc5b001657a87f"
                      },
                      "mimetype": "application/octet-stream",
                      "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                      "name": "cortical_surface_right_hemisphere.obj",
                      "tags": [],
                      "classification": {},
                      "modified": "2016-10-18T15:26:35.701000+00:00",
                      "modality": null,
                      "size": 21804112,
                      "type": "None",
                      "info": {}
                    }
                  ],
                  "created": "2016-10-18T17:45:11.778000+00:00",
                  "modified": "2016-10-18T17:45:11.778000+00:00",
                  "label": "cortex-demo 10/18/2016 13:45:5",
                  "job": "58065fa7e5dc5b001457a882",
                  "user": "canakgun@flywheel.io",
                  "_id": "58065fa7e5dc5b001457a881"
                }
              ]
            }
          }
        }
      }
    },
    "/site/rules": {
      "get": {
        "summary": "List all site rules.",
        "operationId": "get_site_rules",
        "tags": [
          "rules"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/rule-output"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Create a new site rule.",
        "operationId": "add_site_rule",
        "tags": [
          "rules"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Rule",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/rule-input"
                }
              ],
              "required": [
                "gear_id",
                "name",
                "any",
                "all",
                "not"
              ]
            }
          }
        ]
      }
    },
    "/site/rules/{RuleId}": {
      "parameters": [
        {
          "name": "RuleId",
          "type": "string",
          "in": "path",
          "required": true
        }
      ],
      "get": {
        "summary": "Get a site rule.",
        "operationId": "get_site_rule",
        "tags": [
          "rules"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "title": "Rule",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/rule-output"
                }
              ],
              "example": {
                "_id": "5a12f2923306be0016179f47",
                "name": "dcm2niix",
                "alg": "dcm2niix",
                "any": [],
                "all": [
                  {
                    "regex": true,
                    "type": "file.classification",
                    "value": "^(?!non-image).+$"
                  },
                  {
                    "type": "file.type",
                    "value": "nifti"
                  }
                ]
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a site rule.",
        "operationId": "modify_site_rule",
        "tags": [
          "rules"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        },
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Rule",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/rule-input"
                }
              ]
            }
          }
        ]
      },
      "delete": {
        "summary": "Remove a site rule.",
        "operationId": "remove_site_rule",
        "tags": [
          "rules"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/dataexplorer/search": {
      "post": {
        "summary": "Perform a search query",
        "operationId": "search",
        "tags": [
          "dataexplorer"
        ],
        "parameters": [
          {
            "name": "simple",
            "in": "query",
            "type": "boolean",
            "x-sdk-default": "true"
          },
          {
            "name": "size",
            "in": "query",
            "type": "integer",
            "minimum": 1,
            "x-sdk-default": 100
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/search-query"
                }
              ],
              "example": {
                "return_type": "session",
                "search_string": "amyg"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "A list of results of the search query",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/search-response"
              },
              "example": []
            }
          }
        }
      }
    },
    "/dataexplorer/search/status": {
      "get": {
        "summary": "Get the status of search (Mongo Connector)",
        "operationId": "get_search_status",
        "tags": [
          "dataexplorer"
        ],
        "responses": {
          "200": {
            "description": "An object with the status of search, and possibly the time is last checked in",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/search-status"
                }
              ],
              "required": [
                "status"
              ]
            }
          }
        }
      }
    },
    "/dataexplorer/search/parse": {
      "post": {
        "summary": "Parse a structured search query",
        "operationId": "parse_search_query",
        "description": "Validates a search query, returning any parse errors that were encountered.\nIn the future, this endpoint may return the abstract syntax tree or evaluated query.\n",
        "tags": [
          "dataexplorer"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/search-structured-search-query"
                }
              ],
              "example": {
                "structured_query": "subject.species == rat"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The result of parsing the search query",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/search-parse-search-query-result"
                }
              ],
              "example": {
                "valid": false,
                "errors": [
                  {
                    "line": 1,
                    "pos": 11,
                    "offset": 10,
                    "message": "Invalid operator '!!'"
                  }
                ]
              }
            }
          }
        }
      }
    },
    "/dataexplorer/search/suggest": {
      "post": {
        "summary": "Get suggestions for a structured search query",
        "operationId": "get_search_query_suggestions",
        "description": "Send the search query from the start of the string, and\nget a set of suggested replacements back. When utilizing a suggestion,\nthe caller should replace the contents from the \"from\" field to the end\nof the string with the provided \"value\".\n",
        "tags": [
          "dataexplorer"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/search-structured-search-query"
                }
              ],
              "example": {
                "structured_query": "subject.species == rat"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The result of parsing the search query",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/search-query-suggestions"
                }
              ],
              "example": {
                "from": 13,
                "suggestions": [
                  {
                    "display": "Test",
                    "value": "Test"
                  },
                  {
                    "display": "Hello World",
                    "value": "\"Hello World\""
                  }
                ]
              }
            }
          }
        }
      }
    },
    "/resolve": {
      "post": {
        "summary": "Perform path based lookup of nodes in the Flywheel hierarchy",
        "description": "This will perform a deep lookup of a node (i.e. group/project/session/acquisition) and its children,\nincluding any files. The query path is an array of strings in the following order (by default):\n\n  * group id\n  * project label\n  * session label\n  * acquisition label\n\nAdditionally, analyses for project/session/acquisition nodes can be resolved by inserting the literal \nstring `\"analyses\"`. e.g. `['scitran', 'MyProject', 'analyses']`.\n\nFiles for projects, sessions, acquisitions and analyses can be resolved by inserting the literal string \n`\"files\"`. e.g. `['scitran', 'MyProject', 'files']`.\n\nAn ID can be used instead of a label by formatting the string as `<id:project_id>`. The full path\nto the node, and the node's children will be included in the response.\n",
        "operationId": "resolve_path",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/resolver-input"
                }
              ],
              "example": {
                "path": [
                  "scitran",
                  "Neuroscience"
                ]
              }
            }
          },
          {
            "in": "query",
            "type": "boolean",
            "name": "exhaustive",
            "description": "Set to return a complete list regardless of permissions"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/resolver-output"
                }
              ],
              "example": {
                "path": [
                  {
                    "container_type": "group",
                    "_id": "scitran",
                    "label": "Scitran",
                    "permissions": [
                      {
                        "access": "admin",
                        "_id": "coltonlw@flywheel.io"
                      }
                    ],
                    "created": "2016-08-19T11:41:15.360000+00:00",
                    "modified": "2016-08-19T11:41:15.360000+00:00"
                  },
                  {
                    "container_type": "project",
                    "_id": "57e452791cff88b85f9f9c97",
                    "label": "Neuroscience",
                    "group": "scitran",
                    "created": "2016-09-22T21:51:53.151000+00:00",
                    "modified": "2016-09-22T21:51:53.151000+00:00",
                    "public": false,
                    "permissions": [
                      {
                        "access": "admin",
                        "_id": "coltonlw@flywheel.io"
                      }
                    ]
                  }
                ],
                "children": [
                  {
                    "container_type": "session",
                    "_id": "57e01cccb1dc04000fb83f03",
                    "label": "control_1",
                    "group": "scitran",
                    "created": "2016-09-19T17:13:48.164000+00:00",
                    "subject": {
                      "code": "ex4784",
                      "_id": "57e01cccb1dc04000fb83f02"
                    },
                    "modified": "2016-09-19T17:13:48.164000+00:00",
                    "project": "57e01cccf6b5d5edbcb4e1cf",
                    "public": false,
                    "permissions": [
                      {
                        "access": "admin",
                        "_id": "coltonlw@flywheel.io"
                      }
                    ]
                  },
                  {
                    "container_type": "file",
                    "origin": {
                      "method": "importer",
                      "type": "device",
                      "id": "importer_Admin_Import",
                      "name": "Admin Import"
                    },
                    "mimetype": "application/zip",
                    "classification": {},
                    "hash": "v0-sha384-dd3c97bfe0ad1fcba75ae6718c6e81038c59af4f447f5db194d52732efa4f955b28455db02eb64cad3e4e55f11e3679f",
                    "name": "4784_1_1_localizer_dicom.zip",
                    "tags": [],
                    "created": "2016-09-21T14:56:09.943000+00:00",
                    "modified": "2016-09-21T14:56:09.943000+00:00",
                    "modality": null,
                    "info": {},
                    "type": "dicom",
                    "size": 989933
                  }
                ]
              }
            }
          }
        }
      }
    },
    "/lookup": {
      "post": {
        "summary": "Perform path based lookup of a single node in the Flywheel hierarchy",
        "description": "This will perform a deep lookup of a node. See /resolve for more details.\n",
        "operationId": "lookup_path",
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/resolver-input"
                }
              ],
              "example": {
                "path": [
                  "scitran",
                  "Neuroscience"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/resolver-node"
                }
              ],
              "example": {
                "container_type": "project",
                "_id": "57e452791cff88b85f9f9c97",
                "label": "Neuroscience",
                "group": "scitran",
                "created": "2016-09-22T21:51:53.151000+00:00",
                "modified": "2016-09-22T21:51:53.151000+00:00",
                "public": false,
                "permissions": [
                  {
                    "access": "admin",
                    "_id": "coltonlw@flywheel.io"
                  }
                ]
              }
            }
          }
        }
      }
    },
    "/containers/{ContainerId}/views": {
      "parameters": [
        {
          "name": "ContainerId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "The ID of the container, one of user, group or project"
        }
      ],
      "get": {
        "summary": "Return a list of all views belonging to container",
        "operationId": "get_views",
        "tags": [
          "views"
        ],
        "responses": {
          "200": {
            "description": "The list of views belonging to the specified container",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/data-view-output"
                  }
                ],
                "required": [
                  "_id",
                  "label",
                  "columns"
                ]
              },
              "example": [
                {
                  "_id": "5ada553f620be23aa6ae1799",
                  "label": "Subject census",
                  "columns": [
                    {
                      "src": "subject.code",
                      "dst": "subject"
                    },
                    {
                      "src": "subject.age"
                    },
                    {
                      "src": "subject.sex"
                    }
                  ]
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "Add a new data view",
        "operationId": "add_view",
        "tags": [
          "views"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/data-view-input"
                }
              ],
              "required": [
                "label"
              ],
              "example": {
                "label": "Subject response data",
                "includeLabels": false,
                "columns": [
                  {
                    "src": "subject.code",
                    "dst": "subject"
                  },
                  {
                    "src": "subject.age"
                  },
                  {
                    "src": "subject.sex"
                  }
                ],
                "fileSpec": {
                  "container": "acquisition",
                  "filter": {
                    "value": "*_events.tsv"
                  },
                  "format": "tsv",
                  "columns": [
                    {
                      "src": "response_time"
                    },
                    {
                      "src": "resp",
                      "dst": "response"
                    },
                    {
                      "src": "cresp",
                      "dst": "correct_response"
                    }
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The view was created sucessfully",
            "schema": {
              "$ref": "#/definitions/collection-new-output"
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/views/columns": {
      "get": {
        "summary": "Return a list of all known column aliases for use in data views",
        "operationId": "get_view_columns",
        "tags": [
          "views"
        ],
        "responses": {
          "200": {
            "description": "The list of column aliases",
            "schema": {
              "type": "array",
              "items": {
                "allOf": [
                  {
                    "$ref": "#/definitions/data-view-column-alias"
                  }
                ]
              },
              "example": [
                {
                  "name": "project",
                  "src": "project._id",
                  "description": "The project id",
                  "type": "string"
                },
                {
                  "name": "project_label",
                  "src": "project.label",
                  "description": "The project label",
                  "type": "string"
                }
              ]
            }
          }
        }
      }
    },
    "/views/data": {
      "post": {
        "summary": "Execute an ad-hoc view, returning data in the preferred format.",
        "operationId": "evaluate_view_adhoc",
        "tags": [
          "views"
        ],
        "parameters": [
          {
            "name": "containerId",
            "in": "query",
            "type": "string",
            "required": true,
            "description": "The target container for view execution"
          },
          {
            "name": "format",
            "in": "query",
            "type": "string",
            "enum": [
              "csv",
              "tsv",
              "json",
              "json-row-column"
            ],
            "default": "json"
          },
          {
            "name": "filter",
            "in": "query",
            "type": "string",
            "description": "An optional filter expression"
          },
          {
            "name": "skip",
            "in": "query",
            "type": "integer",
            "description": "The optional number of rows to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "description": "The optional max number of rows to return"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/data-view-input"
                }
              ],
              "example": {
                "columns": [
                  {
                    "src": "subject.code",
                    "dst": "subject"
                  },
                  {
                    "src": "subject.age"
                  },
                  {
                    "src": "subject.sex"
                  }
                ]
              }
            }
          }
        ],
        "produces": [
          "application/json",
          "text/csv",
          "text/tab-separated-values"
        ],
        "responses": {
          "200": {
            "description": "The view execution result"
          }
        }
      }
    },
    "/views/save": {
      "post": {
        "summary": "Execute a view, saving data to the target container / file",
        "operationId": "save_view_data_to_container",
        "tags": [
          "views"
        ],
        "parameters": [
          {
            "name": "containerId",
            "in": "query",
            "type": "string",
            "required": true,
            "description": "The target container for view execution"
          },
          {
            "name": "format",
            "in": "query",
            "type": "string",
            "enum": [
              "csv",
              "tsv",
              "json",
              "json-row-column"
            ],
            "default": "json"
          },
          {
            "name": "filter",
            "in": "query",
            "type": "string",
            "description": "An optional filter expression"
          },
          {
            "name": "skip",
            "in": "query",
            "type": "integer",
            "description": "The optional number of rows to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "description": "The optional max number of rows to return"
          },
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/data-view-save-data-view-input"
                }
              ],
              "example": {
                "viewId": "5b50e35c25b313ce62673cfa",
                "containerType": "project",
                "containerId": "5b50e37425b313ce62673cfb",
                "filename": "aggregate-results.csv"
              }
            }
          }
        ],
        "produces": [
          "text/event-stream"
        ],
        "responses": {
          "200": {
            "description": "The view execution result"
          }
        }
      }
    },
    "/views/{ViewId}": {
      "parameters": [
        {
          "name": "ViewId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "The ID of the view"
        }
      ],
      "get": {
        "summary": "Return the view identified by ViewId",
        "operationId": "get_view",
        "tags": [
          "views"
        ],
        "responses": {
          "200": {
            "description": "The view identified by ViewId",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/data-view-output"
                }
              ],
              "required": [
                "_id",
                "label",
                "columns"
              ],
              "example": {
                "_id": "5ada553f620be23aa6ae1799",
                "label": "Subject census",
                "columns": [
                  {
                    "src": "subject.code",
                    "dst": "subject"
                  },
                  {
                    "src": "subject.age"
                  },
                  {
                    "src": "subject.sex"
                  }
                ]
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update the view identified by ViewId",
        "operationId": "modify_view",
        "tags": [
          "views"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/data-view-input"
                }
              ],
              "example": {
                "label": "Subject census",
                "columns": [
                  {
                    "src": "subject.code",
                    "dst": "subject"
                  },
                  {
                    "src": "subject.age"
                  },
                  {
                    "src": "subject.sex"
                  }
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a data view",
        "operationId": "delete_view",
        "tags": [
          "views"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/views/{ViewId}/data": {
      "parameters": [
        {
          "name": "ViewId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "The ID of the view"
        }
      ],
      "get": {
        "summary": "Execute a view, returning data in the preferred format.",
        "operationId": "evaluate_view",
        "tags": [
          "views"
        ],
        "parameters": [
          {
            "name": "containerId",
            "in": "query",
            "type": "string",
            "required": true,
            "description": "The target container for view execution"
          },
          {
            "name": "format",
            "in": "query",
            "type": "string",
            "enum": [
              "csv",
              "tsv",
              "json",
              "json-row-column"
            ],
            "default": "json"
          },
          {
            "name": "filter",
            "in": "query",
            "type": "string",
            "description": "An optional filter expression"
          },
          {
            "name": "skip",
            "in": "query",
            "type": "integer",
            "description": "The optional number of rows to skip"
          },
          {
            "name": "limit",
            "in": "query",
            "type": "integer",
            "description": "The optional max number of rows to return"
          }
        ],
        "produces": [
          "application/json",
          "text/csv",
          "text/tab-separated-values"
        ],
        "responses": {
          "200": {
            "description": "The view execution result"
          }
        }
      }
    },
    "/containers/{ContainerId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        }
      ],
      "get": {
        "summary": "Retrieve a single container",
        "operationId": "get_container",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "title": "Container",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/container-output"
                }
              ]
            },
            "examples": {
              "response": {
                "created": "2016-08-30T17:22:05.299000+00:00",
                "curator": "user@test.com",
                "label": "test",
                "description": "Test collection",
                "modified": "2016-08-30T17:22:05.299000+00:00",
                "_id": "57c5c0bd9e512c606dd3df09",
                "permissions": [
                  {
                    "access": "admin",
                    "_id": "user@test.com"
                  }
                ]
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a container and its contents",
        "operationId": "modify_container",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "title": "Container",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/container-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "description": "Container updated"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a container",
        "operationId": "delete_container",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "description": "Container was deleted"
          }
        }
      }
    },
    "/containers/{ContainerId}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        }
      ],
      "post": {
        "summary": "Update or replace info for a container.",
        "operationId": "modify_container_info",
        "x-sdk-modify-info": true,
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The info was updated successfully"
          }
        }
      }
    },
    "/containers/{ContainerId}/tags": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        }
      ],
      "post": {
        "summary": "Add a tag to container.",
        "description": "Progates changes to projects, sessions and acquisitions",
        "operationId": "add_container_tag",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/containers/{ContainerId}/tags/{TagValue}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "description": "The tag to interact with",
          "type": "string",
          "in": "path",
          "name": "TagValue"
        }
      ],
      "get": {
        "summary": "Get the value of a tag, by name.",
        "operationId": "get_container_tag",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "description": "Returns a single tag by name",
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ]
            },
            "examples": {
              "response": {
                "value": "example-tag"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Rename a tag.",
        "operationId": "rename_container_tag",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/tag"
                }
              ],
              "example": {
                "value": "example-tag"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete a tag",
        "operationId": "delete_container_tag",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/containers/{ContainerId}/files": {
      "parameters": [
        {
          "name": "ContainerId",
          "in": "path",
          "type": "string",
          "required": true
        }
      ],
      "post": {
        "summary": "Upload a file to container.",
        "operationId": "upload_file_to_container",
        "tags": [
          "containers"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          },
          {
            "name": "metadata",
            "in": "formData",
            "type": "string",
            "description": "File metadata"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/containers/{ContainerId}/files/{FileName}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Download a file.",
        "description": "Files can be downloaded directly from this endpoint with a valid \"Authorization\" header or via a ticket id.\n\nTo generate a ticket:\n  - Make a request with an empty \"ticket\" parameter and a valid \"Authorization\" header. The server will respond with a generated ticket id.\n  - Make another request with the received ticket id in the \"ticket\" parameter. A valid \"Authorization\" header is no longer required.\n\nWhen \"view\" is true, [RFC7233](https://tools.ietf.org/html/rfc7233) range request headers are supported.\n",
        "operationId": "download_file_from_container",
        "tags": [
          "containers"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "The generated ticket id for the download, or present but empty to generate a ticket id"
          },
          {
            "name": "view",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If true, the proper \"Content-Type\" header based on the file's mimetype is set on response\nIf false, the \"Content-Type\" header is set to \"application/octet-stream\"\n"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_container_download_ticket",
        "x-sdk-get-zip-info": "get_container_file_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/download-ticket"
            },
            "examples": {
              "response": {
                "ticket": "1e975e3d-21e9-41f4-bb97-261f03d35ba1"
              }
            }
          }
        }
      },
      "post": {
        "summary": "Replace a file",
        "operationId": "replace_container_file",
        "tags": [
          "containers"
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "delete": {
        "summary": "Delete a file",
        "description": "A user with read-write or higher permissions on the container may delete files\nthat were uploaded by users or were the output of jobs. (Specifically, files\nwhose `origin.type` is either `job` or `user`.)\n<br/>\nA user with admin permissions on the container may delete any file.\n",
        "operationId": "delete_container_file",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      },
      "put": {
        "summary": "Modify a file's attributes",
        "description": "Note: If modifying a file's modality, the current classification will be cleared (except for items in the \"Custom\" list)\n",
        "operationId": "modify_container_file",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "allOf": [
                {
                  "$ref": "#/definitions/file-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/containers/{ContainerId}/files/{FileName}/info": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "get": {
        "summary": "Get info for a particular file.",
        "operationId": "get_container_file_info",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "description": "The file object, including info",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/file-output"
                }
              ],
              "example": {
                "origin": {
                  "type": "job",
                  "id": "58063f24e5dc5b001657a87f"
                },
                "mimetype": "application/octet-stream",
                "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                "name": "cortical_surface_right_hemisphere.obj",
                "tags": [],
                "classification": {},
                "modified": "2016-10-18T15:26:35.701000+00:00",
                "modality": null,
                "size": 21804112,
                "type": "None",
                "info": {}
              }
            }
          }
        }
      },
      "post": {
        "summary": "Update info for a particular file.",
        "operationId": "modify_container_file_info",
        "x-sdk-modify-info": true,
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "$ref": "#/definitions/info-update-input"
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/containers/{ContainerId}/files/{FileName}/classification": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "FileName"
        }
      ],
      "post": {
        "summary": "Update classification for a particular file.",
        "description": "If replacing a file's classification, the modality can optionally be modified as well.",
        "operationId": "modify_container_file_classification",
        "x-sdk-modify-classification": true,
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/classification-update-input"
                }
              ],
              "example": {
                "modality": "MR",
                "replace": {
                  "Intent": [
                    "Functional"
                  ],
                  "Measurement": [
                    "T2*"
                  ],
                  "Custom": [
                    "Custom Value"
                  ]
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count-and-jobs"
          }
        }
      }
    },
    "/containers/{ContainerId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        }
      ],
      "post": {
        "summary": "Add a note to container.",
        "operationId": "add_container_note",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/containers/{ContainerId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "get": {
        "summary": "Get a note on container.",
        "operationId": "get_container_note",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-output"
                }
              ]
            },
            "examples": {
              "response": {
                "_id": "580925ce9e512c57dc8a103b",
                "text": "some text",
                "created": "2016-10-21T17:19:40.899000+00:00",
                "modified": "2016-10-21T17:19:40.899000+00:00",
                "user": "coltonlw@flywheel.io"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update a note on container.",
        "operationId": "modify_container_note",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Remove a note from container",
        "operationId": "delete_container_note",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/containers/{ContainerId}/analyses": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        }
      ],
      "get": {
        "summary": "Get analyses for container.",
        "description": "Returns analyses that directly belong to this resource.",
        "operationId": "get_container_analyses",
        "x-fw-pagination": true,
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "description": "The list of analyses",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/analysis-list-entry"
              },
              "example": [
                {
                  "files": [
                    {
                      "origin": {
                        "type": "job",
                        "id": "58063f24e5dc5b001657a87f"
                      },
                      "mimetype": "application/octet-stream",
                      "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                      "name": "cortical_surface_right_hemisphere.obj",
                      "tags": [],
                      "classification": {},
                      "modified": "2016-10-18T15:26:35.701000+00:00",
                      "modality": null,
                      "size": 21804112,
                      "type": "None",
                      "info": {}
                    }
                  ],
                  "created": "2016-10-18T17:45:11.778000+00:00",
                  "modified": "2016-10-18T17:45:11.778000+00:00",
                  "label": "cortex-demo 10/18/2016 13:45:5",
                  "job": "58065fa7e5dc5b001457a882",
                  "user": "canakgun@flywheel.io",
                  "_id": "58065fa7e5dc5b001457a881"
                }
              ]
            }
          }
        },
        "parameters": [
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ]
      },
      "post": {
        "summary": "Create an analysis and upload files.",
        "description": "When query param \"job\" is \"true\", send JSON to create\nan analysis and job.  Otherwise, multipart/form-data\nto upload files and create an analysis.\n",
        "operationId": "add_container_analysis",
        "tags": [
          "containers"
        ],
        "consumes": [
          "application/json",
          "multipart/form-data"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-input-any"
                }
              ],
              "required": [
                "label"
              ]
            }
          },
          {
            "name": "job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "Returns the id of the analysis that was created.",
            "schema": {
              "$ref": "#/definitions/container-new-output"
            }
          }
        }
      }
    },
    "/containers/{ContainerId}/analyses/{AnalysisId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Get an analysis.",
        "operationId": "get_container_analysis",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "inflate_job",
            "in": "query",
            "type": "boolean",
            "description": "Return job as an object instead of an id",
            "x-sdk-default": "true"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-output"
                }
              ]
            },
            "examples": {
              "response": {
                "inputs": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58063f24e5dc5b001657a87f"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T15:26:35.701000+00:00",
                    "modality": null,
                    "size": 21804112,
                    "type": "None",
                    "info": {}
                  }
                ],
                "files": [
                  {
                    "origin": {
                      "type": "job",
                      "id": "58065fa7e5dc5b001457a882"
                    },
                    "_id": "50708f69-7549-4331-bac0-b4779e5c9ca1",
                    "mimetype": "application/octet-stream",
                    "hash": "v0-sha384-12188e00a26650b2baa3f0195337dcf504f4362bb2136eef0cdbefb57159356b1355a0402fca0ab5ab081f21c305e5c2",
                    "name": "cortical_surface_right_hemisphere.obj",
                    "tags": [],
                    "classification": {},
                    "modified": "2016-10-18T17:45:17.776000+00:00",
                    "modality": null,
                    "info": {},
                    "type": "None",
                    "size": 21804112
                  }
                ],
                "created": "2016-10-18T17:45:11.778000+00:00",
                "modified": "2016-10-18T17:45:11.778000+00:00",
                "label": "cortex-demo 10/18/2016 13:45:5",
                "job": {
                  "inputs": {
                    "anatomy": {
                      "type": "analysis",
                      "id": "58063f24e5dc5b001657a87e",
                      "name": "cortical_surface_right_hemisphere.obj"
                    }
                  },
                  "attempt": 1,
                  "tags": [
                    "ad-hoc",
                    "cortex-demo",
                    "analysis"
                  ],
                  "destination": {
                    "type": "analysis",
                    "id": "58065fa7e5dc5b001457a881"
                  },
                  "request": {
                    "inputs": [
                      {
                        "location": "/",
                        "type": "http",
                        "uri": "https://storage.googleapis.com/flywheel/gears/v1/scitran/cortex-demo/cortex-demo_manifest-labels_20160725T031837.331720Z.tar.gz",
                        "vu": "vu0:sha384:ssx5VWyFg7r8IBoOIphq7GaB_CymInQ1NxTV2WTDzglJLJ1-ktEbjLIHVABRzesV"
                      },
                      {
                        "type": "scitran",
                        "uri": "/jobs/58065fa7e5dc5b001457a882/config.json",
                        "location": "/flywheel/v0"
                      },
                      {
                        "type": "scitran",
                        "uri": "/sessions/58063e7ed213ed776045b320/analyses/58063f24e5dc5b001657a87e/files/cortical_surface_right_hemisphere.obj",
                        "location": "/flywheel/v0/input/anatomy"
                      }
                    ],
                    "target": {
                      "command": [
                        "bash",
                        "-c",
                        "rm -rf output; mkdir -p output; ./run; echo \"Exit was $?\""
                      ],
                      "env": {
                        "PATH": "/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/sbin:/bin"
                      },
                      "dir": "/flywheel/v0"
                    },
                    "outputs": [
                      {
                        "type": "scitran",
                        "uri": "/engine?level=analysis&id=58065fa7e5dc5b001457a881&job=58065fa7e5dc5b001457a882",
                        "location": "/flywheel/v0/output"
                      }
                    ]
                  },
                  "modified": "2016-10-18T17:45:21.344000+00:00",
                  "created": "2016-10-18T17:45:11.816000+00:00",
                  "state": "complete",
                  "config": {},
                  "id": "58065fa7e5dc5b001457a882",
                  "gear_id": "58065fa7e5dc5b001457a882"
                },
                "_id": "58065fa7e5dc5b001457a881"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Modify an analysis.",
        "operationId": "modify_container_analysis",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "in": "body",
            "name": "body",
            "required": true,
            "schema": {
              "title": "Analysis",
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/analysis-update"
                }
              ]
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      },
      "delete": {
        "summary": "Delete an anaylsis",
        "operationId": "delete_container_analysis",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:deleted-with-count"
          }
        }
      }
    },
    "/containers/{ContainerId}/analyses/{AnalysisId}/inputs": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis inputs.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for all inputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_container_analysis_inputs",
        "tags": [
          "containers"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the inputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/containers/{ContainerId}/analyses/{AnalysisId}/inputs/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis inputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download inputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching inputs in the analysis.\nIf no \"ticket\" query param is included, inputs will be downloaded directly.\n",
        "operationId": "download_input_from_container_analysis",
        "tags": [
          "containers"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the inputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_container_analysis_input_download_ticket",
        "x-sdk-get-zip-info": "get_container_analysis_input_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/containers/{ContainerId}/analyses/{AnalysisId}/files": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "get": {
        "summary": "Download analysis outputs.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for all outputs in the anlaysis\nIf no \"ticket\" query param is included, server error 500\n",
        "operationId": "download_container_analysis_outputs",
        "tags": [
          "containers"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "description": "ticket id of the outputs to download",
            "type": "string",
            "in": "query",
            "name": "ticket"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      },
      "post": {
        "summary": "Upload an output file to analysis.",
        "operationId": "upload_output_to_container_analysis",
        "tags": [
          "containers"
        ],
        "consumes": [
          "multipart/form-data"
        ],
        "parameters": [
          {
            "name": "file",
            "in": "formData",
            "type": "file",
            "required": true,
            "description": "The file to upload"
          }
        ],
        "responses": {
          "200": {
            "description": ""
          }
        }
      }
    },
    "/containers/{ContainerId}/analyses/{AnalysisId}/files/{Filename}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "description": "filename to download (get tar of all if empty)",
          "name": "Filename"
        }
      ],
      "get": {
        "summary": "Download analysis outputs with filter.",
        "description": "If \"ticket\" query param is included and not empty, download outputs.\nIf \"ticket\" query param is included and empty, create a ticket for matching outputs in the analysis.\nIf no \"ticket\" query param is included, outputs will be downloaded directly.\n",
        "operationId": "download_output_from_container_analysis",
        "tags": [
          "containers"
        ],
        "produces": [
          "application/json",
          "application/octet-stream"
        ],
        "parameters": [
          {
            "name": "ticket",
            "in": "query",
            "type": "string",
            "description": "ticket id of the outputs to download"
          },
          {
            "name": "info",
            "in": "query",
            "type": "boolean",
            "default": false,
            "description": "If the file is a zipfile, return a json response of zipfile member information"
          },
          {
            "name": "member",
            "in": "query",
            "type": "string",
            "description": "The filename of a zipfile member to download rather than the entire file"
          }
        ],
        "x-sdk-download-ticket": "get_container_analysis_output_download_ticket",
        "x-sdk-get-zip-info": "get_container_analysis_output_zip_info",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "$ref": "#/definitions/analysis-files-create-ticket-output"
            },
            "examples": {
              "response": {
                "ticket": "57f2af23-a94c-426d-8521-11b2e8782020",
                "filename": "exampledicom.zip",
                "file_cnt": 1,
                "size": 4525137
              }
            }
          }
        }
      }
    },
    "/containers/{ContainerId}/analyses/{AnalysisId}/notes": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        }
      ],
      "post": {
        "summary": "Add a note to container analysis.",
        "operationId": "add_container_analysis_note",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/note-input"
                }
              ],
              "required": [
                "text"
              ],
              "example": {
                "text": "Scitran core!"
              }
            }
          }
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/containers/{ContainerId}/analyses/{AnalysisId}/notes/{NoteId}": {
      "parameters": [
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "ContainerId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "AnalysisId"
        },
        {
          "required": true,
          "type": "string",
          "in": "path",
          "name": "NoteId"
        }
      ],
      "delete": {
        "summary": "Remove a note from container analysis.",
        "operationId": "delete_container_analysis_note",
        "tags": [
          "containers"
        ],
        "responses": {
          "200": {
            "$ref": "#/responses/200:modified-with-count"
          }
        }
      }
    },
    "/uids": {
      "post": {
        "summary": "Check for existence of UIDs system-wide",
        "operationId": "check_uids_exist",
        "tags": [
          "containers"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/container-uidcheck"
                }
              ],
              "example": {
                "sessions": [
                  "1.2.840.99999.3.152.235.2.12.187636473"
                ]
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "UID Check result",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/container-uidcheck"
                }
              ],
              "example": {
                "sessions": [
                  "1.2.840.99999.3.152.235.2.12.187636473"
                ],
                "acquisitions": []
              }
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/tree": {
      "post": {
        "summary": "Query a portion of the flywheel hierarchy, returning only the requested fields.",
        "description": "This is a build-your-own request endpoint that can fetch from anywhere in the hierarchy,\nreturning just the fields that you care about.\n\n# Fields\nEach fetch-level described must include a list of fields to return. These fields\ncan be anything on the container (except info), and will be included in the response\nif they are present in the container.\n\n# Joins\nChildren or parents can be joined as part of this request, by specifying an additional\nsubdocument of the given name. Check /tree/graph for a list of containers and their\nconnections.\n\n# Filter\nJoined documents can be further filtered (with the exception of inputs & files) by\npassing a filter in the subdocument. Filtering follows the same convention as top-level\npagination.\n\n# Sort\nJoined documents can be sorted as well, following the convention as top-level pagination.\n\n# Limit\nJoins can be limited to a the first N documents by specifying a limit in the subdocument.\n\n# Join-origin\nPassing `true` for the `join-origin` flag in the files subdocument will populates the\n`join-origin` map for each container with files.\n",
        "operationId": "fetch_tree",
        "x-fw-pagination": true,
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/tree-request"
                }
              ],
              "example": {
                "subjects": {
                  "fields": [
                    "label"
                  ],
                  "sessions": {
                    "fields": [
                      "label",
                      "timestamp"
                    ],
                    "limit": 5,
                    "sort": "timestamp:asc"
                  }
                }
              }
            }
          },
          {
            "in": "query",
            "type": "string",
            "name": "filter",
            "description": "The filter to apply. (e.g. label=my-label,created>2018-09-22)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "sort",
            "description": "The sort fields and order. (e.g. label:asc,created:desc)"
          },
          {
            "in": "query",
            "type": "integer",
            "name": "limit",
            "description": "The maximum number of entries to return."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "skip",
            "description": "The number of entries to skip."
          },
          {
            "in": "query",
            "type": "integer",
            "name": "page",
            "description": "The page number (i.e. skip limit*page entries)"
          },
          {
            "in": "query",
            "type": "string",
            "name": "after_id",
            "description": "Paginate after the given id. (Cannot be used with sort, page or skip)"
          }
        ],
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/tree-response-item"
              },
              "example": [
                {
                  "_id": "5c59c94a1918b38ec2fba86e",
                  "code": "1001",
                  "sessions": [
                    {
                      "_id": "5c59c9561918b38ec2fba86f",
                      "label": "session-1",
                      "timestamp": "2019-02-04T12:19:41"
                    },
                    {
                      "_id": "5c59c9671918b38ec2fba870",
                      "label": "session-2",
                      "timestamp": "2019-02-05T16:36:55"
                    }
                  ]
                }
              ]
            }
          }
        }
      }
    },
    "/tree/graph": {
      "get": {
        "summary": "Get a description of the flywheel hiearchy",
        "operationId": "get_tree_graph",
        "responses": {
          "200": {
            "description": "",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/tree-graph"
                }
              ],
              "example": {
                "projects": {
                  "connections": {
                    "group": {
                      "local": "group",
                      "foreign": "_id",
                      "collection": "groups",
                      "order": "1"
                    },
                    "subjects": {
                      "foreign": "project"
                    }
                  }
                }
              }
            }
          }
        }
      }
    },
    "/site/providers": {
      "get": {
        "summary": "Return a list of all providers on the site",
        "operationId": "get_providers",
        "tags": [
          "site"
        ],
        "parameters": [
          {
            "name": "class",
            "in": "query",
            "type": "string",
            "enum": [
              "storage",
              "compute"
            ],
            "description": "Limit the response to the given provider class"
          }
        ],
        "responses": {
          "200": {
            "description": "The list of providers",
            "schema": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/provider"
              },
              "example": [
                {
                  "_id": "5c61dc66fb4abf0062cc16ac",
                  "provider_class": "compute",
                  "provider_type": "static",
                  "label": "My Provider",
                  "origin": {
                    "type": "user",
                    "id": "admin@user.com"
                  },
                  "created": "2019-02-11T20:34:46.522000+00:00",
                  "modified": "2019-02-11T20:34:46.522000+00:00"
                }
              ]
            }
          }
        }
      },
      "post": {
        "summary": "Add a new provider",
        "operationId": "add_provider",
        "tags": [
          "site"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/provider-input"
                }
              ],
              "required": [
                "provider_class",
                "provider_type",
                "label",
                "config"
              ],
              "example": {
                "provider_class": "compute",
                "provider_type": "static",
                "label": "My Provider",
                "config": {
                  "sample": 1
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The provider was created sucessfully",
            "schema": {
              "$ref": "#/definitions/collection-new-output"
            }
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/site/providers/{ProviderId}": {
      "parameters": [
        {
          "name": "ProviderId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "The ID of the provider"
        }
      ],
      "get": {
        "summary": "Return the provider identified by ProviderId",
        "operationId": "get_provider",
        "tags": [
          "site"
        ],
        "responses": {
          "200": {
            "description": "The provider identified by ProviderId",
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/provider"
                }
              ],
              "example": {
                "_id": "5c61dc66fb4abf0062cc16ac",
                "provider_class": "compute",
                "provider_type": "static",
                "label": "My Provider",
                "origin": {
                  "type": "user",
                  "id": "admin@user.com"
                },
                "created": "2019-02-11T20:34:46.522000+00:00",
                "modified": "2019-02-11T20:34:46.522000+00:00"
              }
            }
          }
        }
      },
      "put": {
        "summary": "Update the provider identified by ProviderId",
        "operationId": "modify_provider",
        "tags": [
          "site"
        ],
        "parameters": [
          {
            "name": "body",
            "in": "body",
            "required": true,
            "schema": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/provider-input"
                }
              ],
              "example": {
                "label": "Provider 2",
                "config": {
                  "sample": 2
                }
              }
            }
          }
        ],
        "responses": {
          "200": {
            "description": "The provider was updated successfully"
          },
          "400": {
            "$ref": "#/responses/400:invalid-body-json"
          }
        }
      }
    },
    "/site/providers/{ProviderId}/config": {
      "parameters": [
        {
          "name": "ProviderId",
          "in": "path",
          "type": "string",
          "required": true,
          "description": "The ID of the provider"
        }
      ],
      "get": {
        "summary": "Return the configuration for provider identified by ProviderId",
        "description": "The returned configuration will be redacted, with any privileged values replaced with null.",
        "operationId": "get_provider_config",
        "tags": [
          "site"
        ],
        "responses": {
          "200": {
            "description": "The provider identified by ProviderId",
            "schema": {
              "type": "object"
            }
          }
        }
      }
    }
  },
  "securityDefinitions": {
    "ApiKey": {
      "type": "apiKey",
      "in": "header",
      "name": "Authorization",
      "description": "Your API key is available on your Profile page from within the Flywheel Application.\n**NOTE:** The API key should be prefixed with `scitran-user` if you're testing APIs on this page.\n\ne.g. `scitran-user dev.flywheel.io:DFCAds356sdvd`.\n"
    }
  },
  "security": [
    {
      "ApiKey": []
    }
  ],
  "responses": {
    "200:deleted-with-count": {
      "description": "The given number of records were deleted.",
      "schema": {
        "type": "object",
        "properties": {
          "deleted": {
            "type": "integer"
          }
        },
        "required": [
          "deleted"
        ],
        "example": {
          "deleted": 1
        }
      }
    },
    "200:modified-with-count": {
      "description": "The given number of records were updated.",
      "schema": {
        "type": "object",
        "properties": {
          "modified": {
            "type": "integer"
          }
        },
        "required": [
          "modified"
        ],
        "example": {
          "modified": 1
        }
      }
    },
    "200:modified-with-count-and-jobs": {
      "description": "The number of records modified and number of jobs started.",
      "schema": {
        "type": "object",
        "properties": {
          "modified": {
            "type": "integer"
          },
          "jobs_spawned": {
            "type": "integer"
          }
        },
        "required": [
          "modified",
          "jobs_spawned"
        ],
        "example": {
          "modified": 1,
          "jobs_spawned": 0
        }
      }
    },
    "400:invalid-body-json": {
      "description": "JSON did not validate against schema for this endpoint.\n"
    },
    "404:resource-not-found": {
      "description": "The specified resource could not be found.\n"
    }
  },
  "definitions": {
    "acquisition-input": {
      "type": "object",
      "properties": {
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "session": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "uid": {
          "type": "string",
          "description": "A user database ID"
        },
        "timestamp": {
          "$ref": "#/definitions/container-timestamp"
        },
        "timezone": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "acquisition",
      "x-sdk-container-mixin": "acquisition-mixin"
    },
    "acquisition-metadata-input": {
      "type": "object",
      "x-note": "Are all of these fields still used/valid? Can this be reconciled with enginemetadata.json#/definitions/uid-upload-input?",
      "properties": {
        "public": {
          "type": "boolean"
        },
        "label": {
          "type": "string"
        },
        "info": {
          "type": "object"
        },
        "metadata": {
          "type": "object"
        },
        "measurement": {
          "type": "string"
        },
        "instrument": {
          "type": "string"
        },
        "uid": {
          "type": "string"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "timestamp": {
          "$ref": "#/definitions/container-timestamp"
        },
        "timezone": {
          "type": "string"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-input"
          }
        }
      },
      "additionalProperties": false
    },
    "acquisition-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "parents": {
          "$ref": "#/definitions/container-parents"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "session": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "uid": {
          "type": "string",
          "description": "A user database ID"
        },
        "collections": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-fA-F0-9]{24}$",
            "description": "Unique database ID"
          }
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-output"
          }
        },
        "timestamp": {
          "$ref": "#/definitions/container-timestamp"
        },
        "timezone": {
          "type": "string"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "info_exists": {
          "type": "boolean"
        },
        "permissions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/permission-output-default-required"
          }
        },
        "notes": {
          "allOf": [
            {
              "$ref": "#/definitions/notes-list-output"
            }
          ]
        },
        "tags": {
          "allOf": [
            {
              "$ref": "#/definitions/tag-list"
            }
          ]
        },
        "analyses": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/analysis-output"
          }
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "acquisition",
      "x-sdk-container-mixin": "acquisition-mixin"
    },
    "analysis-parent": {
      "$ref": "#/definitions/container-reference"
    },
    "analysis-input-adhoc": {
      "type": "object",
      "properties": {
        "inputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-reference"
          },
          "description": "The set of inputs that this analysis is based on"
        },
        "description": {
          "type": "string"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "additionalProperties": false,
      "description": "Analysis input for creating ad-hoc analyses",
      "x-sdk-model": "analysis-input"
    },
    "analysis-input-job": {
      "type": "object",
      "properties": {
        "job": {
          "$ref": "#/definitions/job-input"
        },
        "description": {
          "type": "string"
        },
        "compute_provider_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "additionalProperties": false,
      "description": "Analysis input for creating job based analyses",
      "x-sdk-model": "analysis-input"
    },
    "analysis-input-legacy": {
      "type": "object",
      "properties": {
        "inputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-input"
          },
          "description": "The set of inputs that this analysis is based on"
        },
        "outputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-input"
          }
        },
        "description": {
          "type": "string"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "additionalProperties": false
    },
    "analysis-input-any": {
      "type": "object",
      "properties": {
        "inputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-reference"
          },
          "description": "The set of inputs that this analysis is based on"
        },
        "description": {
          "type": "string"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "job": {
          "$ref": "#/definitions/job-input"
        },
        "compute_provider_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        }
      },
      "x-sdk-schema": {
        "$ref": "#/definitions/analysis-input-adhoc"
      },
      "x-sdk-model": "analysis-input"
    },
    "analysis-update": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "additionalProperties": false
    },
    "analysis-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "inputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-entry"
          }
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-entry"
          }
        },
        "job": {
          "x-sdk-schema": {
            "$ref": "#/definitions/job-output"
          },
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "gear_info": {
          "$ref": "#/definitions/gear-info"
        },
        "notes": {
          "$ref": "#/definitions/notes-list-output"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "description": {
          "type": "string"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "parent": {
          "$ref": "#/definitions/analysis-parent"
        },
        "parents": {
          "$ref": "#/definitions/container-parents"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "required": [
        "_id",
        "label",
        "created",
        "modified"
      ],
      "x-sdk-container-mixin": "analysis-mixin"
    },
    "analysis-list-entry": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "inputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-entry"
          }
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-entry"
          }
        },
        "job": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "gear_info": {
          "$ref": "#/definitions/gear-info"
        },
        "notes": {
          "$ref": "#/definitions/notes-list-output"
        },
        "description": {
          "type": "string"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "parent": {
          "$ref": "#/definitions/analysis-parent"
        },
        "parents": {
          "$ref": "#/definitions/container-parents"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "required": [
        "_id",
        "label",
        "created",
        "modified"
      ],
      "x-sdk-container-mixin": "analysis-mixin"
    },
    "analysis-files-create-ticket-output": {
      "type": "object",
      "properties": {
        "ticket": {
          "type": "string"
        },
        "filename": {
          "type": "string"
        },
        "file_cnt": {
          "type": "integer"
        },
        "size": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "required": [
        "ticket",
        "filename",
        "file_cnt",
        "size"
      ]
    },
    "auth-login-output": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      },
      "required": [
        "token"
      ]
    },
    "auth-logout-output": {
      "type": "object",
      "properties": {
        "tokens_removed": {
          "type": "integer"
        }
      },
      "required": [
        "tokens_removed"
      ]
    },
    "auth-login-status": {
      "type": "object",
      "properties": {
        "origin": {
          "$ref": "#/definitions/report-access-log-origin"
        },
        "user_is_admin": {
          "type": "boolean",
          "description": "Whether or not the user has admin privileges"
        },
        "is_device": {
          "type": "boolean",
          "description": "Whether or not the credentials identified a device"
        },
        "roles": {
          "$ref": "#/definitions/user-roles"
        }
      },
      "required": [
        "origin",
        "user_is_admin",
        "is_device"
      ]
    },
    "avatars": {
      "title": "Avatar",
      "type": "object",
      "properties": {
        "gravatar": {
          "type": "string",
          "format": "uri"
        },
        "provider": {
          "type": "string",
          "format": "uri"
        },
        "custom": {
          "type": "string",
          "pattern": "^https:",
          "format": "uri"
        }
      },
      "additionalProperties": false
    },
    "batch-matched-container-list": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/container-output-with-files"
      }
    },
    "batch-proposal-detail": {
      "type": "object",
      "properties": {
        "analysis": {
          "$ref": "#/definitions/analysis-input-job"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        }
      },
      "additionalProperties": false
    },
    "batch": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "gear_id": {
          "type": "string"
        },
        "state": {
          "type": "string",
          "enum": [
            "pending",
            "running",
            "failed",
            "complete",
            "cancelled"
          ]
        },
        "origin": {
          "$ref": "#/definitions/job-origin"
        },
        "config": {
          "$ref": "#/definitions/job-config"
        },
        "jobs": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[a-fA-F0-9]{24}$",
            "description": "Unique database ID"
          }
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "x-sdk-container-mixin": "batch-mixin"
    },
    "batch-proposal": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "gear_id": {
          "type": "string"
        },
        "state": {
          "type": "string",
          "enum": [
            "pending",
            "running",
            "failed",
            "complete",
            "cancelled"
          ]
        },
        "config": {
          "$ref": "#/definitions/job-config"
        },
        "origin": {
          "$ref": "#/definitions/job-origin"
        },
        "proposal": {
          "$ref": "#/definitions/batch-proposal-detail"
        },
        "ambiguous": {
          "$ref": "#/definitions/batch-matched-container-list"
        },
        "matched": {
          "$ref": "#/definitions/batch-matched-container-list"
        },
        "not_matched": {
          "$ref": "#/definitions/batch-matched-container-list"
        },
        "optional_input_policy": {
          "type": "string",
          "enum": [
            "ignored",
            "flexible",
            "required"
          ],
          "description": "ignored: Ignore all optional inputs, flexible: match a file if it's there, otherwise still match the container, required: treat all optional inputs as required inputs."
        },
        "improper_permissions": {
          "type": "array",
          "items": {
            "type": "string",
            "description": "Unique database ID"
          }
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "additionalProperties": false,
      "x-sdk-container-mixin": "batch-proposal-mixin"
    },
    "batch-proposal-input": {
      "type": "object",
      "properties": {
        "gear_id": {
          "type": "string"
        },
        "config": {
          "$ref": "#/definitions/job-config"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "optional_input_policy": {
          "type": "string",
          "enum": [
            "ignored",
            "flexible",
            "required"
          ],
          "description": "ignored: Ignore all optional inputs, flexible: match a file if it's there, otherwise still match the container, required: treat all optional inputs as required inputs."
        },
        "analysis": {
          "$ref": "#/definitions/analysis-input-job"
        },
        "compute_provider_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "targets": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/container-reference"
          }
        }
      },
      "additionalProperties": false
    },
    "batch-jobs-proposal-input": {
      "type": "object",
      "properties": {
        "jobs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/job-input"
          }
        }
      },
      "additionalProperties": false
    },
    "batch-cancel-output": {
      "type": "object",
      "properties": {
        "number_cancelled": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "required": [
        "number_cancelled"
      ],
      "x-sdk-return": "number_cancelled"
    },
    "classification-add-delete": {
      "type": "object",
      "properties": {
        "add": {
          "$ref": "#/definitions/common-classification"
        },
        "delete": {
          "$ref": "#/definitions/common-classification"
        }
      },
      "additionalProperties": false
    },
    "classification-replace": {
      "type": "object",
      "properties": {
        "modality": {
          "$ref": "#/definitions/file-modality"
        },
        "replace": {
          "type": "object"
        }
      },
      "additionalProperties": false
    },
    "classification-update-input": {
      "type": "object",
      "properties": {
        "add": {
          "$ref": "#/definitions/common-classification"
        },
        "delete": {
          "$ref": "#/definitions/common-classification"
        },
        "modality": {
          "$ref": "#/definitions/file-modality"
        },
        "replace": {
          "type": "object"
        }
      },
      "description": "Helper endpoint for editing an object's classification key"
    },
    "collection-node": {
      "type": "object",
      "properties": {
        "level": {
          "type": "string",
          "enum": [
            "project",
            "session",
            "acquisition"
          ]
        },
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        }
      },
      "additionalProperties": false
    },
    "collection-operation": {
      "type": "object",
      "properties": {
        "operation": {
          "type": "string",
          "enum": [
            "add",
            "remove"
          ]
        },
        "nodes": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/collection-node"
          }
        }
      },
      "additionalProperties": false
    },
    "collection-input": {
      "type": "object",
      "properties": {
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "description": {
          "type": "string"
        }
      },
      "x-sdk-model": "collection",
      "x-sdk-container-mixin": "collection-mixin",
      "additionalProperties": false
    },
    "collection-input-with-contents": {
      "type": "object",
      "properties": {
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "description": {
          "type": "string"
        },
        "contents": {
          "$ref": "#/definitions/collection-operation"
        }
      },
      "x-sdk-model": "collection",
      "x-sdk-container-mixin": "collection-mixin",
      "additionalProperties": false
    },
    "collection-new-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        }
      },
      "required": [
        "_id"
      ],
      "x-sdk-return": "_id"
    },
    "collection-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "description": {
          "type": "string"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "info_exists": {
          "type": "boolean",
          "description": "Flag that indicates whether or not info exists on this container"
        },
        "curator": {
          "type": "string",
          "format": "email",
          "description": "Database ID of a user"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "permissions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/permission-output-default-required"
          }
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-output"
          }
        },
        "notes": {
          "$ref": "#/definitions/notes-list-output"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "analyses": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/analysis-output"
          }
        }
      },
      "x-sdk-model": "collection",
      "x-sdk-container-mixin": "collection-mixin",
      "additionalProperties": false
    },
    "common-info": {
      "type": "object",
      "description": "Free-form information storage"
    },
    "common-timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "common-classification": {
      "type": "object",
      "additionalProperties": {
        "type": "array",
        "items": {
          "type": "string"
        }
      }
    },
    "common-deleted-count": {
      "type": "object",
      "properties": {
        "deleted": {
          "type": "integer"
        }
      }
    },
    "common-modified-count": {
      "type": "object",
      "properties": {
        "modified": {
          "type": "integer"
        }
      }
    },
    "common-object-created": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        }
      },
      "x-sdk-return": "_id"
    },
    "common-key": {
      "type": "object",
      "properties": {
        "key": {
          "type": "string"
        }
      }
    },
    "common-editions": {
      "type": "object",
      "properties": {
        "lab": {
          "type": "boolean"
        }
      }
    },
    "config-feature-map": {
      "type": "object",
      "properties": {
        "signed_url": {
          "type": "boolean",
          "description": "Whether or not this server supports signed url uploads"
        },
        "job_tickets": {
          "type": "boolean",
          "description": "Whether or not this server supports new job tickets"
        }
      },
      "additionalProperties": {
        "type": "boolean"
      },
      "description": "A map of supported features"
    },
    "config-site-config-output": {
      "type": "object",
      "properties": {
        "central_url": {
          "type": "string"
        },
        "ssl_cert": {
          "type": "string"
        },
        "api_url": {
          "type": "string"
        },
        "registered": {
          "type": "boolean"
        },
        "id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        }
      },
      "required": [
        "central_url",
        "api_url",
        "registered",
        "id",
        "name"
      ]
    },
    "config-auth-output": {
      "type": "object",
      "properties": {
        "verify_endpoint": {
          "type": "string"
        },
        "client_id": {
          "type": "string"
        },
        "client_secret": {
          "type": "string"
        },
        "auth_endpoint": {
          "type": "string"
        },
        "refresh_endpoint": {
          "type": "string"
        }
      }
    },
    "config-output": {
      "type": "object",
      "properties": {
        "site": {
          "$ref": "#/definitions/config-site-config-output"
        },
        "modified": {
          "type": "string"
        },
        "auth": {
          "type": "object",
          "additionalProperties": {
            "$ref": "#/definitions/config-auth-output"
          }
        },
        "created": {
          "type": "string"
        },
        "signed_url": {
          "type": "boolean",
          "description": "Whether or not this server supports signed url uploads"
        },
        "features": {
          "$ref": "#/definitions/config-feature-map"
        }
      },
      "required": [
        "site",
        "modified",
        "auth",
        "created"
      ]
    },
    "config-center-gear-list": {
      "type": "array",
      "items": {
        "type": "string",
        "pattern": "^[a-z0-9\\-]+$",
        "description": "The identification of this gear."
      },
      "description": "A list of gear algorithm names that are treated as center-pays for the purpose of the billing report"
    },
    "config-site-settings": {
      "type": "object",
      "properties": {
        "created": {
          "type": "string"
        },
        "modified": {
          "type": "string"
        },
        "center_gears": {
          "$ref": "#/definitions/config-center-gear-list"
        },
        "providers": {
          "$ref": "#/definitions/provider-links"
        }
      },
      "required": [
        "created",
        "modified",
        "center_gears"
      ]
    },
    "config-site-settings-input": {
      "type": "object",
      "properties": {
        "center_gears": {
          "$ref": "#/definitions/config-center-gear-list"
        },
        "providers": {
          "$ref": "#/definitions/provider-links"
        }
      },
      "additionalProperties": false
    },
    "container-info": {
      "$ref": "#/definitions/common-info"
    },
    "container-uidlist": {
      "type": "array",
      "items": {
        "type": "string",
        "description": "A user database ID"
      },
      "description": "A list of UIDs"
    },
    "container-timestamp": {
      "type": "string",
      "format": "date-time"
    },
    "container-new-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        }
      },
      "required": [
        "_id"
      ],
      "x-sdk-return": "_id"
    },
    "container-parents": {
      "type": "object",
      "properties": {
        "analysis": {
          "type": "string",
          "description": "Unique database ID"
        },
        "acquisition": {
          "type": "string",
          "description": "Unique database ID"
        },
        "session": {
          "type": "string",
          "description": "Unique database ID"
        },
        "subject": {
          "type": "string",
          "description": "Unique database ID"
        },
        "project": {
          "type": "string",
          "description": "Unique database ID"
        },
        "group": {
          "type": "string",
          "description": "Unique database ID"
        }
      }
    },
    "container-reference": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "group",
            "project",
            "subject",
            "session",
            "acquisition",
            "collection",
            "analysis"
          ],
          "description": "The type of container (e.g. session)"
        },
        "id": {
          "type": "string",
          "description": "Unique database ID"
        }
      },
      "required": [
        "type",
        "id"
      ],
      "additionalProperties": false,
      "description": "A reference to an individual container, by type and id"
    },
    "container-output-with-files": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-output"
          }
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "description": "Generic container output with files"
    },
    "container-output": {
      "type": "object",
      "properties": {
        "container_type": {
          "type": "string"
        }
      },
      "discriminator": "container_type",
      "required": [
        "container_type"
      ],
      "description": "Generic container output"
    },
    "container-group-output": {
      "allOf": [
        {
          "$ref": "#/definitions/container-output"
        },
        {
          "$ref": "#/definitions/group-output"
        }
      ],
      "x-discriminator-value": "group",
      "x-sdk-container-mixin": "group-mixin"
    },
    "container-project-output": {
      "allOf": [
        {
          "$ref": "#/definitions/container-output"
        },
        {
          "$ref": "#/definitions/project-output"
        }
      ],
      "x-discriminator-value": "project",
      "x-sdk-container-mixin": "project-mixin"
    },
    "container-subject-output": {
      "allOf": [
        {
          "$ref": "#/definitions/container-output"
        },
        {
          "$ref": "#/definitions/subject-output"
        }
      ],
      "x-discriminator-value": "subject",
      "x-sdk-container-mixin": "subject-mixin"
    },
    "container-session-output": {
      "allOf": [
        {
          "$ref": "#/definitions/container-output"
        },
        {
          "$ref": "#/definitions/session-output"
        }
      ],
      "x-discriminator-value": "session",
      "x-sdk-container-mixin": "session-mixin"
    },
    "container-acquisition-output": {
      "allOf": [
        {
          "$ref": "#/definitions/container-output"
        },
        {
          "$ref": "#/definitions/acquisition-output"
        }
      ],
      "x-discriminator-value": "acquisition",
      "x-sdk-container-mixin": "acquisition-mixin"
    },
    "container-file-output": {
      "allOf": [
        {
          "$ref": "#/definitions/container-output"
        },
        {
          "$ref": "#/definitions/file-output"
        }
      ],
      "x-discriminator-value": "file",
      "x-sdk-container-mixin": "file-mixin"
    },
    "container-analysis-output": {
      "allOf": [
        {
          "$ref": "#/definitions/container-output"
        },
        {
          "$ref": "#/definitions/analysis-output"
        }
      ],
      "x-discriminator-value": "analysis",
      "x-sdk-container-mixin": "analysis-mixin"
    },
    "container-collection-output": {
      "allOf": [
        {
          "$ref": "#/definitions/container-output"
        },
        {
          "$ref": "#/definitions/collection-output"
        }
      ],
      "x-discriminator-value": "collection",
      "x-sdk-container-mixin": "collection-mixin"
    },
    "container-update": {
      "type": "object",
      "description": "Generic input, should be validated by the correct schema later on"
    },
    "container-uidcheck": {
      "type": "object",
      "properties": {
        "sessions": {
          "$ref": "#/definitions/container-uidlist"
        },
        "acquisitions": {
          "$ref": "#/definitions/container-uidlist"
        }
      },
      "description": "Input for checking the existence of UIDs",
      "additionalProperties": false
    },
    "data-view-name-filter-spec": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "description": "The pattern or regular expression to match"
        },
        "regex": {
          "type": "boolean",
          "description": "Whether or not this filter is a pattern or regular expression match"
        }
      },
      "required": [
        "value"
      ],
      "additionalProperties": false,
      "description": "Specifies either a pattern match or regular expression match string filter"
    },
    "data-view-analysis-filter-spec": {
      "type": "object",
      "properties": {
        "label": {
          "$ref": "#/definitions/data-view-name-filter-spec"
        },
        "gear.name": {
          "$ref": "#/definitions/data-view-name-filter-spec"
        },
        "gear.version": {
          "$ref": "#/definitions/data-view-name-filter-spec"
        }
      },
      "additionalProperties": false,
      "description": "Specifies which analyses to match for files"
    },
    "data-view-file-spec": {
      "type": "object",
      "properties": {
        "container": {
          "type": "string",
          "enum": [
            "group",
            "project",
            "subject",
            "session",
            "acquisition",
            "collection",
            "analysis"
          ],
          "description": "The type of container (e.g. session)"
        },
        "analysisFilter": {
          "$ref": "#/definitions/data-view-analysis-filter-spec"
        },
        "filter": {
          "$ref": "#/definitions/data-view-name-filter-spec"
        },
        "zipMember": {
          "$ref": "#/definitions/data-view-name-filter-spec"
        },
        "match": {
          "type": "string",
          "enum": [
            "first",
            "last",
            "newest",
            "oldest",
            "all"
          ],
          "description": "If multiple file matches are encountered, which file to choose. Default is first"
        },
        "format": {
          "type": "string",
          "enum": [
            "csv",
            "tsv",
            "json"
          ],
          "description": "The expected data file format, default is auto-detect"
        },
        "formatOptions": {
          "type": "object"
        },
        "processFiles": {
          "type": "boolean",
          "description": "Set to false to skip file reading, and return file attributes instead"
        },
        "columns": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/data-view-column-spec"
          }
        }
      },
      "required": [
        "container",
        "filter"
      ],
      "additionalProperties": false,
      "description": "Specifies a file to be processed, including filename matching and parsing options"
    },
    "data-view-column-spec": {
      "type": "object",
      "properties": {
        "src": {
          "type": "string",
          "description": "The source property in the format of {container}.{field}"
        },
        "dst": {
          "type": "string",
          "description": "The optional destination property name"
        },
        "type": {
          "type": "string",
          "enum": [
            "int",
            "float",
            "string",
            "bool"
          ],
          "description": "The type that this value should be translated to (for typed output)"
        },
        "expr": {
          "type": "string",
          "description": "An optional expression, allowing simple calculations (add, subtract, multiply, divide). Use 'x' to substitute the column"
        }
      },
      "required": [
        "src"
      ],
      "additionalProperties": false,
      "description": "Describe a column that should belong to the view"
    },
    "data-view-input": {
      "type": "object",
      "properties": {
        "parent": {
          "type": "string",
          "description": "The parent container id"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not the view is public"
        },
        "columns": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/data-view-column-spec"
          }
        },
        "fileSpec": {
          "$ref": "#/definitions/data-view-file-spec"
        },
        "includeIds": {
          "type": "boolean",
          "description": "Whether or not to include container id fields. Default is true"
        },
        "includeLabels": {
          "type": "boolean",
          "description": "Whether or not to include container label fields. Default is true"
        },
        "missingDataStrategy": {
          "type": "string",
          "enum": [
            "none",
            "drop-row"
          ],
          "description": "What to do if missing data are encountered. Default is none, which is to say replace with an empty or null value.",
          "x-comment": "Eventually it may make sense to add a sentinel value option. Other strategies are difficult due to streaming nature of views."
        }
      },
      "description": "Specifies a flattened view of the flywheel hierarchy, possibly including files.",
      "additionalProperties": false,
      "x-sdk-model": "data-view"
    },
    "data-view-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not the view is public"
        },
        "columns": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/data-view-column-spec"
          }
        },
        "fileSpec": {
          "$ref": "#/definitions/data-view-file-spec"
        },
        "includeIds": {
          "type": "boolean",
          "description": "Whether or not to include container id fields. Default is true"
        },
        "includeLabels": {
          "type": "boolean",
          "description": "Whether or not to include container label fields. Default is true"
        },
        "missingDataStrategy": {
          "type": "string",
          "enum": [
            "none",
            "drop-row"
          ],
          "description": "What to do if missing data are encountered. Default is none, which is to say replace with an empty or null value.",
          "x-comment": "Eventually it may make sense to add a sentinel value option. Other strategies are difficult due to streaming nature of views."
        }
      },
      "description": "Specifies a flattened view of the flywheel hierarchy, possibly including files.",
      "additionalProperties": false,
      "x-sdk-model": "data-view"
    },
    "data-view-column-alias": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The column alias name"
        },
        "src": {
          "type": "string",
          "description": "The source for this column's data"
        },
        "group": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "The list of columns that belong to this group"
        },
        "description": {
          "type": "string",
          "description": "A description of this field"
        },
        "type": {
          "type": "string",
          "enum": [
            "int",
            "float",
            "string",
            "bool"
          ],
          "description": "The type that this value should be translated to (for typed output)"
        }
      },
      "description": "Represents a column alias for use in data views. Maps from src to name.",
      "additionalProperties": false,
      "required": [
        "name",
        "description"
      ]
    },
    "data-view-save-data-view-input": {
      "type": "object",
      "properties": {
        "view": {
          "$ref": "#/definitions/data-view-input"
        },
        "viewId": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "containerType": {
          "type": "string",
          "enum": [
            "group",
            "project",
            "subject",
            "session",
            "acquisition",
            "collection",
            "analysis"
          ],
          "description": "The type of container (e.g. session)"
        },
        "containerId": {
          "type": "string",
          "description": "Unique database ID"
        },
        "filename": {
          "type": "string",
          "description": "The name of the file on disk"
        }
      },
      "description": "A request to save data-view data to a container",
      "additionalProperties": false,
      "required": [
        "containerType",
        "containerId",
        "filename"
      ]
    },
    "device-errors": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "device-status-entry": {
      "type": "object",
      "properties": {
        "errors": {
          "$ref": "#/definitions/device-errors"
        },
        "last_seen": {
          "$ref": "#/definitions/common-timestamp"
        },
        "status": {
          "type": "string",
          "enum": [
            "ok",
            "missing",
            "error",
            "unknown"
          ]
        }
      },
      "additionalProperties": false,
      "required": [
        "last_seen",
        "status"
      ]
    },
    "device": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "version": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "key": {
          "type": "string"
        },
        "errors": {
          "$ref": "#/definitions/device-errors"
        },
        "info": {
          "$ref": "#/definitions/common-info"
        },
        "interval": {
          "type": "integer"
        },
        "last_seen": {
          "$ref": "#/definitions/common-timestamp"
        },
        "disabled": {
          "type": "boolean"
        }
      },
      "x-sdk-model": "device",
      "additionalProperties": false
    },
    "device-input": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string"
        },
        "type": {
          "type": "string"
        }
      },
      "x-sdk-model": "device",
      "additionalProperties": false
    },
    "device-admin-update": {
      "type": "object",
      "properties": {
        "disabled": {
          "type": "boolean"
        }
      },
      "x-sdk-model": "device",
      "additionalProperties": false
    },
    "device-update": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "version": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "interval": {
          "type": "integer"
        },
        "errors": {
          "$ref": "#/definitions/device-errors"
        },
        "info": {
          "$ref": "#/definitions/common-info"
        }
      },
      "x-sdk-model": "device",
      "additionalProperties": false
    },
    "device-output": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/device"
        }
      ],
      "required": [
        "_id",
        "type",
        "name",
        "last_seen"
      ],
      "x-sdk-model": "device"
    },
    "device-status": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/device-status-entry"
      }
    },
    "download-filter-definition": {
      "type": "object",
      "properties": {
        "+": {
          "$ref": "#/definitions/download-filter-items"
        },
        "plus": {
          "$ref": "#/definitions/download-filter-items"
        },
        "-": {
          "$ref": "#/definitions/download-filter-items"
        },
        "minus": {
          "$ref": "#/definitions/download-filter-items"
        }
      },
      "x-sdk-ignore-properties": [
        "+",
        "-"
      ],
      "additionalProperties": false
    },
    "download-filter-items": {
      "type": "array",
      "minItems": 1,
      "items": {
        "type": "string"
      },
      "description": "A list of items to include or exclude from a download"
    },
    "download-node": {
      "type": "object",
      "properties": {
        "level": {
          "type": "string",
          "enum": [
            "project",
            "subject",
            "session",
            "acquisition",
            "analysis"
          ]
        },
        "_id": {
          "type": "string",
          "pattern": "^[0-9a-f]{24}$"
        }
      },
      "required": [
        "level",
        "_id"
      ],
      "additionalProperties": false,
      "description": "A reference to a container"
    },
    "download-filter": {
      "type": "object",
      "properties": {
        "tags": {
          "$ref": "#/definitions/download-filter-definition"
        },
        "types": {
          "$ref": "#/definitions/download-filter-definition"
        }
      }
    },
    "download-input": {
      "title": "Download",
      "type": "object",
      "properties": {
        "optional": {
          "type": "boolean"
        },
        "nodes": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/download-node"
          }
        },
        "filters": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/download-filter"
          }
        }
      },
      "required": [
        "nodes"
      ],
      "additionalProperties": false,
      "description": "Specifies a set of files to download"
    },
    "download-ticket": {
      "type": "object",
      "properties": {
        "ticket": {
          "type": "string",
          "description": "The ticket to use to perform the actual download"
        }
      },
      "additionalProperties": false,
      "required": [
        "ticket"
      ],
      "description": "A ticket for non-authenticated download of files"
    },
    "download-ticket-with-summary": {
      "type": "object",
      "properties": {
        "ticket": {
          "type": "string",
          "description": "The ticket to use to perform the actual download"
        },
        "file_cnt": {
          "type": "integer",
          "description": "The number of files that will be included in the download"
        },
        "size": {
          "type": "integer",
          "description": "An estimated total number of bytes that will be downloaded"
        }
      },
      "additionalProperties": false,
      "required": [
        "ticket",
        "file_cnt",
        "size"
      ],
      "description": "A ticket for non-authenticated download of files, including a summary"
    },
    "enginemetadata-upload-acquisition-metadata-input": {
      "type": "object",
      "properties": {
        "public": {
          "type": "boolean"
        },
        "label": {
          "type": "string"
        },
        "info": {
          "type": "object"
        },
        "uid": {
          "type": "string"
        },
        "timestamp": {
          "$ref": "#/definitions/container-timestamp"
        },
        "timezone": {
          "type": "string"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-input"
          }
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        }
      },
      "additionalProperties": false
    },
    "enginemetadata-engine-upload-input": {
      "type": "object",
      "properties": {
        "project": {
          "$ref": "#/definitions/project-metadata-input"
        },
        "subject": {
          "$ref": "#/definitions/subject-metadata-input"
        },
        "session": {
          "$ref": "#/definitions/session-metadata-input"
        },
        "acquisition": {
          "$ref": "#/definitions/acquisition-metadata-input"
        }
      },
      "additionalProperties": false
    },
    "enginemetadata-label-upload-input": {
      "type": "object",
      "properties": {
        "group": {
          "type": "object",
          "properties": {},
          "allOf": [
            {
              "$ref": "#/definitions/group-metadata-input"
            }
          ]
        },
        "project": {
          "type": "object",
          "allOf": [
            {
              "$ref": "#/definitions/project-metadata-input"
            }
          ],
          "required": [
            "label"
          ]
        },
        "session": {
          "type": "object",
          "allOf": [
            {
              "$ref": "#/definitions/session-metadata-input"
            }
          ],
          "required": [
            "label"
          ]
        },
        "acquisition": {
          "type": "object",
          "allOf": [
            {
              "$ref": "#/definitions/enginemetadata-upload-acquisition-metadata-input"
            }
          ],
          "required": [
            "label"
          ]
        }
      },
      "required": [
        "group",
        "project"
      ],
      "additionalProperties": false
    },
    "enginemetadata-uid-upload-input": {
      "type": "object",
      "properties": {
        "group": {
          "type": "object",
          "properties": {},
          "allOf": [
            {
              "$ref": "#/definitions/group-metadata-input"
            }
          ]
        },
        "project": {
          "type": "object",
          "allOf": [
            {
              "$ref": "#/definitions/project-metadata-input"
            }
          ],
          "required": [
            "label"
          ]
        },
        "session": {
          "type": "object",
          "allOf": [
            {
              "$ref": "#/definitions/session-metadata-input"
            }
          ],
          "required": [
            "uid"
          ]
        },
        "acquisition": {
          "type": "object",
          "allOf": [
            {
              "$ref": "#/definitions/enginemetadata-upload-acquisition-metadata-input"
            }
          ],
          "required": [
            "uid"
          ]
        }
      },
      "required": [
        "group",
        "project",
        "session",
        "acquisition"
      ],
      "additionalProperties": false
    },
    "enginemetadata-uid-match-upload-input": {
      "type": "object",
      "properties": {
        "project": {
          "$ref": "#/definitions/project-metadata-input"
        },
        "session": {
          "type": "object",
          "allOf": [
            {
              "$ref": "#/definitions/session-metadata-input"
            }
          ],
          "required": [
            "uid"
          ]
        },
        "acquisition": {
          "type": "object",
          "allOf": [
            {
              "$ref": "#/definitions/enginemetadata-upload-acquisition-metadata-input"
            }
          ],
          "required": [
            "uid"
          ]
        }
      },
      "required": [
        "acquisition",
        "session"
      ],
      "additionalProperties": false
    },
    "file-modality": {
      "type": "string",
      "description": "The type of instrument that originated the file (e.g. MR, CT, ...)"
    },
    "file-via": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "method": {
          "type": "string"
        },
        "type": {
          "type": "string"
        },
        "name": {
          "type": "string"
        }
      }
    },
    "file-origin": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Database ID of joined name and method"
        },
        "method": {
          "type": "string",
          "description": "Method of file origin"
        },
        "type": {
          "type": "string",
          "description": "Type of file origin (e.g. device, user, job)"
        },
        "name": {
          "type": "string",
          "description": "Name of device, user or job that originated the file"
        },
        "via": {
          "$ref": "#/definitions/file-via"
        }
      },
      "additionalProperties": false
    },
    "file-zip-entry": {
      "type": "object",
      "properties": {
        "comment": {
          "type": "string"
        },
        "path": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "size": {
          "type": "integer",
          "description": "Size of the file, in bytes"
        }
      },
      "description": "A zip member description",
      "additionalProperties": false
    },
    "file-zip-info": {
      "type": "object",
      "properties": {
        "comment": {
          "type": "string"
        },
        "members": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-zip-entry"
          }
        }
      },
      "description": "Zip file information",
      "additionalProperties": false
    },
    "file-entry": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        },
        "name": {
          "type": "string",
          "description": "The name of the file on disk"
        },
        "type": {
          "type": "string",
          "description": "A descriptive file type (e.g. dicom, image, document, ...)"
        },
        "mimetype": {
          "type": "string",
          "description": "A MIME Content-Type of the file"
        },
        "modality": {
          "$ref": "#/definitions/file-modality"
        },
        "classification": {
          "$ref": "#/definitions/common-classification"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "info": {
          "$ref": "#/definitions/common-info"
        },
        "origin": {
          "$ref": "#/definitions/file-origin"
        },
        "hash": {
          "type": "string",
          "minLength": 106,
          "maxLength": 106,
          "description": "Cryptographic hash of the file"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "replaced": {
          "type": "string",
          "format": "date-time",
          "description": "Last replaced time (automatically updated)"
        },
        "size": {
          "type": "integer",
          "description": "Size of the file, in bytes"
        },
        "info_exists": {
          "type": "boolean"
        },
        "zip_member_count": {
          "type": "integer",
          "description": "Number of entries in the zip archive"
        }
      },
      "additionalProperties": false,
      "description": "A file description",
      "x-sdk-model": "file-entry",
      "x-sdk-container-mixin": "file-mixin"
    },
    "file-input": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the file on disk"
        },
        "type": {
          "type": "string",
          "description": "A descriptive file type (e.g. dicom, image, document, ...)"
        },
        "mimetype": {
          "type": "string",
          "description": "A MIME Content-Type of the file"
        },
        "modality": {
          "$ref": "#/definitions/file-modality"
        },
        "classification": {
          "$ref": "#/definitions/common-classification"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "info": {
          "$ref": "#/definitions/common-info"
        },
        "zip_member_count": {
          "type": "integer",
          "description": "Number of entries in the zip archive"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "file-entry",
      "x-sdk-container-mixin": "file-mixin"
    },
    "file-update": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "A descriptive file type (e.g. dicom, image, document, ...)"
        },
        "modality": {
          "$ref": "#/definitions/file-modality"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "file-entry",
      "x-sdk-container-mixin": "file-mixin"
    },
    "file-output": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/file-entry"
        }
      ],
      "required": [
        "modified",
        "size"
      ],
      "x-sdk-model": "file-entry",
      "x-sdk-container-mixin": "file-mixin"
    },
    "file-reference": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "group",
            "project",
            "subject",
            "session",
            "acquisition",
            "collection",
            "analysis"
          ],
          "description": "The type of container (e.g. session)"
        },
        "id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "name": {
          "type": "string",
          "description": "The name of the file on disk"
        }
      },
      "required": [
        "type",
        "id",
        "name"
      ],
      "additionalProperties": false,
      "description": "A reference to an individual file in a container, by type, id and name"
    },
    "gear-directive": {
      "type": "object",
      "description": "A schema directive."
    },
    "gear-config": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/gear-directive"
      },
      "description": "Schema snippets describing the options this gear consumes. Not currently processed."
    },
    "gear-custom": {
      "type": "object",
      "description": "A place for gear authors to put arbitrary information."
    },
    "gear-environment": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      },
      "description": "Environment variables that should be set for the gear."
    },
    "gear-info": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string"
        },
        "category": {
          "type": "string",
          "description": "The gear category"
        },
        "name": {
          "type": "string",
          "pattern": "^[a-z0-9\\-]+$",
          "description": "The identification of this gear."
        },
        "version": {
          "type": "string",
          "description": "A human-friendly string explaining the release version of this gear. Example: 3.2.1"
        }
      },
      "description": "Optional information about a gear"
    },
    "gear-input-item": {
      "description": "Describes a gear input",
      "properties": {
        "base": {
          "type": "string",
          "enum": [
            "file",
            "api-key"
          ],
          "description": "The type of gear input."
        },
        "description": {
          "type": "string",
          "description": "Hackaround for description not technically being a schema directive"
        },
        "optional": {
          "type": "boolean",
          "description": "Allow the gear to mark an input file as optional."
        }
      },
      "required": [
        "base"
      ],
      "additionalProperties": {
        "$ref": "#/definitions/gear-directive"
      }
    },
    "gear-context-lookup-item": {
      "properties": {
        "found": {
          "type": "boolean",
          "description": "Was the context value found?"
        },
        "container_type": {
          "type": "string",
          "enum": [
            "group",
            "project",
            "subject",
            "session",
            "acquisition",
            "collection",
            "analysis"
          ],
          "description": "The type of container (e.g. session)"
        },
        "id": {
          "type": "string",
          "description": "Id of the container where the context value was found, if any."
        },
        "label": {
          "type": "string",
          "description": "Label of the container where the context value was found, if any."
        },
        "value": {
          "description": "The value if found. Valid IFF found is true. Can be null."
        }
      },
      "required": [
        "found"
      ],
      "additionalProperties": false
    },
    "gear-context-lookup": {
      "description": "Describes a gear input",
      "additionalProperties": {
        "$ref": "#/definitions/gear-context-lookup-item"
      }
    },
    "gear-inputs": {
      "type": "object",
      "additionalProperties": {
        "type": "object",
        "additionalProperties": {
          "$ref": "#/definitions/gear-input-item"
        }
      },
      "description": "Schema snippets describing the inputs this gear consumes."
    },
    "gear-exchange": {
      "type": "object",
      "description": "Metadata object that describes the origin of a gear version",
      "properties": {
        "git-commit": {
          "type": "string",
          "description": "The SHA-1 hash referring to the git commit"
        },
        "rootfs-hash": {
          "type": "string",
          "description": "The cryptographic hash of the root filesystem in the form of \"algorithm:<base16 hash>\""
        },
        "rootfs-url": {
          "type": "string",
          "description": "The absolute URL of the gear's root file system"
        }
      },
      "required": [
        "git-commit",
        "rootfs-hash",
        "rootfs-url"
      ]
    },
    "gear": {
      "type": "object",
      "description": "Gear manifest",
      "properties": {
        "author": {
          "type": "string",
          "description": "The author of this gear."
        },
        "maintainer": {
          "type": "string",
          "description": "(optional) The maintainer of this gear. Can be used to distinguish the algorithm author from the gear maintainer."
        },
        "cite": {
          "type": "string",
          "description": "(optional) Any citations relevant to the algorithm(s) or work present in the gear."
        },
        "config": {
          "$ref": "#/definitions/gear-config"
        },
        "custom": {
          "$ref": "#/definitions/gear-custom"
        },
        "description": {
          "type": "string",
          "description": "A brief description of the gear's purpose. Ideally 1-4 sentences."
        },
        "environment": {
          "$ref": "#/definitions/gear-environment"
        },
        "command": {
          "type": "string",
          "description": "If provided, the starting command for the gear, rather than /flywheel/v0/run. Will be templated according to the spec."
        },
        "inputs": {
          "$ref": "#/definitions/gear-inputs"
        },
        "label": {
          "type": "string",
          "description": "The human-friendly name of this gear."
        },
        "license": {
          "type": "string",
          "description": "Software license of the gear"
        },
        "name": {
          "type": "string",
          "pattern": "^[a-z0-9\\-]+$",
          "description": "The identification of this gear."
        },
        "source": {
          "type": "string",
          "description": "A valid URI, or empty string."
        },
        "url": {
          "type": "string",
          "description": "A valid URI, or empty string."
        },
        "version": {
          "type": "string",
          "description": "A human-friendly string explaining the release version of this gear. Example: 3.2.1"
        }
      },
      "required": [
        "author",
        "config",
        "description",
        "inputs",
        "label",
        "license",
        "name",
        "source",
        "url",
        "version"
      ],
      "x-sdk-include-empty": [
        "config",
        "inputs"
      ],
      "additionalProperties": false
    },
    "gear-doc": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "category": {
          "type": "string",
          "description": "The gear category"
        },
        "gear": {
          "$ref": "#/definitions/gear"
        },
        "exchange": {
          "$ref": "#/definitions/gear-exchange"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "description": "A full gear description, including manifest and exchange information",
      "x-sdk-container-mixin": "gear-mixin"
    },
    "group": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "maxLength": 64,
          "minLength": 2,
          "pattern": "^[0-9a-z][0-9a-z.@_-]{0,30}[0-9a-z]$"
        },
        "label": {
          "maxLength": 64,
          "minLength": 1,
          "pattern": "^[0-9A-Za-z][0-9A-Za-z .@_-]{0,30}[0-9A-Za-z]$",
          "title": "label",
          "type": "string",
          "description": "The group label"
        },
        "permissions": {
          "$ref": "#/definitions/permission-output-list"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "providers": {
          "$ref": "#/definitions/provider-links"
        },
        "editions": {
          "$ref": "#/definitions/common-editions"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "group",
      "x-sdk-container-mixin": "group-mixin"
    },
    "group-input": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "maxLength": 64,
          "minLength": 2,
          "pattern": "^[0-9a-z][0-9a-z.@_-]{0,30}[0-9a-z]$"
        },
        "label": {
          "maxLength": 64,
          "minLength": 1,
          "pattern": "^[0-9A-Za-z][0-9A-Za-z .@_-]{0,30}[0-9A-Za-z]$",
          "title": "label",
          "type": "string",
          "description": "The group label"
        },
        "providers": {
          "$ref": "#/definitions/provider-links"
        },
        "editions": {
          "$ref": "#/definitions/common-editions"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "group",
      "x-sdk-container-mixin": "group-mixin"
    },
    "group-metadata-input": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        },
        "label": {
          "maxLength": 64,
          "minLength": 1,
          "pattern": "^[0-9A-Za-z][0-9A-Za-z .@_-]{0,30}[0-9A-Za-z]$",
          "title": "label",
          "type": "string",
          "description": "The group label"
        }
      },
      "additionalProperties": false
    },
    "group-output": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/group"
        }
      ],
      "required": [
        "permissions",
        "created",
        "modified",
        "_id"
      ],
      "x-sdk-model": "group",
      "x-sdk-container-mixin": "group-mixin"
    },
    "group-new-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "maxLength": 64,
          "minLength": 2,
          "pattern": "^[0-9a-z][0-9a-z.@_-]{0,30}[0-9a-z]$"
        }
      },
      "required": [
        "_id"
      ],
      "x-sdk-return": "_id"
    },
    "group-output-list": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/group-output"
      }
    },
    "group-project-group-output": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/group"
        }
      ],
      "required": [
        "_id"
      ],
      "x-sdk-model": "group",
      "x-sdk-container-mixin": "group-mixin"
    },
    "group-project-group-output-list": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/group-project-group-output"
      }
    },
    "info-add-remove": {
      "type": "object",
      "properties": {
        "set": {
          "type": "object",
          "minProperties": 1,
          "description": "Key/value pairs of properties to set"
        },
        "delete": {
          "type": "array",
          "uniqueItems": true,
          "minItems": 1,
          "items": {
            "type": "string"
          },
          "description": "A list of properties to remove"
        }
      },
      "additionalProperties": false,
      "description": "Indicates properties to update and a list of properties to remove"
    },
    "info-replace": {
      "type": "object",
      "properties": {
        "replace": {
          "type": "object",
          "description": "The new set of properties for the info"
        }
      },
      "additionalProperties": false,
      "description": "Indicates that info should be replaced with the properties in this document"
    },
    "info-update-input": {
      "type": "object",
      "properties": {
        "set": {
          "type": "object",
          "minProperties": 1,
          "description": "Key/value pairs of properties to set"
        },
        "delete": {
          "type": "array",
          "uniqueItems": true,
          "minItems": 1,
          "items": {
            "type": "string"
          },
          "description": "A list of properties to remove"
        },
        "replace": {
          "type": "object",
          "description": "The new set of properties for the info"
        }
      },
      "description": "Helper endpoint for editing an object's info key"
    },
    "job-inputs-item": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "http",
            "scitran"
          ]
        },
        "uri": {
          "type": "string"
        },
        "location": {
          "type": "string"
        },
        "vu": {
          "type": "string"
        }
      },
      "required": [
        "type",
        "uri",
        "location"
      ]
    },
    "job-inputs-object": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/file-reference"
      }
    },
    "job-inputs-array-item": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "group",
            "project",
            "subject",
            "session",
            "acquisition",
            "collection",
            "analysis"
          ],
          "description": "The type of container (e.g. session)"
        },
        "id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "name": {
          "type": "string",
          "description": "The name of the file on disk"
        },
        "input": {
          "type": "string"
        },
        "base": {
          "type": "string"
        },
        "found": {
          "type": "boolean"
        }
      }
    },
    "job-inputs-array": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/job-inputs-array-item"
      }
    },
    "job-destination": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "id": {
          "type": "string"
        }
      },
      "required": [
        "type",
        "id"
      ],
      "additionalProperties": false
    },
    "job-origin": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "id": {
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    },
    "job-log-statement": {
      "type": "object",
      "properties": {
        "fd": {
          "type": "integer"
        },
        "msg": {
          "type": "string"
        }
      },
      "required": [
        "fd",
        "msg"
      ]
    },
    "job-log": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "logs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/job-log-statement"
          }
        }
      }
    },
    "job-saved-files": {
      "type": "array",
      "items": {
        "type": "string",
        "description": "The name of the file on disk"
      }
    },
    "job-tags": {
      "type": "array",
      "items": {
        "type": "string"
      }
    },
    "job-state-counts": {
      "properties": {
        "pending": {
          "type": "integer"
        },
        "running": {
          "type": "integer"
        },
        "failed": {
          "type": "integer"
        },
        "complete": {
          "type": "integer"
        },
        "cancelled": {
          "type": "integer"
        }
      },
      "required": [
        "pending",
        "running",
        "failed",
        "complete",
        "cancelled"
      ],
      "description": "The number of jobs matching the filter, for each job state"
    },
    "job-config": {
      "type": "object",
      "properties": {}
    },
    "job-request": {
      "type": "object",
      "properties": {
        "inputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/job-inputs-item"
          }
        },
        "target": {
          "type": "object"
        },
        "outputs": {
          "type": "array",
          "items": {
            "type": "object"
          }
        }
      }
    },
    "job-version-info": {
      "type": "object",
      "additionalProperties": {
        "type": "string"
      },
      "description": "An object that contains known version info for components involved in the job"
    },
    "job-executor-info": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "A machine or instance name, possibly a FQDN"
        },
        "host": {
          "type": "string",
          "description": "The hostname or (more likely) IP address of the engine instance"
        },
        "instance_type": {
          "type": "string",
          "description": "A free form string describing the instance type"
        },
        "cpu_cores": {
          "type": "integer",
          "description": "The number of CPU cores"
        },
        "gpu": {
          "type": "boolean",
          "description": "Whether or not a GPU is available"
        },
        "memory_bytes": {
          "type": "integer",
          "description": "The amount of memory on the system, in bytes"
        },
        "disk_bytes": {
          "type": "integer",
          "description": "The size of the hard disk on the system, in bytes"
        },
        "swap_bytes": {
          "type": "integer",
          "description": "The available swap space, in bytes"
        }
      }
    },
    "job-transition-times": {
      "type": "object",
      "properties": {
        "running": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the job transitioned into the running state"
        },
        "failed": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the job transitioned into the failed state"
        },
        "complete": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the job transitioned into the complete state"
        },
        "cancelled": {
          "type": "string",
          "format": "date-time",
          "description": "The timestamp when the job transitioned into the cancelled state"
        }
      }
    },
    "job-profile": {
      "type": "object",
      "properties": {
        "total_input_files": {
          "type": "integer",
          "description": "The number of input files"
        },
        "total_input_size_bytes": {
          "type": "integer",
          "description": "The combined size of all input files, in bytes"
        },
        "total_output_files": {
          "type": "integer",
          "description": "The number of output files"
        },
        "total_output_size_bytes": {
          "type": "integer",
          "description": "The combined size of all output files, in bytes"
        },
        "preparation_time_ms": {
          "type": "integer",
          "description": "The length of time taken to download gear container and inputs, in milliseconds"
        },
        "elapsed_time_ms": {
          "type": "integer",
          "description": "The runtime of the job, in milliseconds"
        },
        "upload_time_ms": {
          "type": "integer",
          "description": "The length of time taken to upload the job's outputs, in milliseconds"
        },
        "total_time_ms": {
          "type": "integer",
          "description": "The total length of time from start to finish, in milliseconds"
        },
        "versions": {
          "$ref": "#/definitions/job-version-info"
        },
        "executor": {
          "$ref": "#/definitions/job-executor-info"
        }
      }
    },
    "job": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "origin": {
          "$ref": "#/definitions/job-origin"
        },
        "gear_id": {
          "type": "string"
        },
        "gear_info": {
          "$ref": "#/definitions/gear-info"
        },
        "previous_job_id": {
          "type": "string"
        },
        "inputs": {
          "$ref": "#/definitions/job-inputs-object"
        },
        "destination": {
          "$ref": "#/definitions/job-destination"
        },
        "compute_provider_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "group": {
          "type": "string",
          "maxLength": 64,
          "minLength": 2,
          "pattern": "^[0-9a-z][0-9a-z.@_-]{0,30}[0-9a-z]$"
        },
        "project": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "tags": {
          "$ref": "#/definitions/job-tags"
        },
        "state": {
          "type": "string",
          "enum": [
            "pending",
            "running",
            "failed",
            "complete",
            "cancelled"
          ]
        },
        "failure_reason": {
          "type": "string",
          "description": "An optional suspected reason for job failure"
        },
        "attempt": {
          "type": "integer"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "retried": {
          "type": "string",
          "format": "date-time",
          "description": "Retried time (automatically set)"
        },
        "config": {
          "$ref": "#/definitions/job-config"
        },
        "transitions": {
          "$ref": "#/definitions/job-transition-times"
        },
        "request": {
          "$ref": "#/definitions/job-request"
        },
        "saved_files": {
          "$ref": "#/definitions/job-saved-files"
        },
        "profile": {
          "$ref": "#/definitions/job-profile"
        },
        "related_container_ids": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "The set of all related container ids"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "job",
      "x-sdk-container-mixin": "job-mixin"
    },
    "job-list-entry": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "origin": {
          "$ref": "#/definitions/job-origin"
        },
        "gear_id": {
          "type": "string"
        },
        "gear_info": {
          "$ref": "#/definitions/gear-info"
        },
        "previous_job_id": {
          "type": "string"
        },
        "inputs": {
          "$ref": "#/definitions/job-inputs-array"
        },
        "destination": {
          "$ref": "#/definitions/job-destination"
        },
        "tags": {
          "$ref": "#/definitions/job-tags"
        },
        "state": {
          "type": "string",
          "enum": [
            "pending",
            "running",
            "failed",
            "complete",
            "cancelled"
          ]
        },
        "attempt": {
          "type": "integer"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "retried": {
          "type": "string",
          "format": "date-time",
          "description": "Retried time (automatically set)"
        },
        "config": {
          "$ref": "#/definitions/job-config"
        },
        "request": {
          "$ref": "#/definitions/job-request"
        },
        "saved_files": {
          "$ref": "#/definitions/job-saved-files"
        }
      },
      "additionalProperties": false,
      "x-sdk-container-mixin": "job-mixin"
    },
    "job-input": {
      "type": "object",
      "properties": {
        "gear_id": {
          "type": "string"
        },
        "inputs": {
          "$ref": "#/definitions/job-inputs-object"
        },
        "destination": {
          "$ref": "#/definitions/job-destination"
        },
        "tags": {
          "$ref": "#/definitions/job-tags"
        },
        "config": {
          "$ref": "#/definitions/job-config"
        },
        "compute_provider_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "required": [
        "gear_id"
      ],
      "additionalProperties": false,
      "x-sdk-model": "job"
    },
    "job-input-update": {
      "type": "object",
      "properties": {
        "gear_id": {
          "type": "string"
        },
        "inputs": {
          "$ref": "#/definitions/job-inputs-object"
        },
        "destination": {
          "$ref": "#/definitions/job-destination"
        },
        "state": {
          "type": "string",
          "enum": [
            "pending",
            "running",
            "failed",
            "complete",
            "cancelled"
          ]
        },
        "tags": {
          "$ref": "#/definitions/job-tags"
        },
        "config": {
          "$ref": "#/definitions/job-config"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "job"
    },
    "job-output": {
      "type": "object",
      "allOf": [
        {
          "$ref": "#/definitions/job"
        }
      ],
      "required": [
        "id",
        "gear_id",
        "inputs",
        "config",
        "destination",
        "tags",
        "state",
        "attempt"
      ],
      "x-sdk-model": "job",
      "x-sdk-container-mixin": "job-mixin"
    },
    "job-container-detail": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "required": [
        "_id",
        "label"
      ]
    },
    "job-detail-file-entry": {
      "type": "object",
      "properties": {
        "ref": {
          "$ref": "#/definitions/file-reference"
        },
        "object": {
          "$ref": "#/definitions/file-entry"
        }
      },
      "required": [
        "ref"
      ],
      "additionalProperties": false
    },
    "job-detail-inputs-object": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/job-detail-file-entry"
      }
    },
    "job-detail-parent-info": {
      "type": "object",
      "properties": {
        "group": {
          "$ref": "#/definitions/job-container-detail"
        },
        "project": {
          "$ref": "#/definitions/job-container-detail"
        },
        "subject": {
          "$ref": "#/definitions/job-container-detail"
        },
        "session": {
          "$ref": "#/definitions/job-container-detail"
        },
        "acquisition": {
          "$ref": "#/definitions/job-container-detail"
        },
        "analysis": {
          "$ref": "#/definitions/job-container-detail"
        }
      },
      "additionalProperties": false
    },
    "job-detail": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "origin": {
          "$ref": "#/definitions/job-origin"
        },
        "gear_id": {
          "type": "string"
        },
        "gear_info": {
          "$ref": "#/definitions/gear-info"
        },
        "parent_info": {
          "$ref": "#/definitions/job-detail-parent-info"
        },
        "previous_job_id": {
          "type": "string"
        },
        "inputs": {
          "$ref": "#/definitions/job-detail-inputs-object"
        },
        "outputs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/job-detail-file-entry"
          }
        },
        "destination": {
          "$ref": "#/definitions/job-destination"
        },
        "tags": {
          "$ref": "#/definitions/job-tags"
        },
        "state": {
          "type": "string",
          "enum": [
            "pending",
            "running",
            "failed",
            "complete",
            "cancelled"
          ]
        },
        "attempt": {
          "type": "integer"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "retried": {
          "type": "string",
          "format": "date-time",
          "description": "Retried time (automatically set)"
        },
        "config": {
          "$ref": "#/definitions/job-config"
        },
        "request": {
          "$ref": "#/definitions/job-request"
        }
      },
      "additionalProperties": false
    },
    "job-config-inputs": {
      "type": "object"
    },
    "job-config-output": {
      "type": "object",
      "properties": {
        "config": {
          "$ref": "#/definitions/job-config"
        },
        "destination": {
          "$ref": "#/definitions/job-destination"
        },
        "inputs": {
          "$ref": "#/definitions/job-config-inputs"
        }
      },
      "required": [
        "config",
        "destination",
        "inputs"
      ]
    },
    "job-gear-match": {
      "type": "object",
      "properties": {
        "group": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A set of groups that are in the hierarchy of an input or destination"
        },
        "gear-name": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A set of gear.name matches"
        },
        "tag": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A set of job.tags matches"
        }
      },
      "additionalProperties": false,
      "description": "An object describing characteristics to match on gears"
    },
    "job-ask-return": {
      "type": "object",
      "properties": {
        "jobs": {
          "type": "integer"
        },
        "peek": {
          "type": "boolean"
        },
        "states": {
          "type": "boolean"
        }
      },
      "additionalProperties": false,
      "description": "Which sorts of return values to receive from ask"
    },
    "job-ask": {
      "type": "object",
      "properties": {
        "whitelist": {
          "$ref": "#/definitions/job-config-inputs",
          "description": "Properties that must match against jobs"
        },
        "blacklist": {
          "$ref": "#/definitions/job-config-inputs",
          "description": "Properties that must NOT match against jobs"
        },
        "capabilities": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "A set of capabilities that must be a superset of matched jobs"
        },
        "return": {
          "$ref": "#/definitions/job-ask-return",
          "description": "Which sorts of return values to receive from ask"
        }
      },
      "additionalProperties": false,
      "required": [
        "whitelist",
        "blacklist",
        "capabilities",
        "return"
      ],
      "description": "Describes how a job should be transitioned after outputs have been uploaded"
    },
    "job-ask-response": {
      "type": "object",
      "properties": {
        "jobs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/job-output"
          }
        },
        "states": {
          "$ref": "#/definitions/job-state-counts"
        }
      },
      "description": "Return based on job-ask-return type"
    },
    "job-completion-input": {
      "type": "object",
      "properties": {
        "success": {
          "type": "boolean",
          "description": "Whether or not the job succeeded"
        },
        "elapsed": {
          "type": "integer",
          "description": "The elapsed time of the job, in seconds"
        },
        "failure_reason": {
          "type": "string",
          "description": "An optional suspected reason for job failure"
        },
        "profile": {
          "$ref": "#/definitions/job-profile-input"
        }
      },
      "additionalProperties": false,
      "required": [
        "success"
      ],
      "description": "Describes how a job should be transitioned after outputs have been uploaded"
    },
    "job-completion-ticket": {
      "type": "object",
      "properties": {
        "ticket": {
          "type": "string",
          "description": "The ticket to use to perform file uploads to a job"
        }
      },
      "additionalProperties": false,
      "required": [
        "ticket"
      ],
      "description": "A ticket for uploading files and completing a job"
    },
    "job-profile-input": {
      "type": "object",
      "properties": {
        "preparation_time_ms": {
          "type": "integer",
          "description": "The length of time taken to download gear container and inputs, in milliseconds"
        },
        "elapsed_time_ms": {
          "type": "integer",
          "description": "The runtime of the job, in milliseconds"
        },
        "upload_time_ms": {
          "type": "integer",
          "description": "The length of time taken to upload the job's outputs, in milliseconds"
        },
        "versions": {
          "$ref": "#/definitions/job-version-info"
        },
        "executor": {
          "$ref": "#/definitions/job-executor-info"
        }
      },
      "additionalProperties": false
    },
    "job-stats-by-state": {
      "type": "object",
      "properties": {
        "pending": {
          "type": "integer"
        },
        "running": {
          "type": "integer"
        },
        "failed": {
          "type": "integer"
        },
        "complete": {
          "type": "integer"
        },
        "cancelled": {
          "type": "integer"
        }
      }
    },
    "master-subject-code-id-input": {
      "type": "object",
      "properties": {
        "first_name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "First name",
          "pattern": "^.*[a-zA-Z]+.*"
        },
        "last_name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "Last name",
          "pattern": "^.*[a-zA-Z]+.*"
        },
        "date_of_birth": {
          "type": "string",
          "description": "Date of birth in YYYY-MM-DD format",
          "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
        },
        "patient_id": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "Patient id",
          "pattern": "^.*[0-9a-zA-Z]+.*"
        },
        "use_patient_id": {
          "type": "boolean",
          "description": "Use patient ID for identification or first name, last name, DOB"
        }
      },
      "required": [
        "patient_id",
        "use_patient_id"
      ],
      "additionalProperties": false
    },
    "master-subject-code-dob-input": {
      "type": "object",
      "properties": {
        "first_name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "First name",
          "pattern": "^.*[a-zA-Z]+.*"
        },
        "last_name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "Last name",
          "pattern": "^.*[a-zA-Z]+.*"
        },
        "date_of_birth": {
          "type": "string",
          "description": "Date of birth in YYYY-MM-DD format",
          "pattern": "^[0-9]{4}-[0-9]{2}-[0-9]{2}$"
        },
        "patient_id": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "Patient id",
          "pattern": "^.*[0-9a-zA-Z]+.*"
        },
        "use_patient_id": {
          "type": "boolean",
          "description": "Use patient ID for identification or first name, last name, DOB"
        }
      },
      "required": [
        "first_name",
        "last_name",
        "date_of_birth",
        "use_patient_id"
      ],
      "additionalProperties": false
    },
    "master-subject-code-code-output": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "description": "Master subject code"
        }
      }
    },
    "modality": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[0-9a-zA-Z_-]{2,64}$",
          "description": "Unique database ID"
        },
        "classification": {
          "$ref": "#/definitions/common-classification"
        }
      },
      "additionalProperties": false
    },
    "note-input": {
      "type": "object",
      "properties": {
        "text": {
          "type": "string",
          "description": "The actual contents of the note",
          "x-sdk-positional": true
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "note"
    },
    "notes-list-input": {
      "type": "array",
      "items": {
        "allOf": [
          {
            "$ref": "#/definitions/note-input"
          }
        ]
      }
    },
    "note-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "text": {
          "type": "string",
          "description": "The actual contents of the note",
          "x-sdk-positional": true
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "user": {
          "type": "string",
          "format": "email",
          "description": "Database ID of a user"
        }
      },
      "additionalProperties": false,
      "required": [
        "_id",
        "text",
        "created",
        "modified",
        "user"
      ],
      "x-sdk-model": "note",
      "description": "A freeform note"
    },
    "notes-list-output": {
      "type": "array",
      "items": {
        "allOf": [
          {
            "$ref": "#/definitions/note-output"
          }
        ]
      }
    },
    "packfile-project-input": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": [
        "_id"
      ]
    },
    "packfile-session-input": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string"
        },
        "subject": {
          "$ref": "#/definitions/subject-input"
        }
      },
      "additionalProperties": false,
      "required": [
        "label"
      ]
    },
    "packfile-acquisition-input": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "timezone": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": [
        "label"
      ]
    },
    "packfile-packfile-input": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "required": [
        "type"
      ]
    },
    "packfile-input": {
      "title": "Packfile",
      "type": "object",
      "properties": {
        "project": {
          "$ref": "#/definitions/packfile-project-input"
        },
        "session": {
          "$ref": "#/definitions/packfile-session-input"
        },
        "acquisition": {
          "$ref": "#/definitions/packfile-acquisition-input"
        },
        "packfile": {
          "$ref": "#/definitions/packfile-packfile-input"
        }
      },
      "required": [
        "project",
        "session",
        "acquisition",
        "packfile"
      ],
      "additionalProperties": false,
      "x-sdk-model": "packfile"
    },
    "packfile-start": {
      "type": "object",
      "properties": {
        "token": {
          "type": "string"
        }
      },
      "x-sdk-return": "token"
    },
    "permission": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "format": "email",
          "description": "Database ID of a user"
        },
        "access": {
          "type": "string",
          "enum": [
            "ro",
            "rw",
            "admin"
          ],
          "description": "Access level"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "permission"
    },
    "permission-output-default-required": {
      "allOf": [
        {
          "$ref": "#/definitions/permission"
        }
      ],
      "required": [
        "_id",
        "access"
      ],
      "x-sdk-model": "permission"
    },
    "permission-output-list": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/permission-output-default-required"
      },
      "uniqueItems": true,
      "description": "Array of user roles"
    },
    "project-template-requirement": {
      "type": "object",
      "properties": {
        "minimum": {
          "type": "integer",
          "minimum": 0
        },
        "maximum": {
          "type": "integer",
          "minimum": 0
        }
      }
    },
    "project-template-session-template": {
      "type": "object",
      "properties": {
        "session": {
          "type": "object"
        },
        "acquisitions": {
          "type": "array",
          "minItems": 1,
          "items": {
            "$ref": "#/definitions/project-template-requirement"
          }
        }
      },
      "additionalProperties": false
    },
    "project-template": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/project-template-session-template"
      }
    },
    "project-input": {
      "type": "object",
      "properties": {
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "description": {
          "type": "string"
        },
        "group": {
          "type": "string",
          "maxLength": 64,
          "minLength": 2,
          "pattern": "^[0-9a-z][0-9a-z.@_-]{0,30}[0-9a-z]$"
        },
        "providers": {
          "$ref": "#/definitions/provider-links"
        },
        "editions": {
          "$ref": "#/definitions/common-editions"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "project",
      "x-sdk-container-mixin": "project-mixin"
    },
    "project-metadata-input": {
      "type": "object",
      "properties": {
        "public": {
          "type": "boolean"
        },
        "label": {
          "type": "string"
        },
        "info": {
          "type": "object"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-input"
          }
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        }
      },
      "additionalProperties": false
    },
    "project-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "parents": {
          "$ref": "#/definitions/container-parents"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "info_exists": {
          "type": "boolean",
          "description": "Flag that indicates whether or not info exists on this container"
        },
        "description": {
          "type": "string"
        },
        "group": {
          "type": "string",
          "maxLength": 64,
          "minLength": 2,
          "pattern": "^[0-9a-z][0-9a-z.@_-]{0,30}[0-9a-z]$"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "templates": {
          "type": "object"
        },
        "permissions": {
          "$ref": "#/definitions/permission-output-list"
        },
        "files": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "$ref": "#/definitions/file-output"
              }
            ]
          }
        },
        "notes": {
          "$ref": "#/definitions/notes-list-output"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "analyses": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/analysis-output"
          }
        },
        "providers": {
          "$ref": "#/definitions/provider-links"
        },
        "editions": {
          "$ref": "#/definitions/common-editions"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "project",
      "x-sdk-container-mixin": "project-mixin"
    },
    "provider-origin": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string"
        },
        "id": {
          "type": "string"
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false
    },
    "provider-links": {
      "type": "object",
      "properties": {
        "compute": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "storage": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        }
      },
      "additionalProperties": false,
      "description": "Links to providers for containers"
    },
    "provider": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "provider_class": {
          "type": "string",
          "enum": [
            "compute",
            "storage"
          ],
          "description": "The provider class - one of compute or storage"
        },
        "provider_type": {
          "type": "string",
          "description": "The provider type (e.g. static or gcloud)"
        },
        "label": {
          "type": "string",
          "description": "A human readable label for the provider"
        },
        "origin": {
          "$ref": "#/definitions/provider-origin"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "config": {
          "type": "object",
          "description": "The provider-specific configuration fields."
        },
        "creds": {
          "type": "object",
          "description": "The provider-specific credential fields."
        }
      },
      "additionalProperties": false
    },
    "provider-input": {
      "type": "object",
      "properties": {
        "provider_class": {
          "type": "string",
          "enum": [
            "compute",
            "storage"
          ],
          "description": "The provider class - one of compute or storage"
        },
        "provider_type": {
          "type": "string",
          "description": "The provider type (e.g. static or gcloud)"
        },
        "label": {
          "type": "string",
          "description": "A human readable label for the provider"
        },
        "config": {
          "type": "object",
          "description": "The provider-specific configuration fields."
        },
        "creds": {
          "type": "object",
          "description": "The provider-specific credential fields."
        }
      },
      "additionalProperties": false
    },
    "report-gender-count": {
      "type": "object",
      "properties": {
        "Male": {
          "type": "integer"
        },
        "Unknown or Not Reported": {
          "type": "integer"
        },
        "Female": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "required": [
        "Male",
        "Female",
        "Unknown or Not Reported"
      ]
    },
    "report-ethnicity-grid": {
      "type": "object",
      "properties": {
        "Not Hispanic or Latino": {
          "allOf": [
            {
              "$ref": "#/definitions/report-gender-count"
            }
          ]
        },
        "Hispanic or Latino": {
          "allOf": [
            {
              "$ref": "#/definitions/report-gender-count"
            }
          ]
        },
        "Unknown or Not Reported": {
          "allOf": [
            {
              "$ref": "#/definitions/report-gender-count"
            }
          ]
        },
        "Total": {
          "type": "integer"
        }
      }
    },
    "report-demographics-grid": {
      "type": "object",
      "properties": {
        "Black or African American": {
          "allOf": [
            {
              "$ref": "#/definitions/report-ethnicity-grid"
            }
          ]
        },
        "Unknown or Not Reported": {
          "allOf": [
            {
              "$ref": "#/definitions/report-ethnicity-grid"
            }
          ]
        },
        "American Indian or Alaska Native": {
          "allOf": [
            {
              "$ref": "#/definitions/report-ethnicity-grid"
            }
          ]
        },
        "Asian": {
          "allOf": [
            {
              "$ref": "#/definitions/report-ethnicity-grid"
            }
          ]
        },
        "White": {
          "allOf": [
            {
              "$ref": "#/definitions/report-ethnicity-grid"
            }
          ]
        },
        "Total": {
          "allOf": [
            {
              "$ref": "#/definitions/report-ethnicity-grid"
            }
          ]
        },
        "Native Hawaiian or Other Pacific Islander": {
          "allOf": [
            {
              "$ref": "#/definitions/report-ethnicity-grid"
            }
          ]
        },
        "More Than One Race": {
          "allOf": [
            {
              "$ref": "#/definitions/report-ethnicity-grid"
            }
          ]
        },
        "male_count": {
          "type": "integer"
        },
        "group_label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "over_18_count": {
          "type": "integer"
        },
        "under_18_count": {
          "type": "integer"
        },
        "female_count": {
          "type": "integer"
        },
        "subjects_count": {
          "type": "integer"
        },
        "other_count": {
          "type": "integer"
        },
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "session_count": {
          "type": "integer"
        },
        "admins": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "demographics_total": {
          "type": "integer"
        }
      }
    },
    "report-group-report": {
      "type": "object",
      "properties": {
        "project_count": {
          "type": "integer"
        },
        "label": {
          "maxLength": 64,
          "minLength": 1,
          "pattern": "^[0-9A-Za-z][0-9A-Za-z .@_-]{0,30}[0-9A-Za-z]$",
          "title": "label",
          "type": "string",
          "description": "The group label"
        },
        "session_count": {
          "type": "integer"
        }
      },
      "additionalProperties": false,
      "required": [
        "project_count",
        "label",
        "session_count"
      ]
    },
    "report-project": {
      "type": "object",
      "properties": {
        "projects": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/report-demographics-grid"
          }
        }
      }
    },
    "report-site": {
      "type": "object",
      "properties": {
        "group_count": {
          "type": "integer"
        },
        "groups": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/report-group-report"
          }
        }
      },
      "additionalProperties": false,
      "required": [
        "group_count",
        "groups"
      ]
    },
    "report-access-log-context-entry": {
      "type": "object",
      "properties": {
        "id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "required": [
        "id"
      ]
    },
    "report-access-log-context-file-entry": {
      "type": "object",
      "properties": {
        "name": {
          "type": "string",
          "description": "The name of the file on disk"
        }
      },
      "required": [
        "name"
      ]
    },
    "report-access-log-context": {
      "properties": {
        "group": {
          "$ref": "#/definitions/report-access-log-context-entry"
        },
        "project": {
          "$ref": "#/definitions/report-access-log-context-entry"
        },
        "subject": {
          "$ref": "#/definitions/report-access-log-context-entry"
        },
        "session": {
          "$ref": "#/definitions/report-access-log-context-entry"
        },
        "acquisition": {
          "$ref": "#/definitions/report-access-log-context-entry"
        },
        "file": {
          "$ref": "#/definitions/report-access-log-context-file-entry"
        }
      },
      "required": [
        "group",
        "project"
      ],
      "description": "The context for a logged request, describing the members of the accessed hierarchy"
    },
    "report-access-log-origin": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "description": "The origin type (e.g. user)"
        },
        "id": {
          "type": "string",
          "description": "The origin id (e.g. user id)"
        }
      },
      "required": [
        "type"
      ],
      "additionalProperties": false,
      "description": "The origin of a logged request (e.g. a user id)"
    },
    "report-access-log-entry": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "The access log entry id"
        },
        "access_type": {
          "type": "string",
          "description": "A named field used in the access log report"
        },
        "context": {
          "$ref": "#/definitions/report-access-log-context"
        },
        "origin": {
          "$ref": "#/definitions/report-access-log-origin"
        },
        "request_method": {
          "type": "string",
          "description": "The http request method (e.g. GET, PUT, POST, DELETE)"
        },
        "request_path": {
          "type": "string",
          "description": "The HTTP request path (e.g. /api/projects)"
        },
        "timestamp": {
          "$ref": "#/definitions/common-timestamp"
        }
      },
      "description": "A single entry in the access log report"
    },
    "report-usage-project-entry": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "required": [
        "_id"
      ],
      "description": "The project that this entry reports on"
    },
    "report-usage-entry": {
      "type": "object",
      "properties": {
        "file_mbs": {
          "type": "number",
          "description": "File storage usage, in megabytes"
        },
        "gear_execution_count": {
          "type": "integer",
          "description": "The number of gears executed"
        },
        "session_count": {
          "type": "integer",
          "description": "The number of sessions created"
        },
        "year": {
          "type": "string",
          "description": "The year portion of the entry date"
        },
        "month": {
          "type": "string",
          "description": "The month portion of the entry date"
        },
        "project": {
          "$ref": "#/definitions/report-usage-project-entry"
        }
      },
      "required": [
        "file_mbs",
        "gear_execution_count",
        "session_count"
      ],
      "description": "An entry in the usage report, describing storage and gear usage"
    },
    "resolver-input": {
      "type": "object",
      "properties": {
        "path": {
          "type": "array",
          "minLength": 1,
          "items": {
            "type": "string"
          }
        }
      },
      "required": [
        "path"
      ]
    },
    "resolver-output": {
      "type": "object",
      "properties": {
        "path": {
          "$ref": "#/definitions/resolver-node-list"
        },
        "children": {
          "$ref": "#/definitions/resolver-node-list"
        }
      },
      "required": [
        "path"
      ],
      "x-sdk-container-mixin": "resolver-output-mixin"
    },
    "resolver-node": {
      "type": "object",
      "properties": {
        "container_type": {
          "type": "string"
        }
      },
      "discriminator": "container_type",
      "required": [
        "container_type"
      ],
      "x-alt-discriminator": "node_type"
    },
    "resolver-node-list": {
      "type": "array",
      "items": {
        "$ref": "#/definitions/resolver-node"
      }
    },
    "resolver-group-node": {
      "allOf": [
        {
          "$ref": "#/definitions/resolver-node"
        },
        {
          "$ref": "#/definitions/group-output"
        }
      ],
      "x-discriminator-value": "group",
      "x-sdk-container-mixin": "group-mixin"
    },
    "resolver-project-node": {
      "allOf": [
        {
          "$ref": "#/definitions/resolver-node"
        },
        {
          "$ref": "#/definitions/project-output"
        }
      ],
      "x-discriminator-value": "project",
      "x-sdk-container-mixin": "project-mixin"
    },
    "resolver-subject-node": {
      "allOf": [
        {
          "$ref": "#/definitions/resolver-node"
        },
        {
          "$ref": "#/definitions/subject-output"
        }
      ],
      "x-discriminator-value": "subject",
      "x-sdk-container-mixin": "subject-mixin"
    },
    "resolver-session-node": {
      "allOf": [
        {
          "$ref": "#/definitions/resolver-node"
        },
        {
          "$ref": "#/definitions/session-output"
        }
      ],
      "x-discriminator-value": "session",
      "x-sdk-container-mixin": "session-mixin"
    },
    "resolver-acquisition-node": {
      "allOf": [
        {
          "$ref": "#/definitions/resolver-node"
        },
        {
          "$ref": "#/definitions/acquisition-output"
        }
      ],
      "x-discriminator-value": "acquisition",
      "x-sdk-container-mixin": "acquisition-mixin"
    },
    "resolver-file-node": {
      "allOf": [
        {
          "$ref": "#/definitions/resolver-node"
        },
        {
          "$ref": "#/definitions/file-output"
        }
      ],
      "x-discriminator-value": "file",
      "x-sdk-container-mixin": "file-mixin"
    },
    "resolver-analysis-node": {
      "allOf": [
        {
          "$ref": "#/definitions/resolver-node"
        },
        {
          "$ref": "#/definitions/analysis-output"
        }
      ],
      "x-discriminator-value": "analysis",
      "x-sdk-container-mixin": "analysis-mixin"
    },
    "resolver-gear-node": {
      "allOf": [
        {
          "$ref": "#/definitions/resolver-node"
        },
        {
          "$ref": "#/definitions/gear-doc"
        }
      ],
      "x-discriminator-value": "gear",
      "x-sdk-container-mixin": "gear-mixin"
    },
    "rule-items": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string",
            "enum": [
              "file.type",
              "file.name",
              "file.modality",
              "file.classification",
              "container.has-type",
              "container.has-classification"
            ]
          },
          "value": {
            "type": "string"
          },
          "regex": {
            "type": "boolean"
          }
        },
        "required": [
          "type",
          "value"
        ],
        "additionalProperties": false
      }
    },
    "rule-input": {
      "type": "object",
      "properties": {
        "project_id": {
          "type": "string"
        },
        "gear_id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "config": {
          "type": "object"
        },
        "fixed_inputs": {
          "$ref": "#/definitions/job-inputs-array"
        },
        "auto_update": {
          "type": "boolean"
        },
        "any": {
          "$ref": "#/definitions/rule-items"
        },
        "all": {
          "$ref": "#/definitions/rule-items"
        },
        "not": {
          "$ref": "#/definitions/rule-items"
        },
        "disabled": {
          "type": "boolean"
        },
        "compute_provider_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "rule"
    },
    "rule-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        },
        "gear_id": {
          "type": "string"
        },
        "name": {
          "type": "string"
        },
        "config": {
          "type": "object"
        },
        "fixed_inputs": {
          "$ref": "#/definitions/job-inputs-array"
        },
        "auto_update": {
          "type": "boolean"
        },
        "any": {
          "$ref": "#/definitions/rule-items"
        },
        "all": {
          "$ref": "#/definitions/rule-items"
        },
        "not": {
          "$ref": "#/definitions/rule-items"
        },
        "disabled": {
          "type": "boolean"
        },
        "compute_provider_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        }
      },
      "x-sdk-model": "rule"
    },
    "search-query": {
      "type": "object",
      "properties": {
        "return_type": {
          "type": "string",
          "enum": [
            "file",
            "acquisition",
            "session",
            "analysis",
            "collection"
          ],
          "description": "Sets the type of search results to return"
        },
        "search_string": {
          "type": "string",
          "description": "Represents the plain text search query"
        },
        "structured_query": {
          "type": "string",
          "description": "Represents structured query language search"
        },
        "all_data": {
          "type": "boolean",
          "description": "When set will include all data that the user does not have access to read",
          "default": false
        },
        "filters": {
          "type": "array",
          "items": {
            "type": "object"
          },
          "description": "See https://www.elastic.co/guide/en/elasticsearch/reference/current/term-level-queries.html"
        }
      },
      "required": [
        "return_type"
      ]
    },
    "search-structured-search-query": {
      "type": "object",
      "properties": {
        "structured_query": {
          "type": "string",
          "description": "Represents structured query language search"
        }
      },
      "required": [
        "structured_query"
      ]
    },
    "search-save-search-parent": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": [
            "site",
            "user",
            "group",
            "project"
          ]
        },
        "id": {
          "type": "string",
          "description": "Unique database ID"
        }
      },
      "additionalProperties": false
    },
    "search-save-search": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "search": {
          "$ref": "#/definitions/search-query"
        },
        "parent": {
          "$ref": "#/definitions/search-save-search-parent"
        },
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "additionalProperties": false
    },
    "search-save-search-input": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "search": {
          "$ref": "#/definitions/search-query"
        },
        "parent": {
          "$ref": "#/definitions/search-save-search-parent"
        }
      },
      "additionalProperties": false
    },
    "search-save-search-update": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "search": {
          "$ref": "#/definitions/search-query"
        }
      },
      "additionalProperties": false
    },
    "search-project-response": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "description": "Fields for project search response",
      "x-sdk-container-mixin": "project-mixin"
    },
    "search-group-response": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        }
      },
      "description": "Fields for group search response",
      "x-sdk-container-mixin": "group-mixin"
    },
    "search-session-response": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "timestamp": {
          "$ref": "#/definitions/common-timestamp"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        }
      },
      "description": "Fields for session search response",
      "x-sdk-container-mixin": "session-mixin"
    },
    "search-acquisition-response": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "timestamp": {
          "$ref": "#/definitions/common-timestamp"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        }
      },
      "description": "Fields for acquisition search response",
      "x-sdk-container-mixin": "acquisition-mixin"
    },
    "search-subject-response": {
      "type": "object",
      "properties": {
        "code": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "A unique identifier for the subject"
        }
      },
      "description": "Fields for subject search response",
      "x-sdk-container-mixin": "subject-mixin"
    },
    "search-file-response": {
      "type": "object",
      "properties": {
        "classification": {
          "$ref": "#/definitions/common-classification"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "type": {
          "type": "string",
          "description": "A descriptive file type (e.g. dicom, image, document, ...)"
        },
        "name": {
          "type": "string",
          "description": "The name of the file on disk"
        },
        "size": {
          "type": "integer",
          "description": "Size of the file, in bytes"
        }
      },
      "description": "Fields for file search response",
      "x-sdk-container-mixin": "file-mixin"
    },
    "search-analysis-response": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "user": {
          "type": "string",
          "format": "email",
          "description": "Database ID of a user"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        }
      },
      "description": "Fields for acquisition search response",
      "x-sdk-container-mixin": "analysis-mixin"
    },
    "search-collection-response": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "curator": {
          "type": "string",
          "format": "email",
          "description": "Database ID of a user"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        }
      },
      "description": "Fields for collection search response",
      "x-sdk-container-mixin": "collection-mixin"
    },
    "search-parent-response": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "description": "Unique database ID"
        },
        "type": {
          "type": "string",
          "enum": [
            "group",
            "project",
            "subject",
            "session",
            "acquisition",
            "collection",
            "analysis"
          ],
          "description": "The type of container (e.g. session)"
        }
      },
      "discriminator": "type",
      "required": [
        "type"
      ],
      "description": "Fields for parent search response"
    },
    "search-parent-group": {
      "allOf": [
        {
          "$ref": "#/definitions/search-parent-response"
        },
        {
          "$ref": "#/definitions/group-output"
        }
      ],
      "x-discriminator-value": "group",
      "x-sdk-container-mixin": "group-mixin"
    },
    "search-parent-project": {
      "allOf": [
        {
          "$ref": "#/definitions/search-parent-response"
        },
        {
          "$ref": "#/definitions/project-output"
        }
      ],
      "x-discriminator-value": "project",
      "x-sdk-container-mixin": "project-mixin"
    },
    "search-parent-session": {
      "allOf": [
        {
          "$ref": "#/definitions/search-parent-response"
        },
        {
          "$ref": "#/definitions/session-output"
        }
      ],
      "x-discriminator-value": "session",
      "x-sdk-container-mixin": "project-mixin"
    },
    "search-parent-acquisition": {
      "allOf": [
        {
          "$ref": "#/definitions/search-parent-response"
        },
        {
          "$ref": "#/definitions/acquisition-output"
        }
      ],
      "x-discriminator-value": "acquisition",
      "x-sdk-container-mixin": "acquisition-mixin"
    },
    "search-parent-collection": {
      "allOf": [
        {
          "$ref": "#/definitions/search-parent-response"
        },
        {
          "$ref": "#/definitions/collection-output"
        }
      ],
      "x-discriminator-value": "collection",
      "x-sdk-container-mixin": "collection-mixin"
    },
    "search-parent-analysis": {
      "allOf": [
        {
          "$ref": "#/definitions/search-parent-response"
        },
        {
          "$ref": "#/definitions/analysis-output"
        }
      ],
      "x-discriminator-value": "analysis",
      "x-sdk-container-mixin": "analysis-mixin"
    },
    "search-ml-input-file": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        }
      }
    },
    "search-ml-input": {
      "type": "object",
      "properties": {
        "labels": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "search-query": {
          "$ref": "#/definitions/search-query"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/search-ml-input-file"
          }
        },
        "output": {
          "$ref": "#/definitions/container-reference"
        }
      }
    },
    "search-response": {
      "type": "object",
      "properties": {
        "return_type": {
          "type": "string",
          "enum": [
            "file",
            "acquisition",
            "session",
            "analysis",
            "collection"
          ],
          "description": "Sets the type of search results to return"
        },
        "project": {
          "$ref": "#/definitions/search-project-response"
        },
        "group": {
          "$ref": "#/definitions/search-group-response"
        },
        "session": {
          "$ref": "#/definitions/search-session-response"
        },
        "acquisition": {
          "$ref": "#/definitions/search-acquisition-response"
        },
        "subject": {
          "$ref": "#/definitions/search-subject-response"
        },
        "file": {
          "$ref": "#/definitions/search-file-response"
        },
        "collection": {
          "$ref": "#/definitions/search-collection-response"
        },
        "analysis": {
          "$ref": "#/definitions/search-analysis-response"
        },
        "parent": {
          "$ref": "#/definitions/search-parent-response"
        },
        "permissions": {
          "$ref": "#/definitions/permission-output-list"
        }
      },
      "description": "Single search response entry",
      "x-sdk-container-mixin": "search-response-mixin"
    },
    "search-status": {
      "type": "object",
      "properties": {
        "status": {
          "type": "string",
          "enum": [
            "missing",
            "indexing",
            "up-to-date"
          ]
        },
        "last_seen": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "additionalProperties": false
    },
    "search-suggestion": {
      "type": "object",
      "properties": {
        "display": {
          "type": "string",
          "description": "The display value of the suggestion"
        },
        "value": {
          "type": "string",
          "description": "The value to use for replacement"
        }
      },
      "required": [
        "display",
        "value"
      ]
    },
    "search-query-suggestions": {
      "type": "object",
      "properties": {
        "from": {
          "type": "integer",
          "description": "The starting position for the auto-complete replacement"
        },
        "suggestions": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/search-suggestion"
          },
          "description": "The list of suggested replacements"
        }
      }
    },
    "search-parse-error": {
      "type": "object",
      "properties": {
        "line": {
          "type": "integer",
          "description": "The line number where the error occurred"
        },
        "pos": {
          "type": "integer",
          "description": "The position where the error occurred"
        },
        "offset": {
          "type": "integer",
          "description": "The absolute offset in the input (from 0) where the error occurred"
        },
        "message": {
          "type": "string",
          "description": "The error message"
        }
      },
      "required": [
        "message"
      ]
    },
    "search-parse-search-query-result": {
      "type": "object",
      "properties": {
        "valid": {
          "type": "boolean",
          "description": "Whether the structured query was valid or not"
        },
        "errors": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/search-parse-error"
          }
        }
      },
      "required": [
        "valid"
      ]
    },
    "session-age": {
      "type": "integer",
      "description": "Subject age at time of session, in seconds"
    },
    "session-weight": {
      "type": "number",
      "description": "Subject weight at time of session, in kilograms"
    },
    "session-input": {
      "type": "object",
      "properties": {
        "operator": {
          "type": "string",
          "description": "The name of the operator"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "project": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "uid": {
          "type": "string",
          "description": "A user database ID"
        },
        "timestamp": {
          "$ref": "#/definitions/container-timestamp"
        },
        "timezone": {
          "type": "string"
        },
        "subject": {
          "$ref": "#/definitions/subject-input"
        },
        "age": {
          "$ref": "#/definitions/session-age"
        },
        "weight": {
          "$ref": "#/definitions/session-weight"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "session",
      "x-sdk-container-mixin": "session-mixin"
    },
    "session-metadata-input": {
      "type": "object",
      "properties": {
        "public": {
          "type": "boolean"
        },
        "label": {
          "type": "string"
        },
        "info": {
          "type": "object"
        },
        "operator": {
          "type": "string"
        },
        "uid": {
          "type": "string"
        },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        },
        "timezone": {
          "type": "string"
        },
        "subject": {
          "$ref": "#/definitions/subject-input"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "age": {
          "$ref": "#/definitions/session-age"
        },
        "weight": {
          "$ref": "#/definitions/session-weight"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-input"
          }
        }
      },
      "additionalProperties": false
    },
    "session-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 256,
          "description": "Application-specific label"
        },
        "info": {
          "$ref": "#/definitions/container-info"
        },
        "info_exists": {
          "type": "boolean",
          "description": "Flag that indicates whether or not info exists on this container"
        },
        "operator": {
          "type": "string",
          "description": "The name of the operator"
        },
        "project": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "parents": {
          "$ref": "#/definitions/container-parents"
        },
        "uid": {
          "type": "string",
          "description": "A user database ID"
        },
        "timestamp": {
          "$ref": "#/definitions/container-timestamp"
        },
        "timezone": {
          "type": "string"
        },
        "subject": {
          "$ref": "#/definitions/subject-output-default-required"
        },
        "age": {
          "$ref": "#/definitions/session-age"
        },
        "weight": {
          "$ref": "#/definitions/session-weight"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "permissions": {
          "$ref": "#/definitions/permission-output-list"
        },
        "group": {
          "type": "string",
          "maxLength": 64,
          "minLength": 2,
          "pattern": "^[0-9a-z][0-9a-z.@_-]{0,30}[0-9a-z]$"
        },
        "project_has_template": {
          "type": "boolean"
        },
        "satisfies_template": {
          "type": "boolean"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-output"
          }
        },
        "notes": {
          "$ref": "#/definitions/notes-list-output"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "analyses": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/analysis-output"
          }
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "session",
      "x-sdk-container-mixin": "session-mixin"
    },
    "session-jobs-output": {
      "type": "object",
      "properties": {
        "jobs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/job-output"
          }
        },
        "containers": {
          "type": "object",
          "additionalProperties": {
            "type": "object"
          }
        }
      },
      "additionalProperties": false
    },
    "session-template-recalc-output": {
      "type": "object",
      "properties": {
        "sessions_changed": {
          "type": "array",
          "items": {
            "allOf": [
              {
                "type": "string",
                "pattern": "^[a-fA-F0-9]{24}$",
                "description": "Unique database ID"
              }
            ]
          }
        }
      },
      "additionalProperties": false,
      "required": [
        "sessions_changed"
      ]
    },
    "signedurlmetadata-signed-url-metadata-input": {
      "type": "object",
      "properties": {
        "metadata": {
          "type": "object",
          "properties": {
            "inputs": {
              "type": "array",
              "items": {
                "$ref": "#/definitions/file-reference"
              },
              "description": "The set of inputs that this analysis is based on"
            },
            "description": {
              "type": "string"
            },
            "info": {
              "$ref": "#/definitions/container-info"
            },
            "label": {
              "type": "string",
              "minLength": 1,
              "maxLength": 256,
              "description": "Application-specific label"
            },
            "job": {
              "$ref": "#/definitions/job-input"
            },
            "compute_provider_id": {
              "type": "string",
              "pattern": "^[a-fA-F0-9]{24}$",
              "description": "Unique database ID"
            },
            "project": {
              "$ref": "#/definitions/project-metadata-input"
            },
            "subject": {
              "$ref": "#/definitions/subject-metadata-input"
            },
            "session": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/session-metadata-input"
                }
              ],
              "required": [
                "uid"
              ]
            },
            "acquisition": {
              "type": "object",
              "allOf": [
                {
                  "$ref": "#/definitions/enginemetadata-upload-acquisition-metadata-input"
                }
              ],
              "required": [
                "uid"
              ]
            },
            "group": {
              "type": "object",
              "properties": {},
              "allOf": [
                {
                  "$ref": "#/definitions/group-metadata-input"
                }
              ]
            }
          },
          "x-sdk-schema": {
            "$ref": "#/definitions/analysis-input-adhoc"
          }
        },
        "filename": {
          "type": "string"
        }
      },
      "required": [
        "metadata",
        "filename"
      ]
    },
    "subject-age": {
      "type": "integer",
      "description": "Age at time of session, in seconds"
    },
    "subject-sex": {
      "type": "string",
      "enum": [
        "male",
        "female",
        "other",
        "unknown"
      ]
    },
    "subject-cohort": {
      "type": "string",
      "enum": [
        "Control",
        "Study",
        "Training",
        "Test",
        "Validation"
      ]
    },
    "subject-type": {
      "type": "string",
      "enum": [
        "human",
        "animal",
        "phantom"
      ]
    },
    "subject-race": {
      "type": "string",
      "enum": [
        "American Indian or Alaska Native",
        "Asian",
        "Native Hawaiian or Other Pacific Islander",
        "Black or African American",
        "White",
        "More Than One Race",
        "Unknown or Not Reported"
      ]
    },
    "subject-ethnicity": {
      "type": "string",
      "enum": [
        "Not Hispanic or Latino",
        "Hispanic or Latino",
        "Unknown or Not Reported"
      ]
    },
    "subject-input": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "project": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "firstname": {
          "type": "string",
          "maxLength": 64,
          "description": "First name"
        },
        "lastname": {
          "type": "string",
          "maxLength": 64,
          "description": "Last name"
        },
        "age": {
          "$ref": "#/definitions/subject-age"
        },
        "sex": {
          "$ref": "#/definitions/subject-sex"
        },
        "cohort": {
          "$ref": "#/definitions/subject-cohort"
        },
        "type": {
          "$ref": "#/definitions/subject-type"
        },
        "race": {
          "$ref": "#/definitions/subject-race"
        },
        "ethnicity": {
          "$ref": "#/definitions/subject-ethnicity"
        },
        "species": {
          "type": "string"
        },
        "strain": {
          "type": "string"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "A unique identifier for the subject"
        },
        "code": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "A unique identifier for the subject"
        },
        "master_code": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "A unique identifier for the subject"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "info": {
          "$ref": "#/definitions/common-info"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-input"
          }
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "subject",
      "x-sdk-container-mixin": "subject-mixin"
    },
    "subject-metadata-input": {
      "type": "object",
      "properties": {
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "A unique identifier for the subject"
        },
        "code": {
          "type": "string"
        },
        "master_code": {
          "type": "string"
        },
        "info": {
          "type": "object"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-input"
          }
        }
      },
      "additionalProperties": false
    },
    "subject-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "project": {
          "type": "string",
          "pattern": "^[a-fA-F0-9]{24}$",
          "description": "Unique database ID"
        },
        "parents": {
          "$ref": "#/definitions/container-parents"
        },
        "label": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "A unique identifier for the subject"
        },
        "code": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "A unique identifier for the subject"
        },
        "master_code": {
          "type": "string",
          "minLength": 1,
          "maxLength": 64,
          "description": "A unique identifier for the subject"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        },
        "permissions": {
          "$ref": "#/definitions/permission-output-list"
        },
        "public": {
          "type": "boolean",
          "description": "Indicates whether or not a container is public"
        },
        "firstname": {
          "type": "string",
          "maxLength": 64,
          "description": "First name"
        },
        "lastname": {
          "type": "string",
          "maxLength": 64,
          "description": "Last name"
        },
        "age": {
          "$ref": "#/definitions/subject-age"
        },
        "sex": {
          "$ref": "#/definitions/subject-sex"
        },
        "cohort": {
          "$ref": "#/definitions/subject-cohort"
        },
        "type": {
          "$ref": "#/definitions/subject-type"
        },
        "race": {
          "$ref": "#/definitions/subject-race"
        },
        "ethnicity": {
          "$ref": "#/definitions/subject-ethnicity"
        },
        "species": {
          "type": "string"
        },
        "strain": {
          "type": "string"
        },
        "tags": {
          "$ref": "#/definitions/tag-list"
        },
        "notes": {
          "$ref": "#/definitions/notes-list-output"
        },
        "info": {
          "$ref": "#/definitions/common-info"
        },
        "info_exists": {
          "type": "boolean",
          "description": "Flag that indicates whether or not info exists on this container"
        },
        "files": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/file-output"
          }
        },
        "analyses": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/analysis-output"
          }
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "subject",
      "x-sdk-container-mixin": "subject-mixin"
    },
    "subject-output-default-required": {
      "allOf": [
        {
          "$ref": "#/definitions/subject-output"
        }
      ],
      "required": [
        "_id"
      ],
      "x-sdk-model": "subject",
      "x-sdk-container-mixin": "subject-mixin"
    },
    "tag": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "pattern": "^[^/]+$",
          "minLength": 1,
          "maxLength": 32,
          "x-sdk-positional": true
        }
      },
      "additionalProperties": false,
      "required": [
        "value"
      ]
    },
    "tag-list": {
      "type": "array",
      "items": {
        "allOf": [
          {
            "type": "string"
          }
        ]
      },
      "description": "Array of application-specific tags"
    },
    "tree-container-request-spec": {
      "type": "object",
      "properties": {
        "fields": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "The list of fields to include"
        },
        "filter": {
          "type": "string",
          "description": "The optional, comma-separated filter string"
        },
        "limit": {
          "type": "integer",
          "description": "The optional maximum number of children to include"
        },
        "sort": {
          "type": "string",
          "description": "The optional, comma-separated, sort specification"
        },
        "join-origin": {
          "type": "boolean",
          "description": "Whether or not to join file origins, default is false"
        }
      },
      "required": [
        "fields"
      ],
      "additionalProperties": {
        "$ref": "#/definitions/tree-container-request-spec"
      }
    },
    "tree-request": {
      "type": "object",
      "properties": {
        "groups": {
          "$ref": "#/definitions/tree-container-request-spec"
        },
        "projects": {
          "$ref": "#/definitions/tree-container-request-spec"
        },
        "subjects": {
          "$ref": "#/definitions/tree-container-request-spec"
        },
        "sessions": {
          "$ref": "#/definitions/tree-container-request-spec"
        },
        "acquisitions": {
          "$ref": "#/definitions/tree-container-request-spec"
        },
        "analyses": {
          "$ref": "#/definitions/tree-container-request-spec"
        },
        "jobs": {
          "$ref": "#/definitions/tree-container-request-spec"
        }
      },
      "additionalProperties": false
    },
    "tree-response-item": {
      "type": "object",
      "description": "Response varies based on selected container and fields"
    },
    "tree-graph-connection": {
      "type": "object",
      "properties": {
        "local": {
          "type": "string"
        },
        "foreign": {
          "type": "string"
        },
        "collection": {
          "type": "string"
        },
        "order": {
          "type": "string"
        }
      },
      "required": [
        "foreign"
      ],
      "additionalProperties": false
    },
    "tree-graph-connections": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/tree-graph-connection"
      }
    },
    "tree-graph-node": {
      "type": "object",
      "properties": {
        "connections": {
          "$ref": "#/definitions/tree-graph-connections"
        }
      },
      "required": [
        "connections"
      ],
      "additionalProperties": false
    },
    "tree-graph": {
      "type": "object",
      "additionalProperties": {
        "$ref": "#/definitions/tree-graph-node"
      }
    },
    "user-roles": {
      "type": "array",
      "items": {
        "type": "string",
        "description": "User's role on the site",
        "enum": [
          "site_admin",
          "developer",
          "user"
        ]
      }
    },
    "user-preferences": {
      "title": "Preferences",
      "type": "object"
    },
    "user-wechat": {},
    "user-api-key": {
      "type": "object",
      "properties": {
        "key": {
          "type": "string"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "last_used": {
          "$ref": "#/definitions/common-timestamp"
        }
      },
      "additionalProperties": false
    },
    "user-input": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "format": "email",
          "description": "Database ID of a user"
        },
        "firstname": {
          "maxLength": 64,
          "minLength": 1,
          "title": "First Name",
          "type": "string",
          "description": "First name"
        },
        "lastname": {
          "maxLength": 64,
          "minLength": 1,
          "title": "Last Name",
          "type": "string",
          "description": "Last name"
        },
        "email": {
          "format": "email",
          "title": "Email",
          "type": "string",
          "description": "Email address"
        },
        "avatar": {
          "format": "uri",
          "title": "Avatar",
          "type": "string",
          "description": "Avatar image URL"
        },
        "avatars": {
          "$ref": "#/definitions/avatars"
        },
        "roles": {
          "$ref": "#/definitions/user-roles"
        },
        "root": {
          "type": "boolean",
          "description": "Super admin flag"
        },
        "disabled": {
          "type": "boolean"
        },
        "preferences": {
          "$ref": "#/definitions/user-preferences"
        },
        "wechat": {
          "$ref": "#/definitions/user-wechat"
        },
        "firstlogin": {
          "type": "string"
        },
        "lastlogin": {
          "type": "string"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "user"
    },
    "user-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "format": "email",
          "description": "Database ID of a user"
        },
        "firstname": {
          "maxLength": 64,
          "minLength": 1,
          "title": "First Name",
          "type": "string",
          "description": "First name"
        },
        "lastname": {
          "maxLength": 64,
          "minLength": 1,
          "title": "Last Name",
          "type": "string",
          "description": "Last name"
        },
        "email": {
          "format": "email",
          "title": "Email",
          "type": "string",
          "description": "Email address"
        },
        "avatar": {
          "format": "uri",
          "title": "Avatar",
          "type": "string",
          "description": "Avatar image URL"
        },
        "avatars": {
          "$ref": "#/definitions/avatars"
        },
        "roles": {
          "$ref": "#/definitions/user-roles"
        },
        "root": {
          "type": "boolean",
          "description": "Super admin flag"
        },
        "disabled": {
          "type": "boolean"
        },
        "preferences": {
          "$ref": "#/definitions/user-preferences"
        },
        "wechat": {
          "$ref": "#/definitions/user-wechat"
        },
        "firstlogin": {
          "type": "string"
        },
        "lastlogin": {
          "type": "string"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "additionalProperties": false,
      "x-sdk-model": "user"
    },
    "user-output-api-key": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string",
          "format": "email",
          "description": "Database ID of a user"
        },
        "api_key": {
          "$ref": "#/definitions/user-api-key"
        },
        "firstname": {
          "maxLength": 64,
          "minLength": 1,
          "title": "First Name",
          "type": "string",
          "description": "First name"
        },
        "lastname": {
          "maxLength": 64,
          "minLength": 1,
          "title": "Last Name",
          "type": "string",
          "description": "Last name"
        },
        "email": {
          "format": "email",
          "title": "Email",
          "type": "string",
          "description": "Email address"
        },
        "avatar": {
          "format": "uri",
          "title": "Avatar",
          "type": "string",
          "description": "Avatar image URL"
        },
        "avatars": {
          "$ref": "#/definitions/avatars"
        },
        "roles": {
          "$ref": "#/definitions/user-roles"
        },
        "root": {
          "type": "boolean",
          "description": "Super admin flag"
        },
        "disabled": {
          "type": "boolean"
        },
        "preferences": {
          "$ref": "#/definitions/user-preferences"
        },
        "wechat": {
          "$ref": "#/definitions/user-wechat"
        },
        "firstlogin": {
          "type": "string"
        },
        "lastlogin": {
          "type": "string"
        },
        "created": {
          "type": "string",
          "format": "date-time",
          "description": "Creation time (automatically set)"
        },
        "modified": {
          "type": "string",
          "format": "date-time",
          "description": "Last modification time (automatically updated)"
        }
      },
      "additionalProperties": false,
      "required": [
        "_id",
        "firstname",
        "lastname",
        "roles",
        "email",
        "created",
        "modified"
      ],
      "x-sdk-model": "user"
    },
    "user-jobs-output": {
      "type": "object",
      "properties": {
        "stats": {
          "$ref": "#/definitions/job-stats-by-state"
        },
        "total": {
          "type": "integer"
        },
        "jobs": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/job-list-entry"
          }
        }
      }
    },
    "version-output": {
      "type": "object",
      "properties": {
        "_id": {
          "type": "string"
        },
        "applied_fixes": {
          "type": "object",
          "description": "Collection of applied database fixes",
          "additionalProperties": {
            "type": "string"
          }
        },
        "cli_version": {
          "type": "string",
          "description": "Compatible CLI version for this server as informed by the installation recipe.env"
        },
        "database": {
          "type": "integer",
          "description": "Core database version"
        },
        "flywheel_release": {
          "type": "string",
          "description": "Flywheel installer image tag as informed by the installation recipe.env"
        },
        "release": {
          "type": "string",
          "description": "Core release version"
        }
      },
      "required": [
        "_id",
        "database"
      ]
    }
  }
}